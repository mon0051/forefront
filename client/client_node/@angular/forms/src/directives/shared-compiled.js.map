{"version":3,"sources":["shared.js"],"names":[],"mappings":"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","file":"shared-compiled.js","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\"use strict\";\nvar collection_1 = require('../facade/collection');\nvar exceptions_1 = require('../facade/exceptions');\nvar lang_1 = require('../facade/lang');\nvar validators_1 = require('../validators');\nvar checkbox_value_accessor_1 = require('./checkbox_value_accessor');\nvar default_value_accessor_1 = require('./default_value_accessor');\nvar normalize_validator_1 = require('./normalize_validator');\nvar number_value_accessor_1 = require('./number_value_accessor');\nvar radio_control_value_accessor_1 = require('./radio_control_value_accessor');\nvar select_control_value_accessor_1 = require('./select_control_value_accessor');\nvar select_multiple_control_value_accessor_1 = require('./select_multiple_control_value_accessor');\nfunction controlPath(name, parent) {\n    var p = collection_1.ListWrapper.clone(parent.path);\n    p.push(name);\n    return p;\n}\nexports.controlPath = controlPath;\nfunction setUpControl(control, dir) {\n    if (lang_1.isBlank(control))\n        _throwError(dir, 'Cannot find control');\n    if (lang_1.isBlank(dir.valueAccessor))\n        _throwError(dir, 'No value accessor for');\n    control.validator = validators_1.Validators.compose([control.validator, dir.validator]);\n    control.asyncValidator = validators_1.Validators.composeAsync([control.asyncValidator, dir.asyncValidator]);\n    dir.valueAccessor.writeValue(control.value);\n    // view -> model\n    dir.valueAccessor.registerOnChange(function (newValue) {\n        dir.viewToModelUpdate(newValue);\n        control.updateValue(newValue, { emitModelToViewChange: false });\n        control.markAsDirty();\n    });\n    // model -> view\n    control.registerOnChange(function (newValue) { return dir.valueAccessor.writeValue(newValue); });\n    // touched\n    dir.valueAccessor.registerOnTouched(function () { return control.markAsTouched(); });\n}\nexports.setUpControl = setUpControl;\nfunction setUpFormContainer(control, dir) {\n    if (lang_1.isBlank(control))\n        _throwError(dir, 'Cannot find control');\n    control.validator = validators_1.Validators.compose([control.validator, dir.validator]);\n    control.asyncValidator = validators_1.Validators.composeAsync([control.asyncValidator, dir.asyncValidator]);\n}\nexports.setUpFormContainer = setUpFormContainer;\nfunction _throwError(dir, message) {\n    var path = dir.path.join(' -> ');\n    throw new exceptions_1.BaseException(message + \" '\" + path + \"'\");\n}\nfunction composeValidators(validators) {\n    return lang_1.isPresent(validators) ? validators_1.Validators.compose(validators.map(normalize_validator_1.normalizeValidator)) : null;\n}\nexports.composeValidators = composeValidators;\nfunction composeAsyncValidators(validators) {\n    return lang_1.isPresent(validators) ? validators_1.Validators.composeAsync(validators.map(normalize_validator_1.normalizeAsyncValidator)) :\n        null;\n}\nexports.composeAsyncValidators = composeAsyncValidators;\nfunction isPropertyUpdated(changes, viewModel) {\n    if (!collection_1.StringMapWrapper.contains(changes, 'model'))\n        return false;\n    var change = changes['model'];\n    if (change.isFirstChange())\n        return true;\n    return !lang_1.looseIdentical(viewModel, change.currentValue);\n}\nexports.isPropertyUpdated = isPropertyUpdated;\n// TODO: vsavkin remove it once https://github.com/angular/angular/issues/3011 is implemented\nfunction selectValueAccessor(dir, valueAccessors) {\n    if (lang_1.isBlank(valueAccessors))\n        return null;\n    var defaultAccessor;\n    var builtinAccessor;\n    var customAccessor;\n    valueAccessors.forEach(function (v) {\n        if (lang_1.hasConstructor(v, default_value_accessor_1.DefaultValueAccessor)) {\n            defaultAccessor = v;\n        }\n        else if (lang_1.hasConstructor(v, checkbox_value_accessor_1.CheckboxControlValueAccessor) || lang_1.hasConstructor(v, number_value_accessor_1.NumberValueAccessor) ||\n            lang_1.hasConstructor(v, select_control_value_accessor_1.SelectControlValueAccessor) ||\n            lang_1.hasConstructor(v, select_multiple_control_value_accessor_1.SelectMultipleControlValueAccessor) ||\n            lang_1.hasConstructor(v, radio_control_value_accessor_1.RadioControlValueAccessor)) {\n            if (lang_1.isPresent(builtinAccessor))\n                _throwError(dir, 'More than one built-in value accessor matches');\n            builtinAccessor = v;\n        }\n        else {\n            if (lang_1.isPresent(customAccessor))\n                _throwError(dir, 'More than one custom value accessor matches');\n            customAccessor = v;\n        }\n    });\n    if (lang_1.isPresent(customAccessor))\n        return customAccessor;\n    if (lang_1.isPresent(builtinAccessor))\n        return builtinAccessor;\n    if (lang_1.isPresent(defaultAccessor))\n        return defaultAccessor;\n    _throwError(dir, 'No valid value accessor for');\n    return null;\n}\nexports.selectValueAccessor = selectValueAccessor;\n//# sourceMappingURL=shared.js.map"]}