{"version":3,"sources":["ng_model.js"],"names":[],"mappings":"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","file":"ng_model-compiled.js","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar core_1 = require('@angular/core');\nvar async_1 = require('../facade/async');\nvar exceptions_1 = require('../facade/exceptions');\nvar model_1 = require('../model');\nvar validators_1 = require('../validators');\nvar control_container_1 = require('./control_container');\nvar control_value_accessor_1 = require('./control_value_accessor');\nvar ng_control_1 = require('./ng_control');\nvar shared_1 = require('./shared');\nexports.formControlBinding = \n/*@ts2dart_const*/ /* @ts2dart_Provider */ {\n    provide: ng_control_1.NgControl,\n    useExisting: core_1.forwardRef(function () { return NgModel; })\n};\nvar NgModel = (function (_super) {\n    __extends(NgModel, _super);\n    function NgModel(_parent, _validators, _asyncValidators, valueAccessors) {\n        _super.call(this);\n        this._parent = _parent;\n        this._validators = _validators;\n        this._asyncValidators = _asyncValidators;\n        /** @internal */\n        this._control = new model_1.FormControl();\n        /** @internal */\n        this._registered = false;\n        this.update = new async_1.EventEmitter();\n        this.valueAccessor = shared_1.selectValueAccessor(this, valueAccessors);\n    }\n    NgModel.prototype.ngOnChanges = function (changes) {\n        this._checkName();\n        if (!this._registered)\n            this._setUpControl();\n        if (shared_1.isPropertyUpdated(changes, this.viewModel)) {\n            this._updateValue(this.model);\n            this.viewModel = this.model;\n        }\n    };\n    NgModel.prototype.ngOnDestroy = function () { this.formDirective && this.formDirective.removeControl(this); };\n    Object.defineProperty(NgModel.prototype, \"control\", {\n        get: function () { return this._control; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NgModel.prototype, \"path\", {\n        get: function () {\n            return this._parent ? shared_1.controlPath(this.name, this._parent) : [];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NgModel.prototype, \"formDirective\", {\n        get: function () { return this._parent ? this._parent.formDirective : null; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NgModel.prototype, \"validator\", {\n        get: function () { return shared_1.composeValidators(this._validators); },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NgModel.prototype, \"asyncValidator\", {\n        get: function () {\n            return shared_1.composeAsyncValidators(this._asyncValidators);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    NgModel.prototype.viewToModelUpdate = function (newValue) {\n        this.viewModel = newValue;\n        async_1.ObservableWrapper.callEmit(this.update, newValue);\n    };\n    NgModel.prototype._setUpControl = function () {\n        this._isStandalone() ? this._setUpStandalone() :\n            this.formDirective.addControl(this);\n        this._registered = true;\n    };\n    NgModel.prototype._isStandalone = function () {\n        return !this._parent || (this.options && this.options.standalone);\n    };\n    NgModel.prototype._setUpStandalone = function () {\n        shared_1.setUpControl(this._control, this);\n        this._control.updateValueAndValidity({ emitEvent: false });\n    };\n    NgModel.prototype._checkName = function () {\n        if (this.options && this.options.name)\n            this.name = this.options.name;\n        if (!this._isStandalone() && !this.name) {\n            throw new exceptions_1.BaseException(\"If ngModel is used within a form tag, either the name attribute must be set\\n                      or the form control must be defined as 'standalone' in ngModelOptions.\\n\\n                      Example 1: <input [(ngModel)]=\\\"person.firstName\\\" name=\\\"first\\\">\\n                      Example 2: <input [(ngModel)]=\\\"person.firstName\\\" [ngModelOptions]=\\\"{standalone: true}\\\">\\n                   \");\n        }\n    };\n    NgModel.prototype._updateValue = function (value) {\n        var _this = this;\n        async_1.PromiseWrapper.scheduleMicrotask(function () { _this.control.updateValue(value); });\n    };\n    /** @nocollapse */\n    NgModel.decorators = [\n        { type: core_1.Directive, args: [{\n                    selector: '[ngModel]:not([formControlName]):not([formControl])',\n                    providers: [exports.formControlBinding],\n                    exportAs: 'ngModel'\n                },] },\n    ];\n    /** @nocollapse */\n    NgModel.ctorParameters = [\n        { type: control_container_1.ControlContainer, decorators: [{ type: core_1.Optional }, { type: core_1.Host },] },\n        { type: Array, decorators: [{ type: core_1.Optional }, { type: core_1.Self }, { type: core_1.Inject, args: [validators_1.NG_VALIDATORS,] },] },\n        { type: Array, decorators: [{ type: core_1.Optional }, { type: core_1.Self }, { type: core_1.Inject, args: [validators_1.NG_ASYNC_VALIDATORS,] },] },\n        { type: Array, decorators: [{ type: core_1.Optional }, { type: core_1.Self }, { type: core_1.Inject, args: [control_value_accessor_1.NG_VALUE_ACCESSOR,] },] },\n    ];\n    /** @nocollapse */\n    NgModel.propDecorators = {\n        'model': [{ type: core_1.Input, args: ['ngModel',] },],\n        'name': [{ type: core_1.Input },],\n        'options': [{ type: core_1.Input, args: ['ngModelOptions',] },],\n        'update': [{ type: core_1.Output, args: ['ngModelChange',] },],\n    };\n    return NgModel;\n}(ng_control_1.NgControl));\nexports.NgModel = NgModel;\n//# sourceMappingURL=ng_model.js.map"]}