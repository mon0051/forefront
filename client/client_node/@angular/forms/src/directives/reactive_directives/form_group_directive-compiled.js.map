{"version":3,"sources":["form_group_directive.js"],"names":[],"mappings":"AAAA;;;;;;;AAOA;;AACA,IAAI,YAAa,aAAQ,UAAK,SAAd,IAA4B,UAAU,CAAV,EAAa,CAAb,EAAgB;AACxD,SAAK,IAAI,CAAT,IAAc,CAAd;AAAiB,YAAI,EAAE,cAAF,CAAiB,CAAjB,CAAJ,EAAyB,EAAE,CAAF,IAAO,EAAE,CAAF,CAAP;AAA1C,KACA,SAAS,EAAT,GAAc;AAAE,aAAK,WAAL,GAAmB,CAAnB;AAAuB;AACvC,MAAE,SAAF,GAAc,MAAM,IAAN,GAAa,OAAO,MAAP,CAAc,CAAd,CAAb,IAAiC,GAAG,SAAH,GAAe,EAAE,SAAjB,EAA4B,IAAI,EAAJ,EAA7D,CAAd;AACH,CAJD;AAKA,IAAI,SAAS,QAAQ,eAAR,CAAb;AACA,IAAI,UAAU,QAAQ,oBAAR,CAAd;AACA,IAAI,eAAe,QAAQ,yBAAR,CAAnB;AACA,IAAI,eAAe,QAAQ,yBAAR,CAAnB;AACA,IAAI,SAAS,QAAQ,mBAAR,CAAb;AACA,IAAI,eAAe,QAAQ,kBAAR,CAAnB;AACA,IAAI,sBAAsB,QAAQ,sBAAR,CAA1B;AACA,IAAI,WAAW,QAAQ,WAAR,CAAf;AACA,QAAQ,qBAAR;AACA,kBADA,CACmB,uBAAwB;AACvC,aAAS,oBAAoB,gBADU;AAEvC,iBAAa,OAAO,UAAP,CAAkB,YAAY;AAAE,eAAO,kBAAP;AAA4B,KAA5D;AAF0B,CAD3C;AAKA,IAAI,qBAAsB,UAAU,MAAV,EAAkB;AACxC,cAAU,kBAAV,EAA8B,MAA9B;AACA,aAAS,kBAAT,CAA4B,WAA5B,EAAyC,gBAAzC,EAA2D;AACvD,eAAO,IAAP,CAAY,IAAZ;AACA,aAAK,WAAL,GAAmB,WAAnB;AACA,aAAK,gBAAL,GAAwB,gBAAxB;AACA,aAAK,UAAL,GAAkB,KAAlB;AACA,aAAK,UAAL,GAAkB,EAAlB;AACA,aAAK,IAAL,GAAY,IAAZ;AACA,aAAK,QAAL,GAAgB,IAAI,QAAQ,YAAZ,EAAhB;AACH;AACD,uBAAmB,SAAnB,CAA6B,WAA7B,GAA2C,UAAU,OAAV,EAAmB;AAC1D,aAAK,iBAAL;AACA,YAAI,aAAa,gBAAb,CAA8B,QAA9B,CAAuC,OAAvC,EAAgD,MAAhD,CAAJ,EAA6D;AACzD,gBAAI,OAAO,SAAS,iBAAT,CAA2B,KAAK,WAAhC,CAAX;AACA,iBAAK,IAAL,CAAU,SAAV,GAAsB,aAAa,UAAb,CAAwB,OAAxB,CAAgC,CAAC,KAAK,IAAL,CAAU,SAAX,EAAsB,IAAtB,CAAhC,CAAtB;AACA,gBAAI,QAAQ,SAAS,sBAAT,CAAgC,KAAK,gBAArC,CAAZ;AACA,iBAAK,IAAL,CAAU,cAAV,GAA2B,aAAa,UAAb,CAAwB,YAAxB,CAAqC,CAAC,KAAK,IAAL,CAAU,cAAX,EAA2B,KAA3B,CAArC,CAA3B;AACA,iBAAK,IAAL,CAAU,sBAAV,CAAiC,EAAE,UAAU,IAAZ,EAAkB,WAAW,KAA7B,EAAjC;AACH;AACD,aAAK,eAAL;AACH,KAVD;AAWA,WAAO,cAAP,CAAsB,mBAAmB,SAAzC,EAAoD,WAApD,EAAiE;AAC7D,aAAK,eAAY;AAAE,mBAAO,KAAK,UAAZ;AAAyB,SADiB;AAE7D,oBAAY,IAFiD;AAG7D,sBAAc;AAH+C,KAAjE;AAKA,WAAO,cAAP,CAAsB,mBAAmB,SAAzC,EAAoD,eAApD,EAAqE;AACjE,aAAK,eAAY;AAAE,mBAAO,IAAP;AAAc,SADgC;AAEjE,oBAAY,IAFqD;AAGjE,sBAAc;AAHmD,KAArE;AAKA,WAAO,cAAP,CAAsB,mBAAmB,SAAzC,EAAoD,SAApD,EAA+D;AAC3D,aAAK,eAAY;AAAE,mBAAO,KAAK,IAAZ;AAAmB,SADqB;AAE3D,oBAAY,IAF+C;AAG3D,sBAAc;AAH6C,KAA/D;AAKA,WAAO,cAAP,CAAsB,mBAAmB,SAAzC,EAAoD,MAApD,EAA4D;AACxD,aAAK,eAAY;AAAE,mBAAO,EAAP;AAAY,SADyB;AAExD,oBAAY,IAF4C;AAGxD,sBAAc;AAH0C,KAA5D;AAKA,uBAAmB,SAAnB,CAA6B,UAA7B,GAA0C,UAAU,GAAV,EAAe;AACrD,YAAI,OAAO,KAAK,IAAL,CAAU,IAAV,CAAe,IAAI,IAAnB,CAAX;AACA,iBAAS,YAAT,CAAsB,IAAtB,EAA4B,GAA5B;AACA,aAAK,sBAAL,CAA4B,EAAE,WAAW,KAAb,EAA5B;AACA,aAAK,UAAL,CAAgB,IAAhB,CAAqB,GAArB;AACH,KALD;AAMA,uBAAmB,SAAnB,CAA6B,UAA7B,GAA0C,UAAU,GAAV,EAAe;AAAE,eAAO,KAAK,IAAL,CAAU,IAAV,CAAe,IAAI,IAAnB,CAAP;AAAkC,KAA7F;AACA,uBAAmB,SAAnB,CAA6B,aAA7B,GAA6C,UAAU,GAAV,EAAe;AAAE,qBAAa,WAAb,CAAyB,MAAzB,CAAgC,KAAK,UAArC,EAAiD,GAAjD;AAAwD,KAAtH;AACA,uBAAmB,SAAnB,CAA6B,YAA7B,GAA4C,UAAU,GAAV,EAAe;AACvD,YAAI,OAAO,KAAK,IAAL,CAAU,IAAV,CAAe,IAAI,IAAnB,CAAX;AACA,iBAAS,kBAAT,CAA4B,IAA5B,EAAkC,GAAlC;AACA,aAAK,sBAAL,CAA4B,EAAE,WAAW,KAAb,EAA5B;AACH,KAJD;AAKA,uBAAmB,SAAnB,CAA6B,eAA7B,GAA+C,UAAU,GAAV,EAAe,CAAG,CAAjE;AACA,uBAAmB,SAAnB,CAA6B,YAA7B,GAA4C,UAAU,GAAV,EAAe;AAAE,eAAO,KAAK,IAAL,CAAU,IAAV,CAAe,IAAI,IAAnB,CAAP;AAAkC,KAA/F;AACA,uBAAmB,SAAnB,CAA6B,YAA7B,GAA4C,UAAU,GAAV,EAAe;AACvD,YAAI,OAAO,KAAK,IAAL,CAAU,IAAV,CAAe,IAAI,IAAnB,CAAX;AACA,iBAAS,kBAAT,CAA4B,IAA5B,EAAkC,GAAlC;AACA,aAAK,sBAAL,CAA4B,EAAE,WAAW,KAAb,EAA5B;AACH,KAJD;AAKA,uBAAmB,SAAnB,CAA6B,eAA7B,GAA+C,UAAU,GAAV,EAAe,CAAG,CAAjE;AACA,uBAAmB,SAAnB,CAA6B,YAA7B,GAA4C,UAAU,GAAV,EAAe;AAAE,eAAO,KAAK,IAAL,CAAU,IAAV,CAAe,IAAI,IAAnB,CAAP;AAAkC,KAA/F;AACA,uBAAmB,SAAnB,CAA6B,WAA7B,GAA2C,UAAU,GAAV,EAAe,KAAf,EAAsB;AAC7D,YAAI,OAAO,KAAK,IAAL,CAAU,IAAV,CAAe,IAAI,IAAnB,CAAX;AACA,aAAK,WAAL,CAAiB,KAAjB;AACH,KAHD;AAIA,uBAAmB,SAAnB,CAA6B,QAA7B,GAAwC,YAAY;AAChD,aAAK,UAAL,GAAkB,IAAlB;AACA,gBAAQ,iBAAR,CAA0B,QAA1B,CAAmC,KAAK,QAAxC,EAAkD,IAAlD;AACA,eAAO,KAAP;AACH,KAJD;AAKA;AACA,uBAAmB,SAAnB,CAA6B,eAA7B,GAA+C,YAAY;AACvD,YAAI,QAAQ,IAAZ;AACA,aAAK,UAAL,CAAgB,OAAhB,CAAwB,UAAU,GAAV,EAAe;AACnC,gBAAI,OAAO,MAAM,IAAN,CAAW,IAAX,CAAgB,IAAI,IAApB,CAAX;AACA,gBAAI,aAAJ,CAAkB,UAAlB,CAA6B,KAAK,KAAlC;AACH,SAHD;AAIH,KAND;AAOA,uBAAmB,SAAnB,CAA6B,iBAA7B,GAAiD,YAAY;AACzD,YAAI,OAAO,OAAP,CAAe,KAAK,IAApB,CAAJ,EAA+B;AAC3B,kBAAM,IAAI,aAAa,aAAjB,CAA+B,6HAA/B,CAAN;AACH;AACJ,KAJD;AAKA;AACA,uBAAmB,UAAnB,GAAgC,CAC5B,EAAE,MAAM,OAAO,SAAf,EAA0B,MAAM,CAAC;AACrB,sBAAU,aADW;AAErB,uBAAW,CAAC,QAAQ,qBAAT,CAFU;AAGrB,kBAAM,EAAE,YAAY,YAAd,EAHe;AAIrB,sBAAU;AAJW,SAAD,CAAhC,EAD4B,CAAhC;AAQA;AACA,uBAAmB,cAAnB,GAAoC,CAChC,EAAE,MAAM,KAAR,EAAe,YAAY,CAAC,EAAE,MAAM,OAAO,QAAf,EAAD,EAA4B,EAAE,MAAM,OAAO,IAAf,EAA5B,EAAmD,EAAE,MAAM,OAAO,MAAf,EAAuB,MAAM,CAAC,aAAa,aAAd,CAA7B,EAAnD,CAA3B,EADgC,EAEhC,EAAE,MAAM,KAAR,EAAe,YAAY,CAAC,EAAE,MAAM,OAAO,QAAf,EAAD,EAA4B,EAAE,MAAM,OAAO,IAAf,EAA5B,EAAmD,EAAE,MAAM,OAAO,MAAf,EAAuB,MAAM,CAAC,aAAa,mBAAd,CAA7B,EAAnD,CAA3B,EAFgC,CAApC;AAIA;AACA,uBAAmB,cAAnB,GAAoC;AAChC,gBAAQ,CAAC,EAAE,MAAM,OAAO,KAAf,EAAsB,MAAM,CAAC,WAAD,CAA5B,EAAD,CADwB;AAEhC,oBAAY,CAAC,EAAE,MAAM,OAAO,MAAf,EAAD;AAFoB,KAApC;AAIA,WAAO,kBAAP;AACH,CA1GyB,CA0GxB,oBAAoB,gBA1GI,CAA1B;AA2GA,QAAQ,kBAAR,GAA6B,kBAA7B;AACA","file":"form_group_directive-compiled.js","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar core_1 = require('@angular/core');\nvar async_1 = require('../../facade/async');\nvar collection_1 = require('../../facade/collection');\nvar exceptions_1 = require('../../facade/exceptions');\nvar lang_1 = require('../../facade/lang');\nvar validators_1 = require('../../validators');\nvar control_container_1 = require('../control_container');\nvar shared_1 = require('../shared');\nexports.formDirectiveProvider = \n/*@ts2dart_const*/ /* @ts2dart_Provider */ {\n    provide: control_container_1.ControlContainer,\n    useExisting: core_1.forwardRef(function () { return FormGroupDirective; })\n};\nvar FormGroupDirective = (function (_super) {\n    __extends(FormGroupDirective, _super);\n    function FormGroupDirective(_validators, _asyncValidators) {\n        _super.call(this);\n        this._validators = _validators;\n        this._asyncValidators = _asyncValidators;\n        this._submitted = false;\n        this.directives = [];\n        this.form = null;\n        this.ngSubmit = new async_1.EventEmitter();\n    }\n    FormGroupDirective.prototype.ngOnChanges = function (changes) {\n        this._checkFormPresent();\n        if (collection_1.StringMapWrapper.contains(changes, 'form')) {\n            var sync = shared_1.composeValidators(this._validators);\n            this.form.validator = validators_1.Validators.compose([this.form.validator, sync]);\n            var async = shared_1.composeAsyncValidators(this._asyncValidators);\n            this.form.asyncValidator = validators_1.Validators.composeAsync([this.form.asyncValidator, async]);\n            this.form.updateValueAndValidity({ onlySelf: true, emitEvent: false });\n        }\n        this._updateDomValue();\n    };\n    Object.defineProperty(FormGroupDirective.prototype, \"submitted\", {\n        get: function () { return this._submitted; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FormGroupDirective.prototype, \"formDirective\", {\n        get: function () { return this; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FormGroupDirective.prototype, \"control\", {\n        get: function () { return this.form; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FormGroupDirective.prototype, \"path\", {\n        get: function () { return []; },\n        enumerable: true,\n        configurable: true\n    });\n    FormGroupDirective.prototype.addControl = function (dir) {\n        var ctrl = this.form.find(dir.path);\n        shared_1.setUpControl(ctrl, dir);\n        ctrl.updateValueAndValidity({ emitEvent: false });\n        this.directives.push(dir);\n    };\n    FormGroupDirective.prototype.getControl = function (dir) { return this.form.find(dir.path); };\n    FormGroupDirective.prototype.removeControl = function (dir) { collection_1.ListWrapper.remove(this.directives, dir); };\n    FormGroupDirective.prototype.addFormGroup = function (dir) {\n        var ctrl = this.form.find(dir.path);\n        shared_1.setUpFormContainer(ctrl, dir);\n        ctrl.updateValueAndValidity({ emitEvent: false });\n    };\n    FormGroupDirective.prototype.removeFormGroup = function (dir) { };\n    FormGroupDirective.prototype.getFormGroup = function (dir) { return this.form.find(dir.path); };\n    FormGroupDirective.prototype.addFormArray = function (dir) {\n        var ctrl = this.form.find(dir.path);\n        shared_1.setUpFormContainer(ctrl, dir);\n        ctrl.updateValueAndValidity({ emitEvent: false });\n    };\n    FormGroupDirective.prototype.removeFormArray = function (dir) { };\n    FormGroupDirective.prototype.getFormArray = function (dir) { return this.form.find(dir.path); };\n    FormGroupDirective.prototype.updateModel = function (dir, value) {\n        var ctrl = this.form.find(dir.path);\n        ctrl.updateValue(value);\n    };\n    FormGroupDirective.prototype.onSubmit = function () {\n        this._submitted = true;\n        async_1.ObservableWrapper.callEmit(this.ngSubmit, null);\n        return false;\n    };\n    /** @internal */\n    FormGroupDirective.prototype._updateDomValue = function () {\n        var _this = this;\n        this.directives.forEach(function (dir) {\n            var ctrl = _this.form.find(dir.path);\n            dir.valueAccessor.writeValue(ctrl.value);\n        });\n    };\n    FormGroupDirective.prototype._checkFormPresent = function () {\n        if (lang_1.isBlank(this.form)) {\n            throw new exceptions_1.BaseException(\"formGroup expects a FormGroup instance. Please pass one in.\\n           Example: <form [formGroup]=\\\"myFormGroup\\\">\\n      \");\n        }\n    };\n    /** @nocollapse */\n    FormGroupDirective.decorators = [\n        { type: core_1.Directive, args: [{\n                    selector: '[formGroup]',\n                    providers: [exports.formDirectiveProvider],\n                    host: { '(submit)': 'onSubmit()' },\n                    exportAs: 'ngForm'\n                },] },\n    ];\n    /** @nocollapse */\n    FormGroupDirective.ctorParameters = [\n        { type: Array, decorators: [{ type: core_1.Optional }, { type: core_1.Self }, { type: core_1.Inject, args: [validators_1.NG_VALIDATORS,] },] },\n        { type: Array, decorators: [{ type: core_1.Optional }, { type: core_1.Self }, { type: core_1.Inject, args: [validators_1.NG_ASYNC_VALIDATORS,] },] },\n    ];\n    /** @nocollapse */\n    FormGroupDirective.propDecorators = {\n        'form': [{ type: core_1.Input, args: ['formGroup',] },],\n        'ngSubmit': [{ type: core_1.Output },],\n    };\n    return FormGroupDirective;\n}(control_container_1.ControlContainer));\nexports.FormGroupDirective = FormGroupDirective;\n//# sourceMappingURL=form_group_directive.js.map"]}