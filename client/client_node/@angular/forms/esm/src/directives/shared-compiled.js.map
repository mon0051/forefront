{"version":3,"sources":["shared.js"],"names":[],"mappings":"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","file":"shared-compiled.js","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport { ListWrapper, StringMapWrapper } from '../facade/collection';\nimport { BaseException } from '../facade/exceptions';\nimport { hasConstructor, isBlank, isPresent, looseIdentical } from '../facade/lang';\nimport { Validators } from '../validators';\nimport { CheckboxControlValueAccessor } from './checkbox_value_accessor';\nimport { DefaultValueAccessor } from './default_value_accessor';\nimport { normalizeAsyncValidator, normalizeValidator } from './normalize_validator';\nimport { NumberValueAccessor } from './number_value_accessor';\nimport { RadioControlValueAccessor } from './radio_control_value_accessor';\nimport { SelectControlValueAccessor } from './select_control_value_accessor';\nimport { SelectMultipleControlValueAccessor } from './select_multiple_control_value_accessor';\nexport function controlPath(name, parent) {\n    var p = ListWrapper.clone(parent.path);\n    p.push(name);\n    return p;\n}\nexport function setUpControl(control, dir) {\n    if (isBlank(control))\n        _throwError(dir, 'Cannot find control');\n    if (isBlank(dir.valueAccessor))\n        _throwError(dir, 'No value accessor for');\n    control.validator = Validators.compose([control.validator, dir.validator]);\n    control.asyncValidator = Validators.composeAsync([control.asyncValidator, dir.asyncValidator]);\n    dir.valueAccessor.writeValue(control.value);\n    // view -> model\n    dir.valueAccessor.registerOnChange((newValue) => {\n        dir.viewToModelUpdate(newValue);\n        control.updateValue(newValue, { emitModelToViewChange: false });\n        control.markAsDirty();\n    });\n    // model -> view\n    control.registerOnChange((newValue) => dir.valueAccessor.writeValue(newValue));\n    // touched\n    dir.valueAccessor.registerOnTouched(() => control.markAsTouched());\n}\nexport function setUpFormContainer(control, dir) {\n    if (isBlank(control))\n        _throwError(dir, 'Cannot find control');\n    control.validator = Validators.compose([control.validator, dir.validator]);\n    control.asyncValidator = Validators.composeAsync([control.asyncValidator, dir.asyncValidator]);\n}\nfunction _throwError(dir, message) {\n    var path = dir.path.join(' -> ');\n    throw new BaseException(`${message} '${path}'`);\n}\nexport function composeValidators(validators) {\n    return isPresent(validators) ? Validators.compose(validators.map(normalizeValidator)) : null;\n}\nexport function composeAsyncValidators(validators) {\n    return isPresent(validators) ? Validators.composeAsync(validators.map(normalizeAsyncValidator)) :\n        null;\n}\nexport function isPropertyUpdated(changes, viewModel) {\n    if (!StringMapWrapper.contains(changes, 'model'))\n        return false;\n    var change = changes['model'];\n    if (change.isFirstChange())\n        return true;\n    return !looseIdentical(viewModel, change.currentValue);\n}\n// TODO: vsavkin remove it once https://github.com/angular/angular/issues/3011 is implemented\nexport function selectValueAccessor(dir, valueAccessors) {\n    if (isBlank(valueAccessors))\n        return null;\n    var defaultAccessor;\n    var builtinAccessor;\n    var customAccessor;\n    valueAccessors.forEach((v) => {\n        if (hasConstructor(v, DefaultValueAccessor)) {\n            defaultAccessor = v;\n        }\n        else if (hasConstructor(v, CheckboxControlValueAccessor) || hasConstructor(v, NumberValueAccessor) ||\n            hasConstructor(v, SelectControlValueAccessor) ||\n            hasConstructor(v, SelectMultipleControlValueAccessor) ||\n            hasConstructor(v, RadioControlValueAccessor)) {\n            if (isPresent(builtinAccessor))\n                _throwError(dir, 'More than one built-in value accessor matches');\n            builtinAccessor = v;\n        }\n        else {\n            if (isPresent(customAccessor))\n                _throwError(dir, 'More than one custom value accessor matches');\n            customAccessor = v;\n        }\n    });\n    if (isPresent(customAccessor))\n        return customAccessor;\n    if (isPresent(builtinAccessor))\n        return builtinAccessor;\n    if (isPresent(defaultAccessor))\n        return defaultAccessor;\n    _throwError(dir, 'No valid value accessor for');\n    return null;\n}\n//# sourceMappingURL=shared.js.map"]}