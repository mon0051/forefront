{"version":3,"sources":["browser_jsonp.js"],"names":[],"mappings":"AAAA;;;;;;;AAOA;;AACA,IAAI,SAAS,QAAQ,eAAR,CAAb;AACA,IAAI,SAAS,QAAQ,gBAAR,CAAb;AACA,IAAI,iBAAiB,CAArB;AACA,QAAQ,UAAR,GAAqB,cAArB;AACA,IAAI,oBAAoB,IAAxB;AACA,SAAS,oBAAT,GAAgC;AAC5B,QAAI,sBAAsB,IAA1B,EAAgC;AAC5B,4BAAoB,OAAO,MAAP,CAAc,QAAQ,UAAtB,IAAoC,EAAxD;AACH;AACD,WAAO,iBAAP;AACH;AACD,IAAI,eAAgB,YAAY;AAC5B,aAAS,YAAT,GAAwB,CACvB;AACD;AACA,iBAAa,SAAb,CAAuB,KAAvB,GAA+B,UAAU,GAAV,EAAe;AAC1C,YAAI,OAAO,SAAS,aAAT,CAAuB,QAAvB,CAAX;AACA,aAAK,GAAL,GAAW,GAAX;AACA,eAAO,IAAP;AACH,KAJD;AAKA,iBAAa,SAAb,CAAuB,aAAvB,GAAuC,YAAY;AAAE,eAAO,UAAU,gBAAjB;AAAoC,KAAzF;AACA,iBAAa,SAAb,CAAuB,eAAvB,GAAyC,UAAU,EAAV,EAAc;AAAE,eAAO,QAAQ,UAAR,GAAqB,GAArB,GAA2B,EAA3B,GAAgC,WAAvC;AAAqD,KAA9G;AACA,iBAAa,SAAb,CAAuB,gBAAvB,GAA0C,UAAU,EAAV,EAAc,UAAd,EAA0B;AAChE,YAAI,cAAc,sBAAlB;AACA,oBAAY,EAAZ,IAAkB,UAAlB;AACH,KAHD;AAIA,iBAAa,SAAb,CAAuB,gBAAvB,GAA0C,UAAU,EAAV,EAAc;AACpD,YAAI,cAAc,sBAAlB;AACA,oBAAY,EAAZ,IAAkB,IAAlB;AACH,KAHD;AAIA;AACA,iBAAa,SAAb,CAAuB,IAAvB,GAA8B,UAAU,IAAV,EAAgB;AAAE,iBAAS,IAAT,CAAc,WAAd,CAA2B,IAA3B;AAAoC,KAApF;AACA;AACA,iBAAa,SAAb,CAAuB,OAAvB,GAAiC,UAAU,IAAV,EAAgB;AAC7C,YAAI,KAAK,UAAT,EAAqB;AACjB,iBAAK,UAAL,CAAgB,WAAhB,CAA6B,IAA7B;AACH;AACJ,KAJD;AAKA;AACA,iBAAa,UAAb,GAA0B,CACtB,EAAE,MAAM,OAAO,UAAf,EADsB,CAA1B;AAGA,WAAO,YAAP;AACH,CAhCmB,EAApB;AAiCA,QAAQ,YAAR,GAAuB,YAAvB;AACA","file":"browser_jsonp-compiled.js","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\"use strict\";\nvar core_1 = require('@angular/core');\nvar lang_1 = require('../facade/lang');\nvar _nextRequestId = 0;\nexports.JSONP_HOME = '__ng_jsonp__';\nvar _jsonpConnections = null;\nfunction _getJsonpConnections() {\n    if (_jsonpConnections === null) {\n        _jsonpConnections = lang_1.global[exports.JSONP_HOME] = {};\n    }\n    return _jsonpConnections;\n}\nvar BrowserJsonp = (function () {\n    function BrowserJsonp() {\n    }\n    // Construct a <script> element with the specified URL\n    BrowserJsonp.prototype.build = function (url) {\n        var node = document.createElement('script');\n        node.src = url;\n        return node;\n    };\n    BrowserJsonp.prototype.nextRequestID = function () { return \"__req\" + _nextRequestId++; };\n    BrowserJsonp.prototype.requestCallback = function (id) { return exports.JSONP_HOME + \".\" + id + \".finished\"; };\n    BrowserJsonp.prototype.exposeConnection = function (id, connection) {\n        var connections = _getJsonpConnections();\n        connections[id] = connection;\n    };\n    BrowserJsonp.prototype.removeConnection = function (id) {\n        var connections = _getJsonpConnections();\n        connections[id] = null;\n    };\n    // Attach the <script> element to the DOM\n    BrowserJsonp.prototype.send = function (node) { document.body.appendChild((node)); };\n    // Remove <script> element from the DOM\n    BrowserJsonp.prototype.cleanup = function (node) {\n        if (node.parentNode) {\n            node.parentNode.removeChild((node));\n        }\n    };\n    /** @nocollapse */\n    BrowserJsonp.decorators = [\n        { type: core_1.Injectable },\n    ];\n    return BrowserJsonp;\n}());\nexports.BrowserJsonp = BrowserJsonp;\n//# sourceMappingURL=browser_jsonp.js.map"]}