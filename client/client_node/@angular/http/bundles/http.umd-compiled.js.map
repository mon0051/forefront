{"version":3,"sources":["http.umd.js"],"names":[],"mappings":"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","file":"http.umd-compiled.js","sourcesContent":["/**\n * @license Angular 2.0.0-rc.4\n * (c) 2010-2016 Google, Inc. https://angular.io/\n * License: MIT\n */\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('rxjs/Observable'), require('@angular/platform-browser')) :\n        typeof define === 'function' && define.amd ? define(['exports', '@angular/core', 'rxjs/Observable', '@angular/platform-browser'], factory) :\n            (factory((global.ng = global.ng || {}, global.ng.http = global.ng.http || {}), global.ng.core, global.Rx, global.ng.platformBrowser));\n}(this, function (exports, _angular_core, rxjs_Observable, _angular_platformBrowser) {\n    'use strict';\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var globalScope;\n    if (typeof window === 'undefined') {\n        if (typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope) {\n            // TODO: Replace any with WorkerGlobalScope from lib.webworker.d.ts #3492\n            globalScope = self;\n        }\n        else {\n            globalScope = global;\n        }\n    }\n    else {\n        globalScope = window;\n    }\n    // Need to declare a new variable for global here since TypeScript\n    // exports the original value of the symbol.\n    var global$1 = globalScope;\n    // TODO: remove calls to assert in production environment\n    // Note: Can't just export this and import in in other files\n    // as `assert` is a reserved keyword in Dart\n    global$1.assert = function assert(condition) {\n        // TODO: to be fixed properly via #2830, noop for now\n    };\n    function isPresent(obj) {\n        return obj !== undefined && obj !== null;\n    }\n    function isBlank(obj) {\n        return obj === undefined || obj === null;\n    }\n    function isString(obj) {\n        return typeof obj === 'string';\n    }\n    function isArray(obj) {\n        return Array.isArray(obj);\n    }\n    var StringWrapper = (function () {\n        function StringWrapper() {\n        }\n        StringWrapper.fromCharCode = function (code) { return String.fromCharCode(code); };\n        StringWrapper.charCodeAt = function (s, index) { return s.charCodeAt(index); };\n        StringWrapper.split = function (s, regExp) { return s.split(regExp); };\n        StringWrapper.equals = function (s, s2) { return s === s2; };\n        StringWrapper.stripLeft = function (s, charVal) {\n            if (s && s.length) {\n                var pos = 0;\n                for (var i = 0; i < s.length; i++) {\n                    if (s[i] != charVal)\n                        break;\n                    pos++;\n                }\n                s = s.substring(pos);\n            }\n            return s;\n        };\n        StringWrapper.stripRight = function (s, charVal) {\n            if (s && s.length) {\n                var pos = s.length;\n                for (var i = s.length - 1; i >= 0; i--) {\n                    if (s[i] != charVal)\n                        break;\n                    pos--;\n                }\n                s = s.substring(0, pos);\n            }\n            return s;\n        };\n        StringWrapper.replace = function (s, from, replace) {\n            return s.replace(from, replace);\n        };\n        StringWrapper.replaceAll = function (s, from, replace) {\n            return s.replace(from, replace);\n        };\n        StringWrapper.slice = function (s, from, to) {\n            if (from === void 0) { from = 0; }\n            if (to === void 0) { to = null; }\n            return s.slice(from, to === null ? undefined : to);\n        };\n        StringWrapper.replaceAllMapped = function (s, from, cb) {\n            return s.replace(from, function () {\n                var matches = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    matches[_i - 0] = arguments[_i];\n                }\n                // Remove offset & string from the result array\n                matches.splice(-2, 2);\n                // The callback receives match, p1, ..., pn\n                return cb(matches);\n            });\n        };\n        StringWrapper.contains = function (s, substr) { return s.indexOf(substr) != -1; };\n        StringWrapper.compare = function (a, b) {\n            if (a < b) {\n                return -1;\n            }\n            else if (a > b) {\n                return 1;\n            }\n            else {\n                return 0;\n            }\n        };\n        return StringWrapper;\n    }());\n    function isJsObject(o) {\n        return o !== null && (typeof o === 'function' || typeof o === 'object');\n    }\n    // Can't be all uppercase as our transpiler would think it is a special directive...\n    var Json = (function () {\n        function Json() {\n        }\n        Json.parse = function (s) { return global$1.JSON.parse(s); };\n        Json.stringify = function (data) {\n            // Dart doesn't take 3 arguments\n            return global$1.JSON.stringify(data, null, 2);\n        };\n        return Json;\n    }());\n    var _symbolIterator = null;\n    function getSymbolIterator() {\n        if (isBlank(_symbolIterator)) {\n            if (isPresent(globalScope.Symbol) && isPresent(Symbol.iterator)) {\n                _symbolIterator = Symbol.iterator;\n            }\n            else {\n                // es6-shim specific logic\n                var keys = Object.getOwnPropertyNames(Map.prototype);\n                for (var i = 0; i < keys.length; ++i) {\n                    var key = keys[i];\n                    if (key !== 'entries' && key !== 'size' &&\n                        Map.prototype[key] === Map.prototype['entries']) {\n                        _symbolIterator = key;\n                    }\n                }\n            }\n        }\n        return _symbolIterator;\n    }\n    var _nextRequestId = 0;\n    var JSONP_HOME = '__ng_jsonp__';\n    var _jsonpConnections = null;\n    function _getJsonpConnections() {\n        if (_jsonpConnections === null) {\n            _jsonpConnections = global$1[JSONP_HOME] = {};\n        }\n        return _jsonpConnections;\n    }\n    var BrowserJsonp = (function () {\n        function BrowserJsonp() {\n        }\n        // Construct a <script> element with the specified URL\n        BrowserJsonp.prototype.build = function (url) {\n            var node = document.createElement('script');\n            node.src = url;\n            return node;\n        };\n        BrowserJsonp.prototype.nextRequestID = function () { return \"__req\" + _nextRequestId++; };\n        BrowserJsonp.prototype.requestCallback = function (id) { return JSONP_HOME + \".\" + id + \".finished\"; };\n        BrowserJsonp.prototype.exposeConnection = function (id, connection) {\n            var connections = _getJsonpConnections();\n            connections[id] = connection;\n        };\n        BrowserJsonp.prototype.removeConnection = function (id) {\n            var connections = _getJsonpConnections();\n            connections[id] = null;\n        };\n        // Attach the <script> element to the DOM\n        BrowserJsonp.prototype.send = function (node) { document.body.appendChild((node)); };\n        // Remove <script> element from the DOM\n        BrowserJsonp.prototype.cleanup = function (node) {\n            if (node.parentNode) {\n                node.parentNode.removeChild((node));\n            }\n        };\n        return BrowserJsonp;\n    }());\n    /** @nocollapse */\n    BrowserJsonp.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    var BrowserXhr = (function () {\n        function BrowserXhr() {\n        }\n        BrowserXhr.prototype.build = function () { return (new XMLHttpRequest()); };\n        return BrowserXhr;\n    }());\n    /** @nocollapse */\n    BrowserXhr.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    BrowserXhr.ctorParameters = [];\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * Supported http methods.\n     * @experimental\n     */\n    exports.RequestMethod;\n    (function (RequestMethod) {\n        RequestMethod[RequestMethod[\"Get\"] = 0] = \"Get\";\n        RequestMethod[RequestMethod[\"Post\"] = 1] = \"Post\";\n        RequestMethod[RequestMethod[\"Put\"] = 2] = \"Put\";\n        RequestMethod[RequestMethod[\"Delete\"] = 3] = \"Delete\";\n        RequestMethod[RequestMethod[\"Options\"] = 4] = \"Options\";\n        RequestMethod[RequestMethod[\"Head\"] = 5] = \"Head\";\n        RequestMethod[RequestMethod[\"Patch\"] = 6] = \"Patch\";\n    })(exports.RequestMethod || (exports.RequestMethod = {}));\n    /**\n     * All possible states in which a connection can be, based on\n     * [States](http://www.w3.org/TR/XMLHttpRequest/#states) from the `XMLHttpRequest` spec, but with an\n     * additional \"CANCELLED\" state.\n     * @experimental\n     */\n    exports.ReadyState;\n    (function (ReadyState) {\n        ReadyState[ReadyState[\"Unsent\"] = 0] = \"Unsent\";\n        ReadyState[ReadyState[\"Open\"] = 1] = \"Open\";\n        ReadyState[ReadyState[\"HeadersReceived\"] = 2] = \"HeadersReceived\";\n        ReadyState[ReadyState[\"Loading\"] = 3] = \"Loading\";\n        ReadyState[ReadyState[\"Done\"] = 4] = \"Done\";\n        ReadyState[ReadyState[\"Cancelled\"] = 5] = \"Cancelled\";\n    })(exports.ReadyState || (exports.ReadyState = {}));\n    /**\n     * Acceptable response types to be associated with a {@link Response}, based on\n     * [ResponseType](https://fetch.spec.whatwg.org/#responsetype) from the Fetch spec.\n     * @experimental\n     */\n    exports.ResponseType;\n    (function (ResponseType) {\n        ResponseType[ResponseType[\"Basic\"] = 0] = \"Basic\";\n        ResponseType[ResponseType[\"Cors\"] = 1] = \"Cors\";\n        ResponseType[ResponseType[\"Default\"] = 2] = \"Default\";\n        ResponseType[ResponseType[\"Error\"] = 3] = \"Error\";\n        ResponseType[ResponseType[\"Opaque\"] = 4] = \"Opaque\";\n    })(exports.ResponseType || (exports.ResponseType = {}));\n    /**\n     * Supported content type to be automatically associated with a {@link Request}.\n     * @experimental\n     */\n    var ContentType;\n    (function (ContentType) {\n        ContentType[ContentType[\"NONE\"] = 0] = \"NONE\";\n        ContentType[ContentType[\"JSON\"] = 1] = \"JSON\";\n        ContentType[ContentType[\"FORM\"] = 2] = \"FORM\";\n        ContentType[ContentType[\"FORM_DATA\"] = 3] = \"FORM_DATA\";\n        ContentType[ContentType[\"TEXT\"] = 4] = \"TEXT\";\n        ContentType[ContentType[\"BLOB\"] = 5] = \"BLOB\";\n        ContentType[ContentType[\"ARRAY_BUFFER\"] = 6] = \"ARRAY_BUFFER\";\n    })(ContentType || (ContentType = {}));\n    var Map$1 = global$1.Map;\n    var Set = global$1.Set;\n    // Safari and Internet Explorer do not support the iterable parameter to the\n    // Map constructor.  We work around that by manually adding the items.\n    var createMapFromPairs = (function () {\n        try {\n            if (new Map$1([[1, 2]]).size === 1) {\n                return function createMapFromPairs(pairs) { return new Map$1(pairs); };\n            }\n        }\n        catch (e) {\n        }\n        return function createMapAndPopulateFromPairs(pairs) {\n            var map = new Map$1();\n            for (var i = 0; i < pairs.length; i++) {\n                var pair = pairs[i];\n                map.set(pair[0], pair[1]);\n            }\n            return map;\n        };\n    })();\n    var createMapFromMap = (function () {\n        try {\n            if (new Map$1(new Map$1())) {\n                return function createMapFromMap(m) { return new Map$1(m); };\n            }\n        }\n        catch (e) {\n        }\n        return function createMapAndPopulateFromMap(m) {\n            var map = new Map$1();\n            m.forEach(function (v, k) { map.set(k, v); });\n            return map;\n        };\n    })();\n    var _clearValues = (function () {\n        if ((new Map$1()).keys().next) {\n            return function _clearValues(m) {\n                var keyIterator = m.keys();\n                var k;\n                while (!((k = keyIterator.next()).done)) {\n                    m.set(k.value, null);\n                }\n            };\n        }\n        else {\n            return function _clearValuesWithForeEach(m) {\n                m.forEach(function (v, k) { m.set(k, null); });\n            };\n        }\n    })();\n    // Safari doesn't implement MapIterator.next(), which is used is Traceur's polyfill of Array.from\n    // TODO(mlaval): remove the work around once we have a working polyfill of Array.from\n    var _arrayFromMap = (function () {\n        try {\n            if ((new Map$1()).values().next) {\n                return function createArrayFromMap(m, getValues) {\n                    return getValues ? Array.from(m.values()) : Array.from(m.keys());\n                };\n            }\n        }\n        catch (e) {\n        }\n        return function createArrayFromMapWithForeach(m, getValues) {\n            var res = ListWrapper.createFixedSize(m.size), i = 0;\n            m.forEach(function (v, k) {\n                res[i] = getValues ? v : k;\n                i++;\n            });\n            return res;\n        };\n    })();\n    var MapWrapper = (function () {\n        function MapWrapper() {\n        }\n        MapWrapper.clone = function (m) { return createMapFromMap(m); };\n        MapWrapper.createFromStringMap = function (stringMap) {\n            var result = new Map$1();\n            for (var prop in stringMap) {\n                result.set(prop, stringMap[prop]);\n            }\n            return result;\n        };\n        MapWrapper.toStringMap = function (m) {\n            var r = {};\n            m.forEach(function (v, k) { return r[k] = v; });\n            return r;\n        };\n        MapWrapper.createFromPairs = function (pairs) { return createMapFromPairs(pairs); };\n        MapWrapper.clearValues = function (m) { _clearValues(m); };\n        MapWrapper.iterable = function (m) { return m; };\n        MapWrapper.keys = function (m) { return _arrayFromMap(m, false); };\n        MapWrapper.values = function (m) { return _arrayFromMap(m, true); };\n        return MapWrapper;\n    }());\n    /**\n     * Wraps Javascript Objects\n     */\n    var StringMapWrapper = (function () {\n        function StringMapWrapper() {\n        }\n        StringMapWrapper.create = function () {\n            // Note: We are not using Object.create(null) here due to\n            // performance!\n            // http://jsperf.com/ng2-object-create-null\n            return {};\n        };\n        StringMapWrapper.contains = function (map, key) {\n            return map.hasOwnProperty(key);\n        };\n        StringMapWrapper.get = function (map, key) {\n            return map.hasOwnProperty(key) ? map[key] : undefined;\n        };\n        StringMapWrapper.set = function (map, key, value) { map[key] = value; };\n        StringMapWrapper.keys = function (map) { return Object.keys(map); };\n        StringMapWrapper.values = function (map) {\n            return Object.keys(map).reduce(function (r, a) {\n                r.push(map[a]);\n                return r;\n            }, []);\n        };\n        StringMapWrapper.isEmpty = function (map) {\n            for (var prop in map) {\n                return false;\n            }\n            return true;\n        };\n        StringMapWrapper.delete = function (map, key) { delete map[key]; };\n        StringMapWrapper.forEach = function (map, callback) {\n            for (var prop in map) {\n                if (map.hasOwnProperty(prop)) {\n                    callback(map[prop], prop);\n                }\n            }\n        };\n        StringMapWrapper.merge = function (m1, m2) {\n            var m = {};\n            for (var attr in m1) {\n                if (m1.hasOwnProperty(attr)) {\n                    m[attr] = m1[attr];\n                }\n            }\n            for (var attr in m2) {\n                if (m2.hasOwnProperty(attr)) {\n                    m[attr] = m2[attr];\n                }\n            }\n            return m;\n        };\n        StringMapWrapper.equals = function (m1, m2) {\n            var k1 = Object.keys(m1);\n            var k2 = Object.keys(m2);\n            if (k1.length != k2.length) {\n                return false;\n            }\n            var key;\n            for (var i = 0; i < k1.length; i++) {\n                key = k1[i];\n                if (m1[key] !== m2[key]) {\n                    return false;\n                }\n            }\n            return true;\n        };\n        return StringMapWrapper;\n    }());\n    var ListWrapper = (function () {\n        function ListWrapper() {\n        }\n        // JS has no way to express a statically fixed size list, but dart does so we\n        // keep both methods.\n        ListWrapper.createFixedSize = function (size) { return new Array(size); };\n        ListWrapper.createGrowableSize = function (size) { return new Array(size); };\n        ListWrapper.clone = function (array) { return array.slice(0); };\n        ListWrapper.forEachWithIndex = function (array, fn) {\n            for (var i = 0; i < array.length; i++) {\n                fn(array[i], i);\n            }\n        };\n        ListWrapper.first = function (array) {\n            if (!array)\n                return null;\n            return array[0];\n        };\n        ListWrapper.last = function (array) {\n            if (!array || array.length == 0)\n                return null;\n            return array[array.length - 1];\n        };\n        ListWrapper.indexOf = function (array, value, startIndex) {\n            if (startIndex === void 0) { startIndex = 0; }\n            return array.indexOf(value, startIndex);\n        };\n        ListWrapper.contains = function (list, el) { return list.indexOf(el) !== -1; };\n        ListWrapper.reversed = function (array) {\n            var a = ListWrapper.clone(array);\n            return a.reverse();\n        };\n        ListWrapper.concat = function (a, b) { return a.concat(b); };\n        ListWrapper.insert = function (list, index, value) { list.splice(index, 0, value); };\n        ListWrapper.removeAt = function (list, index) {\n            var res = list[index];\n            list.splice(index, 1);\n            return res;\n        };\n        ListWrapper.removeAll = function (list, items) {\n            for (var i = 0; i < items.length; ++i) {\n                var index = list.indexOf(items[i]);\n                list.splice(index, 1);\n            }\n        };\n        ListWrapper.remove = function (list, el) {\n            var index = list.indexOf(el);\n            if (index > -1) {\n                list.splice(index, 1);\n                return true;\n            }\n            return false;\n        };\n        ListWrapper.clear = function (list) { list.length = 0; };\n        ListWrapper.isEmpty = function (list) { return list.length == 0; };\n        ListWrapper.fill = function (list, value, start, end) {\n            if (start === void 0) { start = 0; }\n            if (end === void 0) { end = null; }\n            list.fill(value, start, end === null ? list.length : end);\n        };\n        ListWrapper.equals = function (a, b) {\n            if (a.length != b.length)\n                return false;\n            for (var i = 0; i < a.length; ++i) {\n                if (a[i] !== b[i])\n                    return false;\n            }\n            return true;\n        };\n        ListWrapper.slice = function (l, from, to) {\n            if (from === void 0) { from = 0; }\n            if (to === void 0) { to = null; }\n            return l.slice(from, to === null ? undefined : to);\n        };\n        ListWrapper.splice = function (l, from, length) { return l.splice(from, length); };\n        ListWrapper.sort = function (l, compareFn) {\n            if (isPresent(compareFn)) {\n                l.sort(compareFn);\n            }\n            else {\n                l.sort();\n            }\n        };\n        ListWrapper.toString = function (l) { return l.toString(); };\n        ListWrapper.toJSON = function (l) { return JSON.stringify(l); };\n        ListWrapper.maximum = function (list, predicate) {\n            if (list.length == 0) {\n                return null;\n            }\n            var solution = null;\n            var maxValue = -Infinity;\n            for (var index = 0; index < list.length; index++) {\n                var candidate = list[index];\n                if (isBlank(candidate)) {\n                    continue;\n                }\n                var candidateValue = predicate(candidate);\n                if (candidateValue > maxValue) {\n                    solution = candidate;\n                    maxValue = candidateValue;\n                }\n            }\n            return solution;\n        };\n        ListWrapper.flatten = function (list) {\n            var target = [];\n            _flattenArray(list, target);\n            return target;\n        };\n        ListWrapper.addAll = function (list, source) {\n            for (var i = 0; i < source.length; i++) {\n                list.push(source[i]);\n            }\n        };\n        return ListWrapper;\n    }());\n    function _flattenArray(source, target) {\n        if (isPresent(source)) {\n            for (var i = 0; i < source.length; i++) {\n                var item = source[i];\n                if (isArray(item)) {\n                    _flattenArray(item, target);\n                }\n                else {\n                    target.push(item);\n                }\n            }\n        }\n        return target;\n    }\n    function isListLikeIterable(obj) {\n        if (!isJsObject(obj))\n            return false;\n        return isArray(obj) ||\n            (!(obj instanceof Map$1) &&\n                getSymbolIterator() in obj); // JS Iterable have a Symbol.iterator prop\n    }\n    function iterateListLike(obj, fn) {\n        if (isArray(obj)) {\n            for (var i = 0; i < obj.length; i++) {\n                fn(obj[i]);\n            }\n        }\n        else {\n            var iterator = obj[getSymbolIterator()]();\n            var item;\n            while (!((item = iterator.next()).done)) {\n                fn(item.value);\n            }\n        }\n    }\n    // Safari and Internet Explorer do not support the iterable parameter to the\n    // Set constructor.  We work around that by manually adding the items.\n    var createSetFromList = (function () {\n        var test = new Set([1, 2, 3]);\n        if (test.size === 3) {\n            return function createSetFromList(lst) { return new Set(lst); };\n        }\n        else {\n            return function createSetAndPopulateFromList(lst) {\n                var res = new Set(lst);\n                if (res.size !== lst.length) {\n                    for (var i = 0; i < lst.length; i++) {\n                        res.add(lst[i]);\n                    }\n                }\n                return res;\n            };\n        }\n    })();\n    /**\n     * @stable\n     */\n    var BaseException = (function (_super) {\n        __extends(BaseException, _super);\n        function BaseException(message) {\n            if (message === void 0) { message = '--'; }\n            _super.call(this, message);\n            this.message = message;\n            this.stack = (new Error(message)).stack;\n        }\n        BaseException.prototype.toString = function () { return this.message; };\n        return BaseException;\n    }(Error));\n    function makeTypeError(message) {\n        return new TypeError(message);\n    }\n    /**\n     * Polyfill for [Headers](https://developer.mozilla.org/en-US/docs/Web/API/Headers/Headers), as\n     * specified in the [Fetch Spec](https://fetch.spec.whatwg.org/#headers-class).\n     *\n     * The only known difference between this `Headers` implementation and the spec is the\n     * lack of an `entries` method.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/MTdwT6?p=preview))\n     *\n     * ```\n     * import {Headers} from '@angular/http';\n     *\n     * var firstHeaders = new Headers();\n     * firstHeaders.append('Content-Type', 'image/jpeg');\n     * console.log(firstHeaders.get('Content-Type')) //'image/jpeg'\n     *\n     * // Create headers from Plain Old JavaScript Object\n     * var secondHeaders = new Headers({\n     *   'X-My-Custom-Header': 'Angular'\n     * });\n     * console.log(secondHeaders.get('X-My-Custom-Header')); //'Angular'\n     *\n     * var thirdHeaders = new Headers(secondHeaders);\n     * console.log(thirdHeaders.get('X-My-Custom-Header')); //'Angular'\n     * ```\n     *\n     * @experimental\n     */\n    var Headers = (function () {\n        function Headers(headers) {\n            var _this = this;\n            if (headers instanceof Headers) {\n                this._headersMap = headers._headersMap;\n                return;\n            }\n            this._headersMap = new Map$1();\n            if (isBlank(headers)) {\n                return;\n            }\n            // headers instanceof StringMap\n            StringMapWrapper.forEach(headers, function (v, k) {\n                _this._headersMap.set(k, isListLikeIterable(v) ? v : [v]);\n            });\n        }\n        /**\n         * Returns a new Headers instance from the given DOMString of Response Headers\n         */\n        Headers.fromResponseHeaderString = function (headersString) {\n            return headersString.trim()\n                .split('\\n')\n                .map(function (val) { return val.split(':'); })\n                .map(function (_a) {\n                var key = _a[0], parts = _a.slice(1);\n                return ([key.trim(), parts.join(':').trim()]);\n            })\n                .reduce(function (headers, _a) {\n                var key = _a[0], value = _a[1];\n                return !headers.set(key, value) && headers;\n            }, new Headers());\n        };\n        /**\n         * Appends a header to existing list of header values for a given header name.\n         */\n        Headers.prototype.append = function (name, value) {\n            var mapName = this._headersMap.get(name);\n            var list = isListLikeIterable(mapName) ? mapName : [];\n            list.push(value);\n            this._headersMap.set(name, list);\n        };\n        /**\n         * Deletes all header values for the given name.\n         */\n        Headers.prototype.delete = function (name) { this._headersMap.delete(name); };\n        Headers.prototype.forEach = function (fn) {\n            this._headersMap.forEach(fn);\n        };\n        /**\n         * Returns first header that matches given name.\n         */\n        Headers.prototype.get = function (header) { return ListWrapper.first(this._headersMap.get(header)); };\n        /**\n         * Check for existence of header by given name.\n         */\n        Headers.prototype.has = function (header) { return this._headersMap.has(header); };\n        /**\n         * Provides names of set headers\n         */\n        Headers.prototype.keys = function () { return MapWrapper.keys(this._headersMap); };\n        /**\n         * Sets or overrides header value for given name.\n         */\n        Headers.prototype.set = function (header, value) {\n            var list = [];\n            if (isListLikeIterable(value)) {\n                var pushValue = value.join(',');\n                list.push(pushValue);\n            }\n            else {\n                list.push(value);\n            }\n            this._headersMap.set(header, list);\n        };\n        /**\n         * Returns values of all headers.\n         */\n        Headers.prototype.values = function () { return MapWrapper.values(this._headersMap); };\n        /**\n         * Returns string of all headers.\n         */\n        Headers.prototype.toJSON = function () {\n            var serializableHeaders = {};\n            this._headersMap.forEach(function (values, name) {\n                var list = [];\n                iterateListLike(values, function (val /** TODO #9100 */) { return list = ListWrapper.concat(list, val.split(',')); });\n                serializableHeaders[name] = list;\n            });\n            return serializableHeaders;\n        };\n        /**\n         * Returns list of header values for a given name.\n         */\n        Headers.prototype.getAll = function (header) {\n            var headers = this._headersMap.get(header);\n            return isListLikeIterable(headers) ? headers : [];\n        };\n        /**\n         * This method is not implemented.\n         */\n        Headers.prototype.entries = function () { throw new BaseException('\"entries\" method is not implemented on Headers class'); };\n        return Headers;\n    }());\n    /**\n     * Creates a response options object to be optionally provided when instantiating a\n     * {@link Response}.\n     *\n     * This class is based on the `ResponseInit` description in the [Fetch\n     * Spec](https://fetch.spec.whatwg.org/#responseinit).\n     *\n     * All values are null by default. Typical defaults can be found in the\n     * {@link BaseResponseOptions} class, which sub-classes `ResponseOptions`.\n     *\n     * This class may be used in tests to build {@link Response Responses} for\n     * mock responses (see {@link MockBackend}).\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/P9Jkk8e8cz6NVzbcxEsD?p=preview))\n     *\n     * ```typescript\n     * import {ResponseOptions, Response} from '@angular/http';\n     *\n     * var options = new ResponseOptions({\n     *   body: '{\"name\":\"Jeff\"}'\n     * });\n     * var res = new Response(options);\n     *\n     * console.log('res.json():', res.json()); // Object {name: \"Jeff\"}\n     * ```\n     *\n     * @experimental\n     */\n    var ResponseOptions = (function () {\n        function ResponseOptions(_a) {\n            var _b = _a === void 0 ? {} : _a, body = _b.body, status = _b.status, headers = _b.headers, statusText = _b.statusText, type = _b.type, url = _b.url;\n            this.body = isPresent(body) ? body : null;\n            this.status = isPresent(status) ? status : null;\n            this.headers = isPresent(headers) ? headers : null;\n            this.statusText = isPresent(statusText) ? statusText : null;\n            this.type = isPresent(type) ? type : null;\n            this.url = isPresent(url) ? url : null;\n        }\n        /**\n         * Creates a copy of the `ResponseOptions` instance, using the optional input as values to\n         * override\n         * existing values. This method will not change the values of the instance on which it is being\n         * called.\n         *\n         * This may be useful when sharing a base `ResponseOptions` object inside tests,\n         * where certain properties may change from test to test.\n         *\n         * ### Example ([live demo](http://plnkr.co/edit/1lXquqFfgduTFBWjNoRE?p=preview))\n         *\n         * ```typescript\n         * import {ResponseOptions, Response} from '@angular/http';\n         *\n         * var options = new ResponseOptions({\n         *   body: {name: 'Jeff'}\n         * });\n         * var res = new Response(options.merge({\n         *   url: 'https://google.com'\n         * }));\n         * console.log('options.url:', options.url); // null\n         * console.log('res.json():', res.json()); // Object {name: \"Jeff\"}\n         * console.log('res.url:', res.url); // https://google.com\n         * ```\n         */\n        ResponseOptions.prototype.merge = function (options) {\n            return new ResponseOptions({\n                body: isPresent(options) && isPresent(options.body) ? options.body : this.body,\n                status: isPresent(options) && isPresent(options.status) ? options.status : this.status,\n                headers: isPresent(options) && isPresent(options.headers) ? options.headers : this.headers,\n                statusText: isPresent(options) && isPresent(options.statusText) ? options.statusText :\n                    this.statusText,\n                type: isPresent(options) && isPresent(options.type) ? options.type : this.type,\n                url: isPresent(options) && isPresent(options.url) ? options.url : this.url,\n            });\n        };\n        return ResponseOptions;\n    }());\n    var BaseResponseOptions = (function (_super) {\n        __extends(BaseResponseOptions, _super);\n        function BaseResponseOptions() {\n            _super.call(this, { status: 200, statusText: 'Ok', type: exports.ResponseType.Default, headers: new Headers() });\n        }\n        return BaseResponseOptions;\n    }(ResponseOptions));\n    /** @nocollapse */\n    BaseResponseOptions.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    BaseResponseOptions.ctorParameters = [];\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * Abstract class from which real backends are derived.\n     *\n     * The primary purpose of a `ConnectionBackend` is to create new connections to fulfill a given\n     * {@link Request}.\n     *\n     * @experimental\n     */\n    var ConnectionBackend = (function () {\n        function ConnectionBackend() {\n        }\n        return ConnectionBackend;\n    }());\n    /**\n     * Abstract class from which real connections are derived.\n     *\n     * @experimental\n     */\n    var Connection = (function () {\n        function Connection() {\n        }\n        return Connection;\n    }());\n    /**\n     * An XSRFStrategy configures XSRF protection (e.g. via headers) on an HTTP request.\n     *\n     * @experimental\n     */\n    var XSRFStrategy = (function () {\n        function XSRFStrategy() {\n        }\n        return XSRFStrategy;\n    }());\n    function normalizeMethodName(method) {\n        if (isString(method)) {\n            var originalMethod = method;\n            method = method\n                .replace(/(\\w)(\\w*)/g, function (g0, g1, g2) { return g1.toUpperCase() + g2.toLowerCase(); });\n            method = exports.RequestMethod[method];\n            if (typeof method !== 'number')\n                throw makeTypeError(\"Invalid request method. The method \\\"\" + originalMethod + \"\\\" is not supported.\");\n        }\n        return method;\n    }\n    var isSuccess = function (status) { return (status >= 200 && status < 300); };\n    function getResponseURL(xhr) {\n        if ('responseURL' in xhr) {\n            return xhr.responseURL;\n        }\n        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {\n            return xhr.getResponseHeader('X-Request-URL');\n        }\n        return;\n    }\n    /**\n     * Creates `Response` instances from provided values.\n     *\n     * Though this object isn't\n     * usually instantiated by end-users, it is the primary object interacted with when it comes time to\n     * add data to a view.\n     *\n     * ### Example\n     *\n     * ```\n     * http.request('my-friends.txt').subscribe(response => this.friends = response.text());\n     * ```\n     *\n     * The Response's interface is inspired by the Response constructor defined in the [Fetch\n     * Spec](https://fetch.spec.whatwg.org/#response-class), but is considered a static value whose body\n     * can be accessed many times. There are other differences in the implementation, but this is the\n     * most significant.\n     *\n     * @experimental\n     */\n    var Response = (function () {\n        function Response(responseOptions) {\n            this._body = responseOptions.body;\n            this.status = responseOptions.status;\n            this.ok = (this.status >= 200 && this.status <= 299);\n            this.statusText = responseOptions.statusText;\n            this.headers = responseOptions.headers;\n            this.type = responseOptions.type;\n            this.url = responseOptions.url;\n        }\n        /**\n         * Not yet implemented\n         */\n        // TODO: Blob return type\n        Response.prototype.blob = function () { throw new BaseException('\"blob()\" method not implemented on Response superclass'); };\n        /**\n         * Attempts to return body as parsed `JSON` object, or raises an exception.\n         */\n        Response.prototype.json = function () {\n            var jsonResponse;\n            if (isJsObject(this._body)) {\n                jsonResponse = this._body;\n            }\n            else if (isString(this._body)) {\n                jsonResponse = Json.parse(this._body);\n            }\n            return jsonResponse;\n        };\n        /**\n         * Returns the body as a string, presuming `toString()` can be called on the response body.\n         */\n        Response.prototype.text = function () { return this._body.toString(); };\n        /**\n         * Not yet implemented\n         */\n        // TODO: ArrayBuffer return type\n        Response.prototype.arrayBuffer = function () {\n            throw new BaseException('\"arrayBuffer()\" method not implemented on Response superclass');\n        };\n        Response.prototype.toString = function () {\n            return \"Response with status: \" + this.status + \" \" + this.statusText + \" for URL: \" + this.url;\n        };\n        return Response;\n    }());\n    var JSONP_ERR_NO_CALLBACK = 'JSONP injected script did not invoke callback.';\n    var JSONP_ERR_WRONG_METHOD = 'JSONP requests must use GET request method.';\n    /**\n     * Abstract base class for an in-flight JSONP request.\n     *\n     * @experimental\n     */\n    var JSONPConnection = (function () {\n        function JSONPConnection() {\n        }\n        return JSONPConnection;\n    }());\n    var JSONPConnection_ = (function (_super) {\n        __extends(JSONPConnection_, _super);\n        function JSONPConnection_(req, _dom, baseResponseOptions) {\n            var _this = this;\n            _super.call(this);\n            this._dom = _dom;\n            this.baseResponseOptions = baseResponseOptions;\n            this._finished = false;\n            if (req.method !== exports.RequestMethod.Get) {\n                throw makeTypeError(JSONP_ERR_WRONG_METHOD);\n            }\n            this.request = req;\n            this.response = new rxjs_Observable.Observable(function (responseObserver) {\n                _this.readyState = exports.ReadyState.Loading;\n                var id = _this._id = _dom.nextRequestID();\n                _dom.exposeConnection(id, _this);\n                // Workaround Dart\n                // url = url.replace(/=JSONP_CALLBACK(&|$)/, `generated method`);\n                var callback = _dom.requestCallback(_this._id);\n                var url = req.url;\n                if (url.indexOf('=JSONP_CALLBACK&') > -1) {\n                    url = StringWrapper.replace(url, '=JSONP_CALLBACK&', \"=\" + callback + \"&\");\n                }\n                else if (url.lastIndexOf('=JSONP_CALLBACK') === url.length - '=JSONP_CALLBACK'.length) {\n                    url = url.substring(0, url.length - '=JSONP_CALLBACK'.length) + (\"=\" + callback);\n                }\n                var script = _this._script = _dom.build(url);\n                var onLoad = function (event) {\n                    if (_this.readyState === exports.ReadyState.Cancelled)\n                        return;\n                    _this.readyState = exports.ReadyState.Done;\n                    _dom.cleanup(script);\n                    if (!_this._finished) {\n                        var responseOptions_1 = new ResponseOptions({ body: JSONP_ERR_NO_CALLBACK, type: exports.ResponseType.Error, url: url });\n                        if (isPresent(baseResponseOptions)) {\n                            responseOptions_1 = baseResponseOptions.merge(responseOptions_1);\n                        }\n                        responseObserver.error(new Response(responseOptions_1));\n                        return;\n                    }\n                    var responseOptions = new ResponseOptions({ body: _this._responseData, url: url });\n                    if (isPresent(_this.baseResponseOptions)) {\n                        responseOptions = _this.baseResponseOptions.merge(responseOptions);\n                    }\n                    responseObserver.next(new Response(responseOptions));\n                    responseObserver.complete();\n                };\n                var onError = function (error) {\n                    if (_this.readyState === exports.ReadyState.Cancelled)\n                        return;\n                    _this.readyState = exports.ReadyState.Done;\n                    _dom.cleanup(script);\n                    var responseOptions = new ResponseOptions({ body: error.message, type: exports.ResponseType.Error });\n                    if (isPresent(baseResponseOptions)) {\n                        responseOptions = baseResponseOptions.merge(responseOptions);\n                    }\n                    responseObserver.error(new Response(responseOptions));\n                };\n                script.addEventListener('load', onLoad);\n                script.addEventListener('error', onError);\n                _dom.send(script);\n                return function () {\n                    _this.readyState = exports.ReadyState.Cancelled;\n                    script.removeEventListener('load', onLoad);\n                    script.removeEventListener('error', onError);\n                    if (isPresent(script)) {\n                        _this._dom.cleanup(script);\n                    }\n                };\n            });\n        }\n        JSONPConnection_.prototype.finished = function (data) {\n            // Don't leak connections\n            this._finished = true;\n            this._dom.removeConnection(this._id);\n            if (this.readyState === exports.ReadyState.Cancelled)\n                return;\n            this._responseData = data;\n        };\n        return JSONPConnection_;\n    }(JSONPConnection));\n    /**\n     * A {@link ConnectionBackend} that uses the JSONP strategy of making requests.\n     *\n     * @experimental\n     */\n    var JSONPBackend = (function (_super) {\n        __extends(JSONPBackend, _super);\n        function JSONPBackend() {\n            _super.apply(this, arguments);\n        }\n        return JSONPBackend;\n    }(ConnectionBackend));\n    var JSONPBackend_ = (function (_super) {\n        __extends(JSONPBackend_, _super);\n        function JSONPBackend_(_browserJSONP, _baseResponseOptions) {\n            _super.call(this);\n            this._browserJSONP = _browserJSONP;\n            this._baseResponseOptions = _baseResponseOptions;\n        }\n        JSONPBackend_.prototype.createConnection = function (request) {\n            return new JSONPConnection_(request, this._browserJSONP, this._baseResponseOptions);\n        };\n        return JSONPBackend_;\n    }(JSONPBackend));\n    /** @nocollapse */\n    JSONPBackend_.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    JSONPBackend_.ctorParameters = [\n        { type: BrowserJsonp, },\n        { type: ResponseOptions, },\n    ];\n    var XSSI_PREFIX = /^\\)\\]\\}',?\\n/;\n    /**\n     * Creates connections using `XMLHttpRequest`. Given a fully-qualified\n     * request, an `XHRConnection` will immediately create an `XMLHttpRequest` object and send the\n     * request.\n     *\n     * This class would typically not be created or interacted with directly inside applications, though\n     * the {@link MockConnection} may be interacted with in tests.\n     *\n     * @experimental\n     */\n    var XHRConnection = (function () {\n        function XHRConnection(req, browserXHR, baseResponseOptions) {\n            var _this = this;\n            this.request = req;\n            this.response = new rxjs_Observable.Observable(function (responseObserver) {\n                var _xhr = browserXHR.build();\n                _xhr.open(exports.RequestMethod[req.method].toUpperCase(), req.url);\n                if (isPresent(req.withCredentials)) {\n                    _xhr.withCredentials = req.withCredentials;\n                }\n                // load event handler\n                var onLoad = function () {\n                    // responseText is the old-school way of retrieving response (supported by IE8 & 9)\n                    // response/responseType properties were introduced in XHR Level2 spec (supported by\n                    // IE10)\n                    var body = isPresent(_xhr.response) ? _xhr.response : _xhr.responseText;\n                    // Implicitly strip a potential XSSI prefix.\n                    if (isString(body))\n                        body = body.replace(XSSI_PREFIX, '');\n                    var headers = Headers.fromResponseHeaderString(_xhr.getAllResponseHeaders());\n                    var url = getResponseURL(_xhr);\n                    // normalize IE9 bug (http://bugs.jquery.com/ticket/1450)\n                    var status = _xhr.status === 1223 ? 204 : _xhr.status;\n                    // fix status code when it is 0 (0 status is undocumented).\n                    // Occurs when accessing file resources or on Android 4.1 stock browser\n                    // while retrieving files from application cache.\n                    if (status === 0) {\n                        status = body ? 200 : 0;\n                    }\n                    var statusText = _xhr.statusText || 'OK';\n                    var responseOptions = new ResponseOptions({ body: body, status: status, headers: headers, statusText: statusText, url: url });\n                    if (isPresent(baseResponseOptions)) {\n                        responseOptions = baseResponseOptions.merge(responseOptions);\n                    }\n                    var response = new Response(responseOptions);\n                    response.ok = isSuccess(status);\n                    if (response.ok) {\n                        responseObserver.next(response);\n                        // TODO(gdi2290): defer complete if array buffer until done\n                        responseObserver.complete();\n                        return;\n                    }\n                    responseObserver.error(response);\n                };\n                // error event handler\n                var onError = function (err) {\n                    var responseOptions = new ResponseOptions({\n                        body: err,\n                        type: exports.ResponseType.Error,\n                        status: _xhr.status,\n                        statusText: _xhr.statusText,\n                    });\n                    if (isPresent(baseResponseOptions)) {\n                        responseOptions = baseResponseOptions.merge(responseOptions);\n                    }\n                    responseObserver.error(new Response(responseOptions));\n                };\n                _this.setDetectedContentType(req, _xhr);\n                if (isPresent(req.headers)) {\n                    req.headers.forEach(function (values, name) { return _xhr.setRequestHeader(name, values.join(',')); });\n                }\n                _xhr.addEventListener('load', onLoad);\n                _xhr.addEventListener('error', onError);\n                _xhr.send(_this.request.getBody());\n                return function () {\n                    _xhr.removeEventListener('load', onLoad);\n                    _xhr.removeEventListener('error', onError);\n                    _xhr.abort();\n                };\n            });\n        }\n        XHRConnection.prototype.setDetectedContentType = function (req /** TODO #9100 */, _xhr /** TODO #9100 */) {\n            // Skip if a custom Content-Type header is provided\n            if (isPresent(req.headers) && isPresent(req.headers.get('Content-Type'))) {\n                return;\n            }\n            // Set the detected content type\n            switch (req.contentType) {\n                case ContentType.NONE:\n                    break;\n                case ContentType.JSON:\n                    _xhr.setRequestHeader('Content-Type', 'application/json');\n                    break;\n                case ContentType.FORM:\n                    _xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded;charset=UTF-8');\n                    break;\n                case ContentType.TEXT:\n                    _xhr.setRequestHeader('Content-Type', 'text/plain');\n                    break;\n                case ContentType.BLOB:\n                    var blob = req.blob();\n                    if (blob.type) {\n                        _xhr.setRequestHeader('Content-Type', blob.type);\n                    }\n                    break;\n            }\n        };\n        return XHRConnection;\n    }());\n    /**\n     * `XSRFConfiguration` sets up Cross Site Request Forgery (XSRF) protection for the application\n     * using a cookie. See https://www.owasp.org/index.php/Cross-Site_Request_Forgery_(CSRF) for more\n     * information on XSRF.\n     *\n     * Applications can configure custom cookie and header names by binding an instance of this class\n     * with different `cookieName` and `headerName` values. See the main HTTP documentation for more\n     * details.\n     *\n     * @experimental\n     */\n    var CookieXSRFStrategy = (function () {\n        function CookieXSRFStrategy(_cookieName, _headerName) {\n            if (_cookieName === void 0) { _cookieName = 'XSRF-TOKEN'; }\n            if (_headerName === void 0) { _headerName = 'X-XSRF-TOKEN'; }\n            this._cookieName = _cookieName;\n            this._headerName = _headerName;\n        }\n        CookieXSRFStrategy.prototype.configureRequest = function (req) {\n            var xsrfToken = _angular_platformBrowser.__platform_browser_private__.getDOM().getCookie(this._cookieName);\n            if (xsrfToken && !req.headers.has(this._headerName)) {\n                req.headers.set(this._headerName, xsrfToken);\n            }\n        };\n        return CookieXSRFStrategy;\n    }());\n    var XHRBackend = (function () {\n        function XHRBackend(_browserXHR, _baseResponseOptions, _xsrfStrategy) {\n            this._browserXHR = _browserXHR;\n            this._baseResponseOptions = _baseResponseOptions;\n            this._xsrfStrategy = _xsrfStrategy;\n        }\n        XHRBackend.prototype.createConnection = function (request) {\n            this._xsrfStrategy.configureRequest(request);\n            return new XHRConnection(request, this._browserXHR, this._baseResponseOptions);\n        };\n        return XHRBackend;\n    }());\n    /** @nocollapse */\n    XHRBackend.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    XHRBackend.ctorParameters = [\n        { type: BrowserXhr, },\n        { type: ResponseOptions, },\n        { type: XSRFStrategy, },\n    ];\n    function paramParser(rawParams) {\n        if (rawParams === void 0) { rawParams = ''; }\n        var map = new Map$1();\n        if (rawParams.length > 0) {\n            var params = rawParams.split('&');\n            params.forEach(function (param) {\n                var split = param.split('=', 2);\n                var key = split[0];\n                var val = split[1];\n                var list = isPresent(map.get(key)) ? map.get(key) : [];\n                list.push(val);\n                map.set(key, list);\n            });\n        }\n        return map;\n    }\n    /**\n     * @experimental\n     **/\n    var QueryEncoder = (function () {\n        function QueryEncoder() {\n        }\n        QueryEncoder.prototype.encodeKey = function (k) { return standardEncoding(k); };\n        QueryEncoder.prototype.encodeValue = function (v) { return standardEncoding(v); };\n        return QueryEncoder;\n    }());\n    function standardEncoding(v) {\n        return encodeURIComponent(v)\n            .replace(/%40/gi, '@')\n            .replace(/%3A/gi, ':')\n            .replace(/%24/gi, '$')\n            .replace(/%2C/gi, ',')\n            .replace(/%3B/gi, ';')\n            .replace(/%2B/gi, '+')\n            .replace(/%3D/gi, ';')\n            .replace(/%3F/gi, '?')\n            .replace(/%2F/gi, '/');\n    }\n    /**\n     * Map-like representation of url search parameters, based on\n     * [URLSearchParams](https://url.spec.whatwg.org/#urlsearchparams) in the url living standard,\n     * with several extensions for merging URLSearchParams objects:\n     *   - setAll()\n     *   - appendAll()\n     *   - replaceAll()\n     *\n     * This class accepts an optional second parameter of ${@link QueryEncoder},\n     * which is used to serialize parameters before making a request. By default,\n     * `QueryEncoder` encodes keys and values of parameters using `encodeURIComponent`,\n     * and then un-encodes certain characters that are allowed to be part of the query\n     * according to IETF RFC 3986: https://tools.ietf.org/html/rfc3986.\n     *\n     * These are the characters that are not encoded: `! $ \\' ( ) * + , ; A 9 - . _ ~ ? /`\n     *\n     * If the set of allowed query characters is not acceptable for a particular backend,\n     * `QueryEncoder` can be subclassed and provided as the 2nd argument to URLSearchParams.\n     *\n     * ```\n     * import {URLSearchParams, QueryEncoder} from '@angular/http';\n     * class MyQueryEncoder extends QueryEncoder {\n     *   encodeKey(k: string): string {\n     *     return myEncodingFunction(k);\n     *   }\n     *\n     *   encodeValue(v: string): string {\n     *     return myEncodingFunction(v);\n     *   }\n     * }\n     *\n     * let params = new URLSearchParams('', new MyQueryEncoder());\n     * ```\n     * @experimental\n     */\n    var URLSearchParams = (function () {\n        function URLSearchParams(rawParams, queryEncoder) {\n            if (rawParams === void 0) { rawParams = ''; }\n            if (queryEncoder === void 0) { queryEncoder = new QueryEncoder(); }\n            this.rawParams = rawParams;\n            this.queryEncoder = queryEncoder;\n            this.paramsMap = paramParser(rawParams);\n        }\n        URLSearchParams.prototype.clone = function () {\n            var clone = new URLSearchParams();\n            clone.appendAll(this);\n            return clone;\n        };\n        URLSearchParams.prototype.has = function (param) { return this.paramsMap.has(param); };\n        URLSearchParams.prototype.get = function (param) {\n            var storedParam = this.paramsMap.get(param);\n            if (isListLikeIterable(storedParam)) {\n                return ListWrapper.first(storedParam);\n            }\n            else {\n                return null;\n            }\n        };\n        URLSearchParams.prototype.getAll = function (param) {\n            var mapParam = this.paramsMap.get(param);\n            return isPresent(mapParam) ? mapParam : [];\n        };\n        URLSearchParams.prototype.set = function (param, val) {\n            var mapParam = this.paramsMap.get(param);\n            var list = isPresent(mapParam) ? mapParam : [];\n            ListWrapper.clear(list);\n            list.push(val);\n            this.paramsMap.set(param, list);\n        };\n        // A merge operation\n        // For each name-values pair in `searchParams`, perform `set(name, values[0])`\n        //\n        // E.g: \"a=[1,2,3], c=[8]\" + \"a=[4,5,6], b=[7]\" = \"a=[4], c=[8], b=[7]\"\n        //\n        // TODO(@caitp): document this better\n        URLSearchParams.prototype.setAll = function (searchParams) {\n            var _this = this;\n            searchParams.paramsMap.forEach(function (value, param) {\n                var mapParam = _this.paramsMap.get(param);\n                var list = isPresent(mapParam) ? mapParam : [];\n                ListWrapper.clear(list);\n                list.push(value[0]);\n                _this.paramsMap.set(param, list);\n            });\n        };\n        URLSearchParams.prototype.append = function (param, val) {\n            var mapParam = this.paramsMap.get(param);\n            var list = isPresent(mapParam) ? mapParam : [];\n            list.push(val);\n            this.paramsMap.set(param, list);\n        };\n        // A merge operation\n        // For each name-values pair in `searchParams`, perform `append(name, value)`\n        // for each value in `values`.\n        //\n        // E.g: \"a=[1,2], c=[8]\" + \"a=[3,4], b=[7]\" = \"a=[1,2,3,4], c=[8], b=[7]\"\n        //\n        // TODO(@caitp): document this better\n        URLSearchParams.prototype.appendAll = function (searchParams) {\n            var _this = this;\n            searchParams.paramsMap.forEach(function (value, param) {\n                var mapParam = _this.paramsMap.get(param);\n                var list = isPresent(mapParam) ? mapParam : [];\n                for (var i = 0; i < value.length; ++i) {\n                    list.push(value[i]);\n                }\n                _this.paramsMap.set(param, list);\n            });\n        };\n        // A merge operation\n        // For each name-values pair in `searchParams`, perform `delete(name)`,\n        // followed by `set(name, values)`\n        //\n        // E.g: \"a=[1,2,3], c=[8]\" + \"a=[4,5,6], b=[7]\" = \"a=[4,5,6], c=[8], b=[7]\"\n        //\n        // TODO(@caitp): document this better\n        URLSearchParams.prototype.replaceAll = function (searchParams) {\n            var _this = this;\n            searchParams.paramsMap.forEach(function (value, param) {\n                var mapParam = _this.paramsMap.get(param);\n                var list = isPresent(mapParam) ? mapParam : [];\n                ListWrapper.clear(list);\n                for (var i = 0; i < value.length; ++i) {\n                    list.push(value[i]);\n                }\n                _this.paramsMap.set(param, list);\n            });\n        };\n        URLSearchParams.prototype.toString = function () {\n            var _this = this;\n            var paramsList = [];\n            this.paramsMap.forEach(function (values, k) {\n                values.forEach(function (v) { return paramsList.push(_this.queryEncoder.encodeKey(k) + '=' + _this.queryEncoder.encodeValue(v)); });\n            });\n            return paramsList.join('&');\n        };\n        URLSearchParams.prototype.delete = function (param) { this.paramsMap.delete(param); };\n        return URLSearchParams;\n    }());\n    /**\n     * Creates a request options object to be optionally provided when instantiating a\n     * {@link Request}.\n     *\n     * This class is based on the `RequestInit` description in the [Fetch\n     * Spec](https://fetch.spec.whatwg.org/#requestinit).\n     *\n     * All values are null by default. Typical defaults can be found in the {@link BaseRequestOptions}\n     * class, which sub-classes `RequestOptions`.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/7Wvi3lfLq41aQPKlxB4O?p=preview))\n     *\n     * ```typescript\n     * import {RequestOptions, Request, RequestMethod} from '@angular/http';\n     *\n     * var options = new RequestOptions({\n     *   method: RequestMethod.Post,\n     *   url: 'https://google.com'\n     * });\n     * var req = new Request(options);\n     * console.log('req.method:', RequestMethod[req.method]); // Post\n     * console.log('options.url:', options.url); // https://google.com\n     * ```\n     *\n     * @experimental\n     */\n    var RequestOptions = (function () {\n        function RequestOptions(_a) {\n            var _b = _a === void 0 ? {} : _a, method = _b.method, headers = _b.headers, body = _b.body, url = _b.url, search = _b.search, withCredentials = _b.withCredentials;\n            this.method = isPresent(method) ? normalizeMethodName(method) : null;\n            this.headers = isPresent(headers) ? headers : null;\n            this.body = isPresent(body) ? body : null;\n            this.url = isPresent(url) ? url : null;\n            this.search = isPresent(search) ?\n                (isString(search) ? new URLSearchParams((search)) : (search)) :\n                null;\n            this.withCredentials = isPresent(withCredentials) ? withCredentials : null;\n        }\n        /**\n         * Creates a copy of the `RequestOptions` instance, using the optional input as values to override\n         * existing values. This method will not change the values of the instance on which it is being\n         * called.\n         *\n         * Note that `headers` and `search` will override existing values completely if present in\n         * the `options` object. If these values should be merged, it should be done prior to calling\n         * `merge` on the `RequestOptions` instance.\n         *\n         * ### Example ([live demo](http://plnkr.co/edit/6w8XA8YTkDRcPYpdB9dk?p=preview))\n         *\n         * ```typescript\n         * import {RequestOptions, Request, RequestMethod} from '@angular/http';\n         *\n         * var options = new RequestOptions({\n         *   method: RequestMethod.Post\n         * });\n         * var req = new Request(options.merge({\n         *   url: 'https://google.com'\n         * }));\n         * console.log('req.method:', RequestMethod[req.method]); // Post\n         * console.log('options.url:', options.url); // null\n         * console.log('req.url:', req.url); // https://google.com\n         * ```\n         */\n        RequestOptions.prototype.merge = function (options) {\n            return new RequestOptions({\n                method: isPresent(options) && isPresent(options.method) ? options.method : this.method,\n                headers: isPresent(options) && isPresent(options.headers) ? options.headers : this.headers,\n                body: isPresent(options) && isPresent(options.body) ? options.body : this.body,\n                url: isPresent(options) && isPresent(options.url) ? options.url : this.url,\n                search: isPresent(options) && isPresent(options.search) ?\n                    (isString(options.search) ? new URLSearchParams((options.search)) :\n                        (options.search).clone()) :\n                    this.search,\n                withCredentials: isPresent(options) && isPresent(options.withCredentials) ?\n                    options.withCredentials :\n                    this.withCredentials\n            });\n        };\n        return RequestOptions;\n    }());\n    var BaseRequestOptions = (function (_super) {\n        __extends(BaseRequestOptions, _super);\n        function BaseRequestOptions() {\n            _super.call(this, { method: exports.RequestMethod.Get, headers: new Headers() });\n        }\n        return BaseRequestOptions;\n    }(RequestOptions));\n    /** @nocollapse */\n    BaseRequestOptions.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    BaseRequestOptions.ctorParameters = [];\n    // TODO(jeffbcross): properly implement body accessors\n    /**\n     * Creates `Request` instances from provided values.\n     *\n     * The Request's interface is inspired by the Request constructor defined in the [Fetch\n     * Spec](https://fetch.spec.whatwg.org/#request-class),\n     * but is considered a static value whose body can be accessed many times. There are other\n     * differences in the implementation, but this is the most significant.\n     *\n     * `Request` instances are typically created by higher-level classes, like {@link Http} and\n     * {@link Jsonp}, but it may occasionally be useful to explicitly create `Request` instances.\n     * One such example is when creating services that wrap higher-level services, like {@link Http},\n     * where it may be useful to generate a `Request` with arbitrary headers and search params.\n     *\n     * ```typescript\n     * import {Injectable, Injector} from '@angular/core';\n     * import {HTTP_PROVIDERS, Http, Request, RequestMethod} from '@angular/http';\n     *\n     * @Injectable()\n     * class AutoAuthenticator {\n     *   constructor(public http:Http) {}\n     *   request(url:string) {\n     *     return this.http.request(new Request({\n     *       method: RequestMethod.Get,\n     *       url: url,\n     *       search: 'password=123'\n     *     }));\n     *   }\n     * }\n     *\n     * var injector = Injector.resolveAndCreate([HTTP_PROVIDERS, AutoAuthenticator]);\n     * var authenticator = injector.get(AutoAuthenticator);\n     * authenticator.request('people.json').subscribe(res => {\n     *   //URL should have included '?password=123'\n     *   console.log('people', res.json());\n     * });\n     * ```\n     *\n     * @experimental\n     */\n    var Request = (function () {\n        function Request(requestOptions) {\n            // TODO: assert that url is present\n            var url = requestOptions.url;\n            this.url = requestOptions.url;\n            if (isPresent(requestOptions.search)) {\n                var search = requestOptions.search.toString();\n                if (search.length > 0) {\n                    var prefix = '?';\n                    if (StringWrapper.contains(this.url, '?')) {\n                        prefix = (this.url[this.url.length - 1] == '&') ? '' : '&';\n                    }\n                    // TODO: just delete search-query-looking string in url?\n                    this.url = url + prefix + search;\n                }\n            }\n            this._body = requestOptions.body;\n            this.contentType = this.detectContentType();\n            this.method = normalizeMethodName(requestOptions.method);\n            // TODO(jeffbcross): implement behavior\n            // Defaults to 'omit', consistent with browser\n            // TODO(jeffbcross): implement behavior\n            this.headers = new Headers(requestOptions.headers);\n            this.withCredentials = requestOptions.withCredentials;\n        }\n        /**\n         * Returns the request's body as string, assuming that body exists. If body is undefined, return\n         * empty\n         * string.\n         */\n        Request.prototype.text = function () { return isPresent(this._body) ? this._body.toString() : ''; };\n        /**\n         * Returns the request's body as JSON string, assuming that body exists. If body is undefined,\n         * return\n         * empty\n         * string.\n         */\n        Request.prototype.json = function () { return isPresent(this._body) ? JSON.stringify(this._body) : ''; };\n        /**\n         * Returns the request's body as array buffer, assuming that body exists. If body is undefined,\n         * return\n         * null.\n         */\n        Request.prototype.arrayBuffer = function () {\n            if (this._body instanceof ArrayBuffer)\n                return this._body;\n            throw 'The request body isn\\'t an array buffer';\n        };\n        /**\n         * Returns the request's body as blob, assuming that body exists. If body is undefined, return\n         * null.\n         */\n        Request.prototype.blob = function () {\n            if (this._body instanceof Blob)\n                return this._body;\n            if (this._body instanceof ArrayBuffer)\n                return new Blob([this._body]);\n            throw 'The request body isn\\'t either a blob or an array buffer';\n        };\n        /**\n         * Returns the content type of request's body based on its type.\n         */\n        Request.prototype.detectContentType = function () {\n            if (this._body == null) {\n                return ContentType.NONE;\n            }\n            else if (this._body instanceof URLSearchParams) {\n                return ContentType.FORM;\n            }\n            else if (this._body instanceof FormData) {\n                return ContentType.FORM_DATA;\n            }\n            else if (this._body instanceof Blob) {\n                return ContentType.BLOB;\n            }\n            else if (this._body instanceof ArrayBuffer) {\n                return ContentType.ARRAY_BUFFER;\n            }\n            else if (this._body && typeof this._body == 'object') {\n                return ContentType.JSON;\n            }\n            else {\n                return ContentType.TEXT;\n            }\n        };\n        /**\n         * Returns the request's body according to its type. If body is undefined, return\n         * null.\n         */\n        Request.prototype.getBody = function () {\n            switch (this.contentType) {\n                case ContentType.JSON:\n                    return this.json();\n                case ContentType.FORM:\n                    return this.text();\n                case ContentType.FORM_DATA:\n                    return this._body;\n                case ContentType.TEXT:\n                    return this.text();\n                case ContentType.BLOB:\n                    return this.blob();\n                case ContentType.ARRAY_BUFFER:\n                    return this.arrayBuffer();\n                default:\n                    return null;\n            }\n        };\n        return Request;\n    }());\n    var noop$1 = function () { };\n    var w = typeof window == 'object' ? window : noop$1;\n    var FormData = w['FormData'] || noop$1;\n    var Blob = w['Blob'] || noop$1;\n    var ArrayBuffer = w['ArrayBuffer'] || noop$1;\n    function httpRequest(backend, request) {\n        return backend.createConnection(request).response;\n    }\n    function mergeOptions(defaultOpts, providedOpts, method, url) {\n        var newOptions = defaultOpts;\n        if (isPresent(providedOpts)) {\n            // Hack so Dart can used named parameters\n            return newOptions.merge(new RequestOptions({\n                method: providedOpts.method || method,\n                url: providedOpts.url || url,\n                search: providedOpts.search,\n                headers: providedOpts.headers,\n                body: providedOpts.body,\n                withCredentials: providedOpts.withCredentials\n            }));\n        }\n        if (isPresent(method)) {\n            return newOptions.merge(new RequestOptions({ method: method, url: url }));\n        }\n        else {\n            return newOptions.merge(new RequestOptions({ url: url }));\n        }\n    }\n    var Http = (function () {\n        function Http(_backend, _defaultOptions) {\n            this._backend = _backend;\n            this._defaultOptions = _defaultOptions;\n        }\n        /**\n         * Performs any type of http request. First argument is required, and can either be a url or\n         * a {@link Request} instance. If the first argument is a url, an optional {@link RequestOptions}\n         * object can be provided as the 2nd argument. The options object will be merged with the values\n         * of {@link BaseRequestOptions} before performing the request.\n         */\n        Http.prototype.request = function (url, options) {\n            var responseObservable;\n            if (isString(url)) {\n                responseObservable = httpRequest(this._backend, new Request(mergeOptions(this._defaultOptions, options, exports.RequestMethod.Get, url)));\n            }\n            else if (url instanceof Request) {\n                responseObservable = httpRequest(this._backend, url);\n            }\n            else {\n                throw makeTypeError('First argument must be a url string or Request instance.');\n            }\n            return responseObservable;\n        };\n        /**\n         * Performs a request with `get` http method.\n         */\n        Http.prototype.get = function (url, options) {\n            return httpRequest(this._backend, new Request(mergeOptions(this._defaultOptions, options, exports.RequestMethod.Get, url)));\n        };\n        /**\n         * Performs a request with `post` http method.\n         */\n        Http.prototype.post = function (url, body, options) {\n            return httpRequest(this._backend, new Request(mergeOptions(this._defaultOptions.merge(new RequestOptions({ body: body })), options, exports.RequestMethod.Post, url)));\n        };\n        /**\n         * Performs a request with `put` http method.\n         */\n        Http.prototype.put = function (url, body, options) {\n            return httpRequest(this._backend, new Request(mergeOptions(this._defaultOptions.merge(new RequestOptions({ body: body })), options, exports.RequestMethod.Put, url)));\n        };\n        /**\n         * Performs a request with `delete` http method.\n         */\n        Http.prototype.delete = function (url, options) {\n            return httpRequest(this._backend, new Request(mergeOptions(this._defaultOptions, options, exports.RequestMethod.Delete, url)));\n        };\n        /**\n         * Performs a request with `patch` http method.\n         */\n        Http.prototype.patch = function (url, body, options) {\n            return httpRequest(this._backend, new Request(mergeOptions(this._defaultOptions.merge(new RequestOptions({ body: body })), options, exports.RequestMethod.Patch, url)));\n        };\n        /**\n         * Performs a request with `head` http method.\n         */\n        Http.prototype.head = function (url, options) {\n            return httpRequest(this._backend, new Request(mergeOptions(this._defaultOptions, options, exports.RequestMethod.Head, url)));\n        };\n        return Http;\n    }());\n    /** @nocollapse */\n    Http.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    Http.ctorParameters = [\n        { type: ConnectionBackend, },\n        { type: RequestOptions, },\n    ];\n    var Jsonp = (function (_super) {\n        __extends(Jsonp, _super);\n        function Jsonp(backend, defaultOptions) {\n            _super.call(this, backend, defaultOptions);\n        }\n        /**\n         * Performs any type of http request. First argument is required, and can either be a url or\n         * a {@link Request} instance. If the first argument is a url, an optional {@link RequestOptions}\n         * object can be provided as the 2nd argument. The options object will be merged with the values\n         * of {@link BaseRequestOptions} before performing the request.\n         *\n         * @security Regular XHR is the safest alternative to JSONP for most applications, and is\n         * supported by all current browsers. Because JSONP creates a `<script>` element with\n         * contents retrieved from a remote source, attacker-controlled data introduced by an untrusted\n         * source could expose your application to XSS risks. Data exposed by JSONP may also be\n         * readable by malicious third-party websites. In addition, JSONP introduces potential risk for\n         * future security issues (e.g. content sniffing).  For more detail, see the\n         * [Security Guide](http://g.co/ng/security).\n         */\n        Jsonp.prototype.request = function (url, options) {\n            var responseObservable;\n            if (isString(url)) {\n                url =\n                    new Request(mergeOptions(this._defaultOptions, options, exports.RequestMethod.Get, url));\n            }\n            if (url instanceof Request) {\n                if (url.method !== exports.RequestMethod.Get) {\n                    makeTypeError('JSONP requests must use GET request method.');\n                }\n                responseObservable = httpRequest(this._backend, url);\n            }\n            else {\n                throw makeTypeError('First argument must be a url string or Request instance.');\n            }\n            return responseObservable;\n        };\n        return Jsonp;\n    }(Http));\n    /** @nocollapse */\n    Jsonp.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    Jsonp.ctorParameters = [\n        { type: ConnectionBackend, },\n        { type: RequestOptions, },\n    ];\n    /**\n     * Provides a basic set of injectables to use the {@link Http} service in any application.\n     *\n     * The `HTTP_PROVIDERS` should be included either in a component's injector,\n     * or in the root injector when bootstrapping an application.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/snj7Nv?p=preview))\n     *\n     * ```\n     * import {Component} from '@angular/core';\n     * import {bootstrap} from '@angular/platform-browser/browser';\n     * import {NgFor} from '@angular/common';\n     * import {HTTP_PROVIDERS, Http} from '@angular/http';\n     *\n     * @Component({\n     *   selector: 'app',\n     *   providers: [HTTP_PROVIDERS],\n     *   template: `\n     *     <div>\n     *       <h1>People</h1>\n     *       <ul>\n     *         <li *ngFor=\"let person of people\">\n     *           {{person.name}}\n     *         </li>\n     *       </ul>\n     *     </div>\n     *   `,\n     *   directives: [NgFor]\n     * })\n     * export class App {\n     *   people: Object[];\n     *   constructor(http:Http) {\n     *     http.get('people.json').subscribe(res => {\n     *       this.people = res.json();\n     *     });\n     *   }\n     *   active:boolean = false;\n     *   toggleActiveState() {\n     *     this.active = !this.active;\n     *   }\n     * }\n     *\n     * bootstrap(App)\n     *   .catch(err => console.error(err));\n     * ```\n     *\n     * The primary public API included in `HTTP_PROVIDERS` is the {@link Http} class.\n     * However, other providers required by `Http` are included,\n     * which may be beneficial to override in certain cases.\n     *\n     * The providers included in `HTTP_PROVIDERS` include:\n     *  * {@link Http}\n     *  * {@link XHRBackend}\n     *  * {@link XSRFStrategy} - Bound to {@link CookieXSRFStrategy} class (see below)\n     *  * `BrowserXHR` - Private factory to create `XMLHttpRequest` instances\n     *  * {@link RequestOptions} - Bound to {@link BaseRequestOptions} class\n     *  * {@link ResponseOptions} - Bound to {@link BaseResponseOptions} class\n     *\n     * There may be cases where it makes sense to extend the base request options,\n     * such as to add a search string to be appended to all URLs.\n     * To accomplish this, a new provider for {@link RequestOptions} should\n     * be added in the same injector as `HTTP_PROVIDERS`.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/aCMEXi?p=preview))\n     *\n     * ```\n     * import {provide} from '@angular/core';\n     * import {bootstrap} from '@angular/platform-browser/browser';\n     * import {HTTP_PROVIDERS, BaseRequestOptions, RequestOptions} from '@angular/http';\n     *\n     * class MyOptions extends BaseRequestOptions {\n     *   search: string = 'coreTeam=true';\n     * }\n     *\n     * bootstrap(App, [HTTP_PROVIDERS, {provide: RequestOptions, useClass: MyOptions}])\n     *   .catch(err => console.error(err));\n     * ```\n     *\n     * Likewise, to use a mock backend for unit tests, the {@link XHRBackend}\n     * provider should be bound to {@link MockBackend}.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/7LWALD?p=preview))\n     *\n     * ```\n     * import {provide} from '@angular/core';\n     * import {bootstrap} from '@angular/platform-browser/browser';\n     * import {HTTP_PROVIDERS, Http, Response, XHRBackend} from '@angular/http';\n     * import {MockBackend} from '@angular/http/testing';\n     *\n     * var people = [{name: 'Jeff'}, {name: 'Tobias'}];\n     *\n     * var injector = Injector.resolveAndCreate([\n     *   HTTP_PROVIDERS,\n     *   MockBackend,\n     *   {provide: XHRBackend, useExisting: MockBackend}\n     * ]);\n     * var http = injector.get(Http);\n     * var backend = injector.get(MockBackend);\n     *\n     * // Listen for any new requests\n     * backend.connections.observer({\n     *   next: connection => {\n     *     var response = new Response({body: people});\n     *     setTimeout(() => {\n     *       // Send a response to the request\n     *       connection.mockRespond(response);\n     *     });\n     *   }\n     * });\n     *\n     * http.get('people.json').observer({\n     *   next: res => {\n     *     // Response came from mock backend\n     *     console.log('first person', res.json()[0].name);\n     *   }\n     * });\n     * ```\n     *\n     * `XSRFStrategy` allows customizing how the application protects itself against Cross Site Request\n     * Forgery (XSRF) attacks. By default, Angular will look for a cookie called `'XSRF-TOKEN'`, and set\n     * an HTTP request header called `'X-XSRF-TOKEN'` with the value of the cookie on each request,\n     * allowing the server side to validate that the request comes from its own front end.\n     *\n     * Applications can override the names used by configuring a different `XSRFStrategy` instance. Most\n     * commonly, applications will configure a `CookieXSRFStrategy` with different cookie or header\n     * names, but if needed, they can supply a completely custom implementation.\n     *\n     * See the security documentation for more information.\n     *\n     * ### Example\n     *\n     * ```\n     * import {provide} from '@angular/core';\n     * import {bootstrap} from '@angular/platform-browser/browser';\n     * import {HTTP_PROVIDERS, XSRFStrategy, CookieXSRFStrategy} from '@angular/http';\n     *\n     * bootstrap(\n     *     App,\n     *     [HTTP_PROVIDERS, {provide: XSRFStrategy,\n     *         useValue: new CookieXSRFStrategy('MY-XSRF-COOKIE-NAME', 'X-MY-XSRF-HEADER-NAME')}])\n     *   .catch(err => console.error(err));\n     * ```\n     *\n     * @experimental\n     */\n    var HTTP_PROVIDERS = [\n        // TODO(pascal): use factory type annotations once supported in DI\n        // issue: https://github.com/angular/angular/issues/3183\n        { provide: Http, useFactory: httpFactory, deps: [XHRBackend, RequestOptions] },\n        BrowserXhr,\n        { provide: RequestOptions, useClass: BaseRequestOptions },\n        { provide: ResponseOptions, useClass: BaseResponseOptions },\n        XHRBackend,\n        { provide: XSRFStrategy, useValue: new CookieXSRFStrategy() },\n    ];\n    /**\n     * @experimental\n     */\n    function httpFactory(xhrBackend, requestOptions) {\n        return new Http(xhrBackend, requestOptions);\n    }\n    /**\n     * See {@link HTTP_PROVIDERS} instead.\n     *\n     * @deprecated\n     */\n    var HTTP_BINDINGS = HTTP_PROVIDERS;\n    /**\n     * Provides a basic set of providers to use the {@link Jsonp} service in any application.\n     *\n     * The `JSONP_PROVIDERS` should be included either in a component's injector,\n     * or in the root injector when bootstrapping an application.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/vmeN4F?p=preview))\n     *\n     * ```\n     * import {Component} from '@angular/core';\n     * import {NgFor} from '@angular/common';\n     * import {JSONP_PROVIDERS, Jsonp} from '@angular/http';\n     *\n     * @Component({\n     *   selector: 'app',\n     *   providers: [JSONP_PROVIDERS],\n     *   template: `\n     *     <div>\n     *       <h1>People</h1>\n     *       <ul>\n     *         <li *ngFor=\"let person of people\">\n     *           {{person.name}}\n     *         </li>\n     *       </ul>\n     *     </div>\n     *   `,\n     *   directives: [NgFor]\n     * })\n     * export class App {\n     *   people: Array<Object>;\n     *   constructor(jsonp:Jsonp) {\n     *     jsonp.request('people.json').subscribe(res => {\n     *       this.people = res.json();\n     *     })\n     *   }\n     * }\n     * ```\n     *\n     * The primary public API included in `JSONP_PROVIDERS` is the {@link Jsonp} class.\n     * However, other providers required by `Jsonp` are included,\n     * which may be beneficial to override in certain cases.\n     *\n     * The providers included in `JSONP_PROVIDERS` include:\n     *  * {@link Jsonp}\n     *  * {@link JSONPBackend}\n     *  * `BrowserJsonp` - Private factory\n     *  * {@link RequestOptions} - Bound to {@link BaseRequestOptions} class\n     *  * {@link ResponseOptions} - Bound to {@link BaseResponseOptions} class\n     *\n     * There may be cases where it makes sense to extend the base request options,\n     * such as to add a search string to be appended to all URLs.\n     * To accomplish this, a new provider for {@link RequestOptions} should\n     * be added in the same injector as `JSONP_PROVIDERS`.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/TFug7x?p=preview))\n     *\n     * ```\n     * import {provide} from '@angular/core';\n     * import {bootstrap} from '@angular/platform-browser/browser';\n     * import {JSONP_PROVIDERS, BaseRequestOptions, RequestOptions} from '@angular/http';\n     *\n     * class MyOptions extends BaseRequestOptions {\n     *   search: string = 'coreTeam=true';\n     * }\n     *\n     * bootstrap(App, [JSONP_PROVIDERS, {provide: RequestOptions, useClass: MyOptions}])\n     *   .catch(err => console.error(err));\n     * ```\n     *\n     * Likewise, to use a mock backend for unit tests, the {@link JSONPBackend}\n     * provider should be bound to {@link MockBackend}.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/HDqZWL?p=preview))\n     *\n     * ```\n     * import {provide, Injector} from '@angular/core';\n     * import {JSONP_PROVIDERS, Jsonp, Response, JSONPBackend} from '@angular/http';\n     * import {MockBackend} from '@angular/http/testing';\n     *\n     * var people = [{name: 'Jeff'}, {name: 'Tobias'}];\n     * var injector = Injector.resolveAndCreate([\n     *   JSONP_PROVIDERS,\n     *   MockBackend,\n     *   {provide: JSONPBackend, useExisting: MockBackend}\n     * ]);\n     * var jsonp = injector.get(Jsonp);\n     * var backend = injector.get(MockBackend);\n     *\n     * // Listen for any new requests\n     * backend.connections.observer({\n     *   next: connection => {\n     *     var response = new Response({body: people});\n     *     setTimeout(() => {\n     *       // Send a response to the request\n     *       connection.mockRespond(response);\n     *     });\n     *   }\n     * });\n\n     * jsonp.get('people.json').observer({\n     *   next: res => {\n     *     // Response came from mock backend\n     *     console.log('first person', res.json()[0].name);\n     *   }\n     * });\n     * ```\n     *\n     * @experimental\n     */\n    var JSONP_PROVIDERS = [\n        // TODO(pascal): use factory type annotations once supported in DI\n        // issue: https://github.com/angular/angular/issues/3183\n        { provide: Jsonp, useFactory: jsonpFactory, deps: [JSONPBackend, RequestOptions] },\n        BrowserJsonp,\n        { provide: RequestOptions, useClass: BaseRequestOptions },\n        { provide: ResponseOptions, useClass: BaseResponseOptions },\n        { provide: JSONPBackend, useClass: JSONPBackend_ },\n    ];\n    function jsonpFactory(jsonpBackend, requestOptions) {\n        return new Jsonp(jsonpBackend, requestOptions);\n    }\n    /**\n     * See {@link JSONP_PROVIDERS} instead.\n     *\n     * @deprecated\n     */\n    var JSON_BINDINGS = JSONP_PROVIDERS;\n    exports.HTTP_PROVIDERS = HTTP_PROVIDERS;\n    exports.httpFactory = httpFactory;\n    exports.HTTP_BINDINGS = HTTP_BINDINGS;\n    exports.JSONP_PROVIDERS = JSONP_PROVIDERS;\n    exports.JSON_BINDINGS = JSON_BINDINGS;\n    exports.BrowserXhr = BrowserXhr;\n    exports.JSONPBackend = JSONPBackend;\n    exports.JSONPConnection = JSONPConnection;\n    exports.CookieXSRFStrategy = CookieXSRFStrategy;\n    exports.XHRBackend = XHRBackend;\n    exports.XHRConnection = XHRConnection;\n    exports.BaseRequestOptions = BaseRequestOptions;\n    exports.RequestOptions = RequestOptions;\n    exports.BaseResponseOptions = BaseResponseOptions;\n    exports.ResponseOptions = ResponseOptions;\n    exports.Headers = Headers;\n    exports.Http = Http;\n    exports.Jsonp = Jsonp;\n    exports.Connection = Connection;\n    exports.ConnectionBackend = ConnectionBackend;\n    exports.XSRFStrategy = XSRFStrategy;\n    exports.Request = Request;\n    exports.Response = Response;\n    exports.QueryEncoder = QueryEncoder;\n    exports.URLSearchParams = URLSearchParams;\n}));\n"]}