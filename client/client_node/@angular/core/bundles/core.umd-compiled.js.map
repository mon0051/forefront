{"version":3,"sources":["core.umd.js"],"names":[],"mappings":"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","file":"core.umd-compiled.js","sourcesContent":["/**\n * @license Angular 2.0.0-rc.4\n * (c) 2010-2016 Google, Inc. https://angular.io/\n * License: MIT\n */\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('rxjs/Subject'), require('rxjs/observable/PromiseObservable'), require('rxjs/operator/toPromise'), require('rxjs/Observable')) :\n        typeof define === 'function' && define.amd ? define(['exports', 'rxjs/Subject', 'rxjs/observable/PromiseObservable', 'rxjs/operator/toPromise', 'rxjs/Observable'], factory) :\n            (factory((global.ng = global.ng || {}, global.ng.core = global.ng.core || {}), global.Rx, global.Rx, global.Rx.Observable.prototype, global.Rx));\n}(this, function (exports, rxjs_Subject, rxjs_observable_PromiseObservable, rxjs_operator_toPromise, rxjs_Observable) {\n    'use strict';\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var globalScope;\n    if (typeof window === 'undefined') {\n        if (typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope) {\n            // TODO: Replace any with WorkerGlobalScope from lib.webworker.d.ts #3492\n            globalScope = self;\n        }\n        else {\n            globalScope = global;\n        }\n    }\n    else {\n        globalScope = window;\n    }\n    function scheduleMicroTask(fn) {\n        Zone.current.scheduleMicroTask('scheduleMicrotask', fn);\n    }\n    var IS_DART = false;\n    // Need to declare a new variable for global here since TypeScript\n    // exports the original value of the symbol.\n    var global$1 = globalScope;\n    /**\n     * Runtime representation a type that a Component or other object is instances of.\n     *\n     * An example of a `Type` is `MyCustomComponent` class, which in JavaScript is be represented by\n     * the `MyCustomComponent` constructor function.\n     *\n     * @stable\n     */\n    var Type = Function;\n    function getTypeNameForDebugging(type) {\n        if (type['name']) {\n            return type['name'];\n        }\n        return typeof type;\n    }\n    var Math = global$1.Math;\n    // TODO: remove calls to assert in production environment\n    // Note: Can't just export this and import in in other files\n    // as `assert` is a reserved keyword in Dart\n    global$1.assert = function assert(condition) {\n        // TODO: to be fixed properly via #2830, noop for now\n    };\n    function isPresent(obj) {\n        return obj !== undefined && obj !== null;\n    }\n    function isBlank(obj) {\n        return obj === undefined || obj === null;\n    }\n    function isString(obj) {\n        return typeof obj === 'string';\n    }\n    function isFunction(obj) {\n        return typeof obj === 'function';\n    }\n    function isType(obj) {\n        return isFunction(obj);\n    }\n    function isPromise(obj) {\n        return obj instanceof global$1.Promise;\n    }\n    function isArray(obj) {\n        return Array.isArray(obj);\n    }\n    function noop() { }\n    function stringify(token) {\n        if (typeof token === 'string') {\n            return token;\n        }\n        if (token === undefined || token === null) {\n            return '' + token;\n        }\n        if (token.name) {\n            return token.name;\n        }\n        if (token.overriddenName) {\n            return token.overriddenName;\n        }\n        var res = token.toString();\n        var newLineIndex = res.indexOf('\\n');\n        return (newLineIndex === -1) ? res : res.substring(0, newLineIndex);\n    }\n    var StringWrapper = (function () {\n        function StringWrapper() {\n        }\n        StringWrapper.fromCharCode = function (code) { return String.fromCharCode(code); };\n        StringWrapper.charCodeAt = function (s, index) { return s.charCodeAt(index); };\n        StringWrapper.split = function (s, regExp) { return s.split(regExp); };\n        StringWrapper.equals = function (s, s2) { return s === s2; };\n        StringWrapper.stripLeft = function (s, charVal) {\n            if (s && s.length) {\n                var pos = 0;\n                for (var i = 0; i < s.length; i++) {\n                    if (s[i] != charVal)\n                        break;\n                    pos++;\n                }\n                s = s.substring(pos);\n            }\n            return s;\n        };\n        StringWrapper.stripRight = function (s, charVal) {\n            if (s && s.length) {\n                var pos = s.length;\n                for (var i = s.length - 1; i >= 0; i--) {\n                    if (s[i] != charVal)\n                        break;\n                    pos--;\n                }\n                s = s.substring(0, pos);\n            }\n            return s;\n        };\n        StringWrapper.replace = function (s, from, replace) {\n            return s.replace(from, replace);\n        };\n        StringWrapper.replaceAll = function (s, from, replace) {\n            return s.replace(from, replace);\n        };\n        StringWrapper.slice = function (s, from, to) {\n            if (from === void 0) { from = 0; }\n            if (to === void 0) { to = null; }\n            return s.slice(from, to === null ? undefined : to);\n        };\n        StringWrapper.replaceAllMapped = function (s, from, cb) {\n            return s.replace(from, function () {\n                var matches = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    matches[_i - 0] = arguments[_i];\n                }\n                // Remove offset & string from the result array\n                matches.splice(-2, 2);\n                // The callback receives match, p1, ..., pn\n                return cb(matches);\n            });\n        };\n        StringWrapper.contains = function (s, substr) { return s.indexOf(substr) != -1; };\n        StringWrapper.compare = function (a, b) {\n            if (a < b) {\n                return -1;\n            }\n            else if (a > b) {\n                return 1;\n            }\n            else {\n                return 0;\n            }\n        };\n        return StringWrapper;\n    }());\n    var NumberParseError = (function (_super) {\n        __extends(NumberParseError, _super);\n        function NumberParseError(message) {\n            _super.call(this);\n            this.message = message;\n        }\n        NumberParseError.prototype.toString = function () { return this.message; };\n        return NumberParseError;\n    }(Error));\n    var NumberWrapper = (function () {\n        function NumberWrapper() {\n        }\n        NumberWrapper.toFixed = function (n, fractionDigits) { return n.toFixed(fractionDigits); };\n        NumberWrapper.equal = function (a, b) { return a === b; };\n        NumberWrapper.parseIntAutoRadix = function (text) {\n            var result = parseInt(text);\n            if (isNaN(result)) {\n                throw new NumberParseError('Invalid integer literal when parsing ' + text);\n            }\n            return result;\n        };\n        NumberWrapper.parseInt = function (text, radix) {\n            if (radix == 10) {\n                if (/^(\\-|\\+)?[0-9]+$/.test(text)) {\n                    return parseInt(text, radix);\n                }\n            }\n            else if (radix == 16) {\n                if (/^(\\-|\\+)?[0-9ABCDEFabcdef]+$/.test(text)) {\n                    return parseInt(text, radix);\n                }\n            }\n            else {\n                var result = parseInt(text, radix);\n                if (!isNaN(result)) {\n                    return result;\n                }\n            }\n            throw new NumberParseError('Invalid integer literal when parsing ' + text + ' in base ' + radix);\n        };\n        // TODO: NaN is a valid literal but is returned by parseFloat to indicate an error.\n        NumberWrapper.parseFloat = function (text) { return parseFloat(text); };\n        Object.defineProperty(NumberWrapper, \"NaN\", {\n            get: function () { return NaN; },\n            enumerable: true,\n            configurable: true\n        });\n        NumberWrapper.isNumeric = function (value) { return !isNaN(value - parseFloat(value)); };\n        NumberWrapper.isNaN = function (value) { return isNaN(value); };\n        NumberWrapper.isInteger = function (value) { return Number.isInteger(value); };\n        return NumberWrapper;\n    }());\n    // JS has NaN !== NaN\n    function looseIdentical(a, b) {\n        return a === b || typeof a === 'number' && typeof b === 'number' && isNaN(a) && isNaN(b);\n    }\n    // JS considers NaN is the same as NaN for map Key (while NaN !== NaN otherwise)\n    // see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map\n    function getMapKey(value) {\n        return value;\n    }\n    function normalizeBool(obj) {\n        return isBlank(obj) ? false : obj;\n    }\n    function isJsObject(o) {\n        return o !== null && (typeof o === 'function' || typeof o === 'object');\n    }\n    function print(obj) {\n        console.log(obj);\n    }\n    function warn(obj) {\n        console.warn(obj);\n    }\n    var _symbolIterator = null;\n    function getSymbolIterator() {\n        if (isBlank(_symbolIterator)) {\n            if (isPresent(globalScope.Symbol) && isPresent(Symbol.iterator)) {\n                _symbolIterator = Symbol.iterator;\n            }\n            else {\n                // es6-shim specific logic\n                var keys = Object.getOwnPropertyNames(Map.prototype);\n                for (var i = 0; i < keys.length; ++i) {\n                    var key = keys[i];\n                    if (key !== 'entries' && key !== 'size' &&\n                        Map.prototype[key] === Map.prototype['entries']) {\n                        _symbolIterator = key;\n                    }\n                }\n            }\n        }\n        return _symbolIterator;\n    }\n    function isPrimitive(obj) {\n        return !isJsObject(obj);\n    }\n    /**\n     * Allows to refer to references which are not yet defined.\n     *\n     * For instance, `forwardRef` is used when the `token` which we need to refer to for the purposes of\n     * DI is declared,\n     * but not yet defined. It is also used when the `token` which we use when creating a query is not\n     * yet defined.\n     *\n     * ### Example\n     * {@example core/di/ts/forward_ref/forward_ref.ts region='forward_ref'}\n     * @experimental\n     */\n    function forwardRef(forwardRefFn) {\n        forwardRefFn.__forward_ref__ = forwardRef;\n        forwardRefFn.toString = function () { return stringify(this()); };\n        return forwardRefFn;\n    }\n    /**\n     * Lazily retrieves the reference value from a forwardRef.\n     *\n     * Acts as the identity function when given a non-forward-ref value.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/GU72mJrk1fiodChcmiDR?p=preview))\n     *\n     * ```typescript\n     * var ref = forwardRef(() => \"refValue\");\n     * expect(resolveForwardRef(ref)).toEqual(\"refValue\");\n     * expect(resolveForwardRef(\"regularValue\")).toEqual(\"regularValue\");\n     * ```\n     *\n     * See: {@link forwardRef}\n     * @experimental\n     */\n    function resolveForwardRef(type) {\n        if (isFunction(type) && type.hasOwnProperty('__forward_ref__') &&\n            type.__forward_ref__ === forwardRef) {\n            return type();\n        }\n        else {\n            return type;\n        }\n    }\n    /**\n     * A parameter metadata that specifies a dependency.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/6uHYJK?p=preview))\n     *\n     * ```typescript\n     * class Engine {}\n     *\n     * @Injectable()\n     * class Car {\n     *   engine;\n     *   constructor(@Inject(\"MyEngine\") engine:Engine) {\n     *     this.engine = engine;\n     *   }\n     * }\n     *\n     * var injector = Injector.resolveAndCreate([\n     *  {provide: \"MyEngine\", useClass: Engine},\n     *  Car\n     * ]);\n     *\n     * expect(injector.get(Car).engine instanceof Engine).toBe(true);\n     * ```\n     *\n     * When `@Inject()` is not present, {@link Injector} will use the type annotation of the parameter.\n     *\n     * ### Example\n     *\n     * ```typescript\n     * class Engine {}\n     *\n     * @Injectable()\n     * class Car {\n     *   constructor(public engine: Engine) {} //same as constructor(@Inject(Engine) engine:Engine)\n     * }\n     *\n     * var injector = Injector.resolveAndCreate([Engine, Car]);\n     * expect(injector.get(Car).engine instanceof Engine).toBe(true);\n     * ```\n     * @ts2dart_const\n     * @stable\n     */\n    var InjectMetadata = (function () {\n        function InjectMetadata(token) {\n            this.token = token;\n        }\n        InjectMetadata.prototype.toString = function () { return \"@Inject(\" + stringify(this.token) + \")\"; };\n        return InjectMetadata;\n    }());\n    /**\n     * A parameter metadata that marks a dependency as optional. {@link Injector} provides `null` if\n     * the dependency is not found.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/AsryOm?p=preview))\n     *\n     * ```typescript\n     * class Engine {}\n     *\n     * @Injectable()\n     * class Car {\n     *   engine;\n     *   constructor(@Optional() engine:Engine) {\n     *     this.engine = engine;\n     *   }\n     * }\n     *\n     * var injector = Injector.resolveAndCreate([Car]);\n     * expect(injector.get(Car).engine).toBeNull();\n     * ```\n     * @ts2dart_const\n     * @stable\n     */\n    var OptionalMetadata = (function () {\n        function OptionalMetadata() {\n        }\n        OptionalMetadata.prototype.toString = function () { return \"@Optional()\"; };\n        return OptionalMetadata;\n    }());\n    /**\n     * `DependencyMetadata` is used by the framework to extend DI.\n     * This is internal to Angular and should not be used directly.\n     * @ts2dart_const\n     * @stable\n     */\n    var DependencyMetadata = (function () {\n        function DependencyMetadata() {\n        }\n        Object.defineProperty(DependencyMetadata.prototype, \"token\", {\n            get: function () { return null; },\n            enumerable: true,\n            configurable: true\n        });\n        return DependencyMetadata;\n    }());\n    /**\n     * A marker metadata that marks a class as available to {@link Injector} for creation.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/Wk4DMQ?p=preview))\n     *\n     * ```typescript\n     * @Injectable()\n     * class UsefulService {}\n     *\n     * @Injectable()\n     * class NeedsService {\n     *   constructor(public service:UsefulService) {}\n     * }\n     *\n     * var injector = Injector.resolveAndCreate([NeedsService, UsefulService]);\n     * expect(injector.get(NeedsService).service instanceof UsefulService).toBe(true);\n     * ```\n     * {@link Injector} will throw {@link NoAnnotationError} when trying to instantiate a class that\n     * does not have `@Injectable` marker, as shown in the example below.\n     *\n     * ```typescript\n     * class UsefulService {}\n     *\n     * class NeedsService {\n     *   constructor(public service:UsefulService) {}\n     * }\n     *\n     * var injector = Injector.resolveAndCreate([NeedsService, UsefulService]);\n     * expect(() => injector.get(NeedsService)).toThrowError();\n     * ```\n     * @ts2dart_const\n     * @stable\n     */\n    var InjectableMetadata = (function () {\n        function InjectableMetadata() {\n        }\n        return InjectableMetadata;\n    }());\n    /**\n     * Specifies that an {@link Injector} should retrieve a dependency only from itself.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/NeagAg?p=preview))\n     *\n     * ```typescript\n     * class Dependency {\n     * }\n     *\n     * @Injectable()\n     * class NeedsDependency {\n     *   dependency;\n     *   constructor(@Self() dependency:Dependency) {\n     *     this.dependency = dependency;\n     *   }\n     * }\n     *\n     * var inj = Injector.resolveAndCreate([Dependency, NeedsDependency]);\n     * var nd = inj.get(NeedsDependency);\n     *\n     * expect(nd.dependency instanceof Dependency).toBe(true);\n     *\n     * var inj = Injector.resolveAndCreate([Dependency]);\n     * var child = inj.resolveAndCreateChild([NeedsDependency]);\n     * expect(() => child.get(NeedsDependency)).toThrowError();\n     * ```\n     * @ts2dart_const\n     * @stable\n     */\n    var SelfMetadata = (function () {\n        function SelfMetadata() {\n        }\n        SelfMetadata.prototype.toString = function () { return \"@Self()\"; };\n        return SelfMetadata;\n    }());\n    /**\n     * Specifies that the dependency resolution should start from the parent injector.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/Wchdzb?p=preview))\n     *\n     * ```typescript\n     * class Dependency {\n     * }\n     *\n     * @Injectable()\n     * class NeedsDependency {\n     *   dependency;\n     *   constructor(@SkipSelf() dependency:Dependency) {\n     *     this.dependency = dependency;\n     *   }\n     * }\n     *\n     * var parent = Injector.resolveAndCreate([Dependency]);\n     * var child = parent.resolveAndCreateChild([NeedsDependency]);\n     * expect(child.get(NeedsDependency).dependency instanceof Depedency).toBe(true);\n     *\n     * var inj = Injector.resolveAndCreate([Dependency, NeedsDependency]);\n     * expect(() => inj.get(NeedsDependency)).toThrowError();\n     * ```\n     * @ts2dart_const\n     * @stable\n     */\n    var SkipSelfMetadata = (function () {\n        function SkipSelfMetadata() {\n        }\n        SkipSelfMetadata.prototype.toString = function () { return \"@SkipSelf()\"; };\n        return SkipSelfMetadata;\n    }());\n    /**\n     * Specifies that an injector should retrieve a dependency from any injector until reaching the\n     * closest host.\n     *\n     * In Angular, a component element is automatically declared as a host for all the injectors in\n     * its view.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/GX79pV?p=preview))\n     *\n     * In the following example `App` contains `ParentCmp`, which contains `ChildDirective`.\n     * So `ParentCmp` is the host of `ChildDirective`.\n     *\n     * `ChildDirective` depends on two services: `HostService` and `OtherService`.\n     * `HostService` is defined at `ParentCmp`, and `OtherService` is defined at `App`.\n     *\n     *```typescript\n     * class OtherService {}\n     * class HostService {}\n     *\n     * @Directive({\n     *   selector: 'child-directive'\n     * })\n     * class ChildDirective {\n     *   constructor(@Optional() @Host() os:OtherService, @Optional() @Host() hs:HostService){\n     *     console.log(\"os is null\", os);\n     *     console.log(\"hs is NOT null\", hs);\n     *   }\n     * }\n     *\n     * @Component({\n     *   selector: 'parent-cmp',\n     *   providers: [HostService],\n     *   template: `\n     *     Dir: <child-directive></child-directive>\n     *   `,\n     *   directives: [ChildDirective]\n     * })\n     * class ParentCmp {\n     * }\n     *\n     * @Component({\n     *   selector: 'app',\n     *   providers: [OtherService],\n     *   template: `\n     *     Parent: <parent-cmp></parent-cmp>\n     *   `,\n     *   directives: [ParentCmp]\n     * })\n     * class App {\n     * }\n     *\n     * bootstrap(App);\n     *```\n     * @ts2dart_const\n     * @stable\n     */\n    var HostMetadata = (function () {\n        function HostMetadata() {\n        }\n        HostMetadata.prototype.toString = function () { return \"@Host()\"; };\n        return HostMetadata;\n    }());\n    /**\n     * Specifies that a constant attribute value should be injected.\n     *\n     * The directive can inject constant string literals of host element attributes.\n     *\n     * ### Example\n     *\n     * Suppose we have an `<input>` element and want to know its `type`.\n     *\n     * ```html\n     * <input type=\"text\">\n     * ```\n     *\n     * A decorator can inject string literal `text` like so:\n     *\n     * {@example core/ts/metadata/metadata.ts region='attributeMetadata'}\n     * @ts2dart_const\n     * @stable\n     */\n    var AttributeMetadata = (function (_super) {\n        __extends(AttributeMetadata, _super);\n        function AttributeMetadata(attributeName) {\n            _super.call(this);\n            this.attributeName = attributeName;\n        }\n        Object.defineProperty(AttributeMetadata.prototype, \"token\", {\n            get: function () {\n                // Normally one would default a token to a type of an injected value but here\n                // the type of a variable is \"string\" and we can't use primitive type as a return value\n                // so we use instance of Attribute instead. This doesn't matter much in practice as arguments\n                // with @Attribute annotation are injected by ElementInjector that doesn't take tokens into\n                // account.\n                return this;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        AttributeMetadata.prototype.toString = function () { return \"@Attribute(\" + stringify(this.attributeName) + \")\"; };\n        return AttributeMetadata;\n    }(DependencyMetadata));\n    /**\n     * Declares an injectable parameter to be a live list of directives or variable\n     * bindings from the content children of a directive.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/lY9m8HLy7z06vDoUaSN2?p=preview))\n     *\n     * Assume that `<tabs>` component would like to get a list its children `<pane>`\n     * components as shown in this example:\n     *\n     * ```html\n     * <tabs>\n     *   <pane title=\"Overview\">...</pane>\n     *   <pane *ngFor=\"let o of objects\" [title]=\"o.title\">{{o.text}}</pane>\n     * </tabs>\n     * ```\n     *\n     * The preferred solution is to query for `Pane` directives using this decorator.\n     *\n     * ```javascript\n     * @Component({\n     *   selector: 'pane',\n     *   inputs: ['title']\n     * })\n     * class Pane {\n     *   title:string;\n     * }\n     *\n     * @Component({\n     *  selector: 'tabs',\n     *  template: `\n     *    <ul>\n     *      <li *ngFor=\"let pane of panes\">{{pane.title}}</li>\n     *    </ul>\n     *    <ng-content></ng-content>\n     *  `\n     * })\n     * class Tabs {\n     *   panes: QueryList<Pane>;\n     *   constructor(@Query(Pane) panes:QueryList<Pane>) {\n      *    this.panes = panes;\n      *  }\n     * }\n     * ```\n     *\n     * A query can look for variable bindings by passing in a string with desired binding symbol.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/sT2j25cH1dURAyBRCKx1?p=preview))\n     * ```html\n     * <seeker>\n     *   <div #findme>...</div>\n     * </seeker>\n     *\n     * @Component({ selector: 'seeker' })\n     * class Seeker {\n     *   constructor(@Query('findme') elList: QueryList<ElementRef>) {...}\n     * }\n     * ```\n     *\n     * In this case the object that is injected depend on the type of the variable\n     * binding. It can be an ElementRef, a directive or a component.\n     *\n     * Passing in a comma separated list of variable bindings will query for all of them.\n     *\n     * ```html\n     * <seeker>\n     *   <div #find-me>...</div>\n     *   <div #find-me-too>...</div>\n     * </seeker>\n     *\n     *  @Component({\n     *   selector: 'seeker'\n     * })\n     * class Seeker {\n     *   constructor(@Query('findMe, findMeToo') elList: QueryList<ElementRef>) {...}\n     * }\n     * ```\n     *\n     * Configure whether query looks for direct children or all descendants\n     * of the querying element, by using the `descendants` parameter.\n     * It is set to `false` by default.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/wtGeB977bv7qvA5FTYl9?p=preview))\n     * ```html\n     * <container #first>\n     *   <item>a</item>\n     *   <item>b</item>\n     *   <container #second>\n     *     <item>c</item>\n     *   </container>\n     * </container>\n     * ```\n     *\n     * When querying for items, the first container will see only `a` and `b` by default,\n     * but with `Query(TextDirective, {descendants: true})` it will see `c` too.\n     *\n     * The queried directives are kept in a depth-first pre-order with respect to their\n     * positions in the DOM.\n     *\n     * Query does not look deep into any subcomponent views.\n     *\n     * Query is updated as part of the change-detection cycle. Since change detection\n     * happens after construction of a directive, QueryList will always be empty when observed in the\n     * constructor.\n     *\n     * The injected object is an unmodifiable live list.\n     * See {@link QueryList} for more details.\n     * @ts2dart_const\n     * @deprecated\n     */\n    var QueryMetadata = (function (_super) {\n        __extends(QueryMetadata, _super);\n        function QueryMetadata(_selector, _a) {\n            var _b = _a === void 0 ? {} : _a, _c = _b.descendants, descendants = _c === void 0 ? false : _c, _d = _b.first, first = _d === void 0 ? false : _d, _e = _b.read, read = _e === void 0 ? null : _e;\n            _super.call(this);\n            this._selector = _selector;\n            this.descendants = descendants;\n            this.first = first;\n            this.read = read;\n        }\n        Object.defineProperty(QueryMetadata.prototype, \"isViewQuery\", {\n            /**\n             * always `false` to differentiate it with {@link ViewQueryMetadata}.\n             */\n            get: function () { return false; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(QueryMetadata.prototype, \"selector\", {\n            /**\n             * what this is querying for.\n             */\n            get: function () { return resolveForwardRef(this._selector); },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(QueryMetadata.prototype, \"isVarBindingQuery\", {\n            /**\n             * whether this is querying for a variable binding or a directive.\n             */\n            get: function () { return isString(this.selector); },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(QueryMetadata.prototype, \"varBindings\", {\n            /**\n             * returns a list of variable bindings this is querying for.\n             * Only applicable if this is a variable bindings query.\n             */\n            get: function () { return StringWrapper.split(this.selector, /\\s*,\\s*/g); },\n            enumerable: true,\n            configurable: true\n        });\n        QueryMetadata.prototype.toString = function () { return \"@Query(\" + stringify(this.selector) + \")\"; };\n        return QueryMetadata;\n    }(DependencyMetadata));\n    // TODO: add an example after ContentChildren and ViewChildren are in master\n    /**\n     * Configures a content query.\n     *\n     * Content queries are set before the `ngAfterContentInit` callback is called.\n     *\n     * ### Example\n     *\n     * ```\n     * @Directive({\n     *   selector: 'someDir'\n     * })\n     * class SomeDir {\n     *   @ContentChildren(ChildDirective) contentChildren: QueryList<ChildDirective>;\n     *\n     *   ngAfterContentInit() {\n     *     // contentChildren is set\n     *   }\n     * }\n     * ```\n     * @ts2dart_const\n     * @stable\n     */\n    var ContentChildrenMetadata = (function (_super) {\n        __extends(ContentChildrenMetadata, _super);\n        function ContentChildrenMetadata(_selector, _a) {\n            var _b = _a === void 0 ? {} : _a, _c = _b.descendants, descendants = _c === void 0 ? false : _c, _d = _b.read, read = _d === void 0 ? null : _d;\n            _super.call(this, _selector, { descendants: descendants, read: read });\n        }\n        return ContentChildrenMetadata;\n    }(QueryMetadata));\n    // TODO: add an example after ContentChild and ViewChild are in master\n    /**\n     * Configures a content query.\n     *\n     * Content queries are set before the `ngAfterContentInit` callback is called.\n     *\n     * ### Example\n     *\n     * ```\n     * @Directive({\n     *   selector: 'someDir'\n     * })\n     * class SomeDir {\n     *   @ContentChild(ChildDirective) contentChild;\n     *\n     *   ngAfterContentInit() {\n     *     // contentChild is set\n     *   }\n     * }\n     * ```\n     * @ts2dart_const\n     * @stable\n     */\n    var ContentChildMetadata = (function (_super) {\n        __extends(ContentChildMetadata, _super);\n        function ContentChildMetadata(_selector, _a) {\n            var _b = (_a === void 0 ? {} : _a).read, read = _b === void 0 ? null : _b;\n            _super.call(this, _selector, { descendants: true, first: true, read: read });\n        }\n        return ContentChildMetadata;\n    }(QueryMetadata));\n    /**\n     * Similar to {@link QueryMetadata}, but querying the component view, instead of\n     * the content children.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/eNsFHDf7YjyM6IzKxM1j?p=preview))\n     *\n     * ```javascript\n     * @Component({\n     *   ...,\n     *   template: `\n     *     <item> a </item>\n     *     <item> b </item>\n     *     <item> c </item>\n     *   `\n     * })\n     * class MyComponent {\n     *   shown: boolean;\n     *\n     *   constructor(private @ViewQuery(Item) items:QueryList<Item>) {\n     *     items.changes.subscribe(() => console.log(items.length));\n     *   }\n     * }\n     * ```\n     *\n     * Supports the same querying parameters as {@link QueryMetadata}, except\n     * `descendants`. This always queries the whole view.\n     *\n     * As `shown` is flipped between true and false, items will contain zero of one\n     * items.\n     *\n     * Specifies that a {@link QueryList} should be injected.\n     *\n     * The injected object is an iterable and observable live list.\n     * See {@link QueryList} for more details.\n     * @ts2dart_const\n     * @deprecated\n     */\n    var ViewQueryMetadata = (function (_super) {\n        __extends(ViewQueryMetadata, _super);\n        function ViewQueryMetadata(_selector, _a) {\n            var _b = _a === void 0 ? {} : _a, _c = _b.descendants, descendants = _c === void 0 ? false : _c, _d = _b.first, first = _d === void 0 ? false : _d, _e = _b.read, read = _e === void 0 ? null : _e;\n            _super.call(this, _selector, { descendants: descendants, first: first, read: read });\n        }\n        Object.defineProperty(ViewQueryMetadata.prototype, \"isViewQuery\", {\n            /**\n             * always `true` to differentiate it with {@link QueryMetadata}.\n             */\n            get: function () { return true; },\n            enumerable: true,\n            configurable: true\n        });\n        ViewQueryMetadata.prototype.toString = function () { return \"@ViewQuery(\" + stringify(this.selector) + \")\"; };\n        return ViewQueryMetadata;\n    }(QueryMetadata));\n    /**\n     * Declares a list of child element references.\n     *\n     * Angular automatically updates the list when the DOM is updated.\n     *\n     * `ViewChildren` takes an argument to select elements.\n     *\n     * - If the argument is a type, directives or components with the type will be bound.\n     *\n     * - If the argument is a string, the string is interpreted as a list of comma-separated selectors.\n     * For each selector, an element containing the matching template variable (e.g. `#child`) will be\n     * bound.\n     *\n     * View children are set before the `ngAfterViewInit` callback is called.\n     *\n     * ### Example\n     *\n     * With type selector:\n     *\n     * ```\n     * @Component({\n     *   selector: 'child-cmp',\n     *   template: '<p>child</p>'\n     * })\n     * class ChildCmp {\n     *   doSomething() {}\n     * }\n     *\n     * @Component({\n     *   selector: 'some-cmp',\n     *   template: `\n     *     <child-cmp></child-cmp>\n     *     <child-cmp></child-cmp>\n     *     <child-cmp></child-cmp>\n     *   `,\n     *   directives: [ChildCmp]\n     * })\n     * class SomeCmp {\n     *   @ViewChildren(ChildCmp) children:QueryList<ChildCmp>;\n     *\n     *   ngAfterViewInit() {\n     *     // children are set\n     *     this.children.toArray().forEach((child)=>child.doSomething());\n     *   }\n     * }\n     * ```\n     *\n     * With string selector:\n     *\n     * ```\n     * @Component({\n     *   selector: 'child-cmp',\n     *   template: '<p>child</p>'\n     * })\n     * class ChildCmp {\n     *   doSomething() {}\n     * }\n     *\n     * @Component({\n     *   selector: 'some-cmp',\n     *   template: `\n     *     <child-cmp #child1></child-cmp>\n     *     <child-cmp #child2></child-cmp>\n     *     <child-cmp #child3></child-cmp>\n     *   `,\n     *   directives: [ChildCmp]\n     * })\n     * class SomeCmp {\n     *   @ViewChildren('child1,child2,child3') children:QueryList<ChildCmp>;\n     *\n     *   ngAfterViewInit() {\n     *     // children are set\n     *     this.children.toArray().forEach((child)=>child.doSomething());\n     *   }\n     * }\n     * ```\n     * @ts2dart_const\n     * @stable\n     */\n    var ViewChildrenMetadata = (function (_super) {\n        __extends(ViewChildrenMetadata, _super);\n        function ViewChildrenMetadata(_selector, _a) {\n            var _b = (_a === void 0 ? {} : _a).read, read = _b === void 0 ? null : _b;\n            _super.call(this, _selector, { descendants: true, read: read });\n        }\n        return ViewChildrenMetadata;\n    }(ViewQueryMetadata));\n    /**\n     *\n     * Declares a reference of child element.\n     *\n     * `ViewChildren` takes an argument to select elements.\n     *\n     * - If the argument is a type, a directive or a component with the type will be bound.\n     *\n     If the argument is a string, the string is interpreted as a selector. An element containing the\n     matching template variable (e.g. `#child`) will be bound.\n     *\n     * In either case, `@ViewChild()` assigns the first (looking from above) element if there are\n     multiple matches.\n     *\n     * View child is set before the `ngAfterViewInit` callback is called.\n     *\n     * ### Example\n     *\n     * With type selector:\n     *\n     * ```\n     * @Component({\n     *   selector: 'child-cmp',\n     *   template: '<p>child</p>'\n     * })\n     * class ChildCmp {\n     *   doSomething() {}\n     * }\n     *\n     * @Component({\n     *   selector: 'some-cmp',\n     *   template: '<child-cmp></child-cmp>',\n     *   directives: [ChildCmp]\n     * })\n     * class SomeCmp {\n     *   @ViewChild(ChildCmp) child:ChildCmp;\n     *\n     *   ngAfterViewInit() {\n     *     // child is set\n     *     this.child.doSomething();\n     *   }\n     * }\n     * ```\n     *\n     * With string selector:\n     *\n     * ```\n     * @Component({\n     *   selector: 'child-cmp',\n     *   template: '<p>child</p>'\n     * })\n     * class ChildCmp {\n     *   doSomething() {}\n     * }\n     *\n     * @Component({\n     *   selector: 'some-cmp',\n     *   template: '<child-cmp #child></child-cmp>',\n     *   directives: [ChildCmp]\n     * })\n     * class SomeCmp {\n     *   @ViewChild('child') child:ChildCmp;\n     *\n     *   ngAfterViewInit() {\n     *     // child is set\n     *     this.child.doSomething();\n     *   }\n     * }\n     * ```\n     * @ts2dart_const\n     * @stable\n     */\n    var ViewChildMetadata = (function (_super) {\n        __extends(ViewChildMetadata, _super);\n        function ViewChildMetadata(_selector, _a) {\n            var _b = (_a === void 0 ? {} : _a).read, read = _b === void 0 ? null : _b;\n            _super.call(this, _selector, { descendants: true, first: true, read: read });\n        }\n        return ViewChildMetadata;\n    }(ViewQueryMetadata));\n    /**\n     * Describes within the change detector which strategy will be used the next time change\n     * detection is triggered.\n     * @stable\n     */\n    exports.ChangeDetectionStrategy;\n    (function (ChangeDetectionStrategy) {\n        /**\n         * `OnPush` means that the change detector's mode will be set to `CheckOnce` during hydration.\n         */\n        ChangeDetectionStrategy[ChangeDetectionStrategy[\"OnPush\"] = 0] = \"OnPush\";\n        /**\n         * `Default` means that the change detector's mode will be set to `CheckAlways` during hydration.\n         */\n        ChangeDetectionStrategy[ChangeDetectionStrategy[\"Default\"] = 1] = \"Default\";\n    })(exports.ChangeDetectionStrategy || (exports.ChangeDetectionStrategy = {}));\n    /**\n     * Describes the status of the detector.\n     */\n    var ChangeDetectorStatus;\n    (function (ChangeDetectorStatus) {\n        /**\n         * `CheckedOnce` means that after calling detectChanges the mode of the change detector\n         * will become `Checked`.\n         */\n        ChangeDetectorStatus[ChangeDetectorStatus[\"CheckOnce\"] = 0] = \"CheckOnce\";\n        /**\n         * `Checked` means that the change detector should be skipped until its mode changes to\n         * `CheckOnce`.\n         */\n        ChangeDetectorStatus[ChangeDetectorStatus[\"Checked\"] = 1] = \"Checked\";\n        /**\n         * `CheckAlways` means that after calling detectChanges the mode of the change detector\n         * will remain `CheckAlways`.\n         */\n        ChangeDetectorStatus[ChangeDetectorStatus[\"CheckAlways\"] = 2] = \"CheckAlways\";\n        /**\n         * `Detached` means that the change detector sub tree is not a part of the main tree and\n         * should be skipped.\n         */\n        ChangeDetectorStatus[ChangeDetectorStatus[\"Detached\"] = 3] = \"Detached\";\n        /**\n         * `Errored` means that the change detector encountered an error checking a binding\n         * or calling a directive lifecycle method and is now in an inconsistent state. Change\n         * detectors in this state will no longer detect changes.\n         */\n        ChangeDetectorStatus[ChangeDetectorStatus[\"Errored\"] = 4] = \"Errored\";\n        /**\n         * `Destroyed` means that the change detector is destroyed.\n         */\n        ChangeDetectorStatus[ChangeDetectorStatus[\"Destroyed\"] = 5] = \"Destroyed\";\n    })(ChangeDetectorStatus || (ChangeDetectorStatus = {}));\n    /**\n     * List of possible {@link ChangeDetectionStrategy} values.\n     */\n    var CHANGE_DETECTION_STRATEGY_VALUES = [\n        exports.ChangeDetectionStrategy.OnPush,\n        exports.ChangeDetectionStrategy.Default,\n    ];\n    function isDefaultChangeDetectionStrategy(changeDetectionStrategy) {\n        return isBlank(changeDetectionStrategy) ||\n            changeDetectionStrategy === exports.ChangeDetectionStrategy.Default;\n    }\n    /**\n     * Directives allow you to attach behavior to elements in the DOM.\n     *\n     * {@link DirectiveMetadata}s with an embedded view are called {@link ComponentMetadata}s.\n     *\n     * A directive consists of a single directive annotation and a controller class. When the\n     * directive's `selector` matches\n     * elements in the DOM, the following steps occur:\n     *\n     * 1. For each directive, the `ElementInjector` attempts to resolve the directive's constructor\n     * arguments.\n     * 2. Angular instantiates directives for each matched element using `ElementInjector` in a\n     * depth-first order,\n     *    as declared in the HTML.\n     *\n     * ## Understanding How Injection Works\n     *\n     * There are three stages of injection resolution.\n     * - *Pre-existing Injectors*:\n     *   - The terminal {@link Injector} cannot resolve dependencies. It either throws an error or, if\n     * the dependency was\n     *     specified as `@Optional`, returns `null`.\n     *   - The platform injector resolves browser singleton resources, such as: cookies, title,\n     * location, and others.\n     * - *Component Injectors*: Each component instance has its own {@link Injector}, and they follow\n     * the same parent-child hierarchy\n     *     as the component instances in the DOM.\n     * - *Element Injectors*: Each component instance has a Shadow DOM. Within the Shadow DOM each\n     * element has an `ElementInjector`\n     *     which follow the same parent-child hierarchy as the DOM elements themselves.\n     *\n     * When a template is instantiated, it also must instantiate the corresponding directives in a\n     * depth-first order. The\n     * current `ElementInjector` resolves the constructor dependencies for each directive.\n     *\n     * Angular then resolves dependencies as follows, according to the order in which they appear in the\n     * {@link ViewMetadata}:\n     *\n     * 1. Dependencies on the current element\n     * 2. Dependencies on element injectors and their parents until it encounters a Shadow DOM boundary\n     * 3. Dependencies on component injectors and their parents until it encounters the root component\n     * 4. Dependencies on pre-existing injectors\n     *\n     *\n     * The `ElementInjector` can inject other directives, element-specific special objects, or it can\n     * delegate to the parent\n     * injector.\n     *\n     * To inject other directives, declare the constructor parameter as:\n     * - `directive:DirectiveType`: a directive on the current element only\n     * - `@Host() directive:DirectiveType`: any directive that matches the type between the current\n     * element and the\n     *    Shadow DOM root.\n     * - `@Query(DirectiveType) query:QueryList<DirectiveType>`: A live collection of direct child\n     * directives.\n     * - `@QueryDescendants(DirectiveType) query:QueryList<DirectiveType>`: A live collection of any\n     * child directives.\n     *\n     * To inject element-specific special objects, declare the constructor parameter as:\n     * - `element: ElementRef` to obtain a reference to logical element in the view.\n     * - `viewContainer: ViewContainerRef` to control child template instantiation, for\n     * {@link DirectiveMetadata} directives only\n     * - `bindingPropagation: BindingPropagation` to control change detection in a more granular way.\n     *\n     * ### Example\n     *\n     * The following example demonstrates how dependency injection resolves constructor arguments in\n     * practice.\n     *\n     *\n     * Assume this HTML template:\n     *\n     * ```\n     * <div dependency=\"1\">\n     *   <div dependency=\"2\">\n     *     <div dependency=\"3\" my-directive>\n     *       <div dependency=\"4\">\n     *         <div dependency=\"5\"></div>\n     *       </div>\n     *       <div dependency=\"6\"></div>\n     *     </div>\n     *   </div>\n     * </div>\n     * ```\n     *\n     * With the following `dependency` decorator and `SomeService` injectable class.\n     *\n     * ```\n     * @Injectable()\n     * class SomeService {\n     * }\n     *\n     * @Directive({\n     *   selector: '[dependency]',\n     *   inputs: [\n     *     'id: dependency'\n     *   ]\n     * })\n     * class Dependency {\n     *   id:string;\n     * }\n     * ```\n     *\n     * Let's step through the different ways in which `MyDirective` could be declared...\n     *\n     *\n     * ### No injection\n     *\n     * Here the constructor is declared with no arguments, therefore nothing is injected into\n     * `MyDirective`.\n     *\n     * ```\n     * @Directive({ selector: '[my-directive]' })\n     * class MyDirective {\n     *   constructor() {\n     *   }\n     * }\n     * ```\n     *\n     * This directive would be instantiated with no dependencies.\n     *\n     *\n     * ### Component-level injection\n     *\n     * Directives can inject any injectable instance from the closest component injector or any of its\n     * parents.\n     *\n     * Here, the constructor declares a parameter, `someService`, and injects the `SomeService` type\n     * from the parent\n     * component's injector.\n     * ```\n     * @Directive({ selector: '[my-directive]' })\n     * class MyDirective {\n     *   constructor(someService: SomeService) {\n     *   }\n     * }\n     * ```\n     *\n     * This directive would be instantiated with a dependency on `SomeService`.\n     *\n     *\n     * ### Injecting a directive from the current element\n     *\n     * Directives can inject other directives declared on the current element.\n     *\n     * ```\n     * @Directive({ selector: '[my-directive]' })\n     * class MyDirective {\n     *   constructor(dependency: Dependency) {\n     *     expect(dependency.id).toEqual(3);\n     *   }\n     * }\n     * ```\n     * This directive would be instantiated with `Dependency` declared at the same element, in this case\n     * `dependency=\"3\"`.\n     *\n     * ### Injecting a directive from any ancestor elements\n     *\n     * Directives can inject other directives declared on any ancestor element (in the current Shadow\n     * DOM), i.e. on the current element, the\n     * parent element, or its parents.\n     * ```\n     * @Directive({ selector: '[my-directive]' })\n     * class MyDirective {\n     *   constructor(@Host() dependency: Dependency) {\n     *     expect(dependency.id).toEqual(2);\n     *   }\n     * }\n     * ```\n     *\n     * `@Host` checks the current element, the parent, as well as its parents recursively. If\n     * `dependency=\"2\"` didn't\n     * exist on the direct parent, this injection would\n     * have returned\n     * `dependency=\"1\"`.\n     *\n     *\n     * ### Injecting a live collection of direct child directives\n     *\n     *\n     * A directive can also query for other child directives. Since parent directives are instantiated\n     * before child directives, a directive can't simply inject the list of child directives. Instead,\n     * the directive injects a {@link QueryList}, which updates its contents as children are added,\n     * removed, or moved by a directive that uses a {@link ViewContainerRef} such as a `ngFor`, an\n     * `ngIf`, or an `ngSwitch`.\n     *\n     * ```\n     * @Directive({ selector: '[my-directive]' })\n     * class MyDirective {\n     *   constructor(@Query(Dependency) dependencies:QueryList<Dependency>) {\n     *   }\n     * }\n     * ```\n     *\n     * This directive would be instantiated with a {@link QueryList} which contains `Dependency` 4 and\n     * `Dependency` 6. Here, `Dependency` 5 would not be included, because it is not a direct child.\n     *\n     * ### Injecting a live collection of descendant directives\n     *\n     * By passing the descendant flag to `@Query` above, we can include the children of the child\n     * elements.\n     *\n     * ```\n     * @Directive({ selector: '[my-directive]' })\n     * class MyDirective {\n     *   constructor(@Query(Dependency, {descendants: true}) dependencies:QueryList<Dependency>) {\n     *   }\n     * }\n     * ```\n     *\n     * This directive would be instantiated with a Query which would contain `Dependency` 4, 5 and 6.\n     *\n     * ### Optional injection\n     *\n     * The normal behavior of directives is to return an error when a specified dependency cannot be\n     * resolved. If you\n     * would like to inject `null` on unresolved dependency instead, you can annotate that dependency\n     * with `@Optional()`.\n     * This explicitly permits the author of a template to treat some of the surrounding directives as\n     * optional.\n     *\n     * ```\n     * @Directive({ selector: '[my-directive]' })\n     * class MyDirective {\n     *   constructor(@Optional() dependency:Dependency) {\n     *   }\n     * }\n     * ```\n     *\n     * This directive would be instantiated with a `Dependency` directive found on the current element.\n     * If none can be\n     * found, the injector supplies `null` instead of throwing an error.\n     *\n     * ### Example\n     *\n     * Here we use a decorator directive to simply define basic tool-tip behavior.\n     *\n     * ```\n     * @Directive({\n     *   selector: '[tooltip]',\n     *   inputs: [\n     *     'text: tooltip'\n     *   ],\n     *   host: {\n     *     '(mouseenter)': 'onMouseEnter()',\n     *     '(mouseleave)': 'onMouseLeave()'\n     *   }\n     * })\n     * class Tooltip{\n     *   text:string;\n     *   overlay:Overlay; // NOT YET IMPLEMENTED\n     *   overlayManager:OverlayManager; // NOT YET IMPLEMENTED\n     *\n     *   constructor(overlayManager:OverlayManager) {\n     *     this.overlay = overlay;\n     *   }\n     *\n     *   onMouseEnter() {\n     *     // exact signature to be determined\n     *     this.overlay = this.overlayManager.open(text, ...);\n     *   }\n     *\n     *   onMouseLeave() {\n     *     this.overlay.close();\n     *     this.overlay = null;\n     *   }\n     * }\n     * ```\n     * In our HTML template, we can then add this behavior to a `<div>` or any other element with the\n     * `tooltip` selector,\n     * like so:\n     *\n     * ```\n     * <div tooltip=\"some text here\"></div>\n     * ```\n     *\n     * Directives can also control the instantiation, destruction, and positioning of inline template\n     * elements:\n     *\n     * A directive uses a {@link ViewContainerRef} to instantiate, insert, move, and destroy views at\n     * runtime.\n     * The {@link ViewContainerRef} is created as a result of `<template>` element, and represents a\n     * location in the current view\n     * where these actions are performed.\n     *\n     * Views are always created as children of the current {@link ViewMetadata}, and as siblings of the\n     * `<template>` element. Thus a\n     * directive in a child view cannot inject the directive that created it.\n     *\n     * Since directives that create views via ViewContainers are common in Angular, and using the full\n     * `<template>` element syntax is wordy, Angular\n     * also supports a shorthand notation: `<li *foo=\"bar\">` and `<li template=\"foo: bar\">` are\n     * equivalent.\n     *\n     * Thus,\n     *\n     * ```\n     * <ul>\n     *   <li *foo=\"bar\" title=\"text\"></li>\n     * </ul>\n     * ```\n     *\n     * Expands in use to:\n     *\n     * ```\n     * <ul>\n     *   <template [foo]=\"bar\">\n     *     <li title=\"text\"></li>\n     *   </template>\n     * </ul>\n     * ```\n     *\n     * Notice that although the shorthand places `*foo=\"bar\"` within the `<li>` element, the binding for\n     * the directive\n     * controller is correctly instantiated on the `<template>` element rather than the `<li>` element.\n     *\n     * ## Lifecycle hooks\n     *\n     * When the directive class implements some {@link ../../guide/lifecycle-hooks.html} the callbacks\n     * are called by the change detection at defined points in time during the life of the directive.\n     *\n     * ### Example\n     *\n     * Let's suppose we want to implement the `unless` behavior, to conditionally include a template.\n     *\n     * Here is a simple directive that triggers on an `unless` selector:\n     *\n     * ```\n     * @Directive({\n     *   selector: '[unless]',\n     *   inputs: ['unless']\n     * })\n     * export class Unless {\n     *   viewContainer: ViewContainerRef;\n     *   templateRef: TemplateRef;\n     *   prevCondition: boolean;\n     *\n     *   constructor(viewContainer: ViewContainerRef, templateRef: TemplateRef) {\n     *     this.viewContainer = viewContainer;\n     *     this.templateRef = templateRef;\n     *     this.prevCondition = null;\n     *   }\n     *\n     *   set unless(newCondition) {\n     *     if (newCondition && (isBlank(this.prevCondition) || !this.prevCondition)) {\n     *       this.prevCondition = true;\n     *       this.viewContainer.clear();\n     *     } else if (!newCondition && (isBlank(this.prevCondition) || this.prevCondition)) {\n     *       this.prevCondition = false;\n     *       this.viewContainer.create(this.templateRef);\n     *     }\n     *   }\n     * }\n     * ```\n     *\n     * We can then use this `unless` selector in a template:\n     * ```\n     * <ul>\n     *   <li *unless=\"expr\"></li>\n     * </ul>\n     * ```\n     *\n     * Once the directive instantiates the child view, the shorthand notation for the template expands\n     * and the result is:\n     *\n     * ```\n     * <ul>\n     *   <template [unless]=\"exp\">\n     *     <li></li>\n     *   </template>\n     *   <li></li>\n     * </ul>\n     * ```\n     *\n     * Note also that although the `<li></li>` template still exists inside the `<template></template>`,\n     * the instantiated\n     * view occurs on the second `<li></li>` which is a sibling to the `<template>` element.\n     * @ts2dart_const\n     * @stable\n     */\n    var DirectiveMetadata = (function (_super) {\n        __extends(DirectiveMetadata, _super);\n        function DirectiveMetadata(_a) {\n            var _b = _a === void 0 ? {} : _a, selector = _b.selector, inputs = _b.inputs, outputs = _b.outputs, properties = _b.properties, events = _b.events, host = _b.host, providers = _b.providers, exportAs = _b.exportAs, queries = _b.queries;\n            _super.call(this);\n            this.selector = selector;\n            this._inputs = inputs;\n            this._properties = properties;\n            this._outputs = outputs;\n            this._events = events;\n            this.host = host;\n            this.exportAs = exportAs;\n            this.queries = queries;\n            this._providers = providers;\n        }\n        Object.defineProperty(DirectiveMetadata.prototype, \"inputs\", {\n            /**\n             * Enumerates the set of data-bound input properties for a directive\n             *\n             * Angular automatically updates input properties during change detection.\n             *\n             * The `inputs` property defines a set of `directiveProperty` to `bindingProperty`\n             * configuration:\n             *\n             * - `directiveProperty` specifies the component property where the value is written.\n             * - `bindingProperty` specifies the DOM property where the value is read from.\n             *\n             * When `bindingProperty` is not provided, it is assumed to be equal to `directiveProperty`.\n             *\n             * ### Example ([live demo](http://plnkr.co/edit/ivhfXY?p=preview))\n             *\n             * The following example creates a component with two data-bound properties.\n             *\n             * ```typescript\n             * @Component({\n             *   selector: 'bank-account',\n             *   inputs: ['bankName', 'id: account-id'],\n             *   template: `\n             *     Bank Name: {{bankName}}\n             *     Account Id: {{id}}\n             *   `\n             * })\n             * class BankAccount {\n             *   bankName: string;\n             *   id: string;\n             *\n             *   // this property is not bound, and won't be automatically updated by Angular\n             *   normalizedBankName: string;\n             * }\n             *\n             * @Component({\n             *   selector: 'app',\n             *   template: `\n             *     <bank-account bank-name=\"RBC\" account-id=\"4747\"></bank-account>\n             *   `,\n             *   directives: [BankAccount]\n             * })\n             * class App {}\n             *\n             * bootstrap(App);\n             * ```\n             *\n             */\n            get: function () {\n                return isPresent(this._properties) && this._properties.length > 0 ? this._properties :\n                    this._inputs;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(DirectiveMetadata.prototype, \"properties\", {\n            /**\n             * Use `inputs` instead\n             *\n             * @deprecated\n             */\n            get: function () { return this.inputs; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(DirectiveMetadata.prototype, \"outputs\", {\n            /**\n             * Enumerates the set of event-bound output properties.\n             *\n             * When an output property emits an event, an event handler attached to that event\n             * the template is invoked.\n             *\n             * The `outputs` property defines a set of `directiveProperty` to `bindingProperty`\n             * configuration:\n             *\n             * - `directiveProperty` specifies the component property that emits events.\n             * - `bindingProperty` specifies the DOM property the event handler is attached to.\n             *\n             * ### Example ([live demo](http://plnkr.co/edit/d5CNq7?p=preview))\n             *\n             * ```typescript\n             * @Directive({\n             *   selector: 'interval-dir',\n             *   outputs: ['everySecond', 'five5Secs: everyFiveSeconds']\n             * })\n             * class IntervalDir {\n             *   everySecond = new EventEmitter();\n             *   five5Secs = new EventEmitter();\n             *\n             *   constructor() {\n             *     setInterval(() => this.everySecond.emit(\"event\"), 1000);\n             *     setInterval(() => this.five5Secs.emit(\"event\"), 5000);\n             *   }\n             * }\n             *\n             * @Component({\n             *   selector: 'app',\n             *   template: `\n             *     <interval-dir (everySecond)=\"everySecond()\" (everyFiveSeconds)=\"everyFiveSeconds()\">\n             *     </interval-dir>\n             *   `,\n             *   directives: [IntervalDir]\n             * })\n             * class App {\n             *   everySecond() { console.log('second'); }\n             *   everyFiveSeconds() { console.log('five seconds'); }\n             * }\n             * bootstrap(App);\n             * ```\n             *\n             */\n            get: function () {\n                return isPresent(this._events) && this._events.length > 0 ? this._events : this._outputs;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(DirectiveMetadata.prototype, \"events\", {\n            /**\n             * Use `outputs` instead\n             *\n             * @deprecated\n             */\n            get: function () { return this.outputs; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(DirectiveMetadata.prototype, \"providers\", {\n            /**\n             * Defines the set of injectable objects that are visible to a Directive and its light DOM\n             * children.\n             *\n             * ## Simple Example\n             *\n             * Here is an example of a class that can be injected:\n             *\n             * ```\n             * class Greeter {\n             *    greet(name:string) {\n             *      return 'Hello ' + name + '!';\n             *    }\n             * }\n             *\n             * @Directive({\n             *   selector: 'greet',\n             *   providers: [\n             *     Greeter\n             *   ]\n             * })\n             * class HelloWorld {\n             *   greeter:Greeter;\n             *\n             *   constructor(greeter:Greeter) {\n             *     this.greeter = greeter;\n             *   }\n             * }\n             * ```\n             */\n            get: function () { return this._providers; },\n            enumerable: true,\n            configurable: true\n        });\n        return DirectiveMetadata;\n    }(InjectableMetadata));\n    /**\n     * Declare reusable UI building blocks for an application.\n     *\n     * Each Angular component requires a single `@Component` annotation. The\n     * `@Component`\n     * annotation specifies when a component is instantiated, and which properties and hostListeners it\n     * binds to.\n     *\n     * When a component is instantiated, Angular\n     * - creates a shadow DOM for the component.\n     * - loads the selected template into the shadow DOM.\n     * - creates all the injectable objects configured with `providers` and `viewProviders`.\n     *\n     * All template expressions and statements are then evaluated against the component instance.\n     *\n     * For details on the `@View` annotation, see {@link ViewMetadata}.\n     *\n     * ## Lifecycle hooks\n     *\n     * When the component class implements some {@link ../../guide/lifecycle-hooks.html} the callbacks\n     * are called by the change detection at defined points in time during the life of the component.\n     *\n     * ### Example\n     *\n     * {@example core/ts/metadata/metadata.ts region='component'}\n     * @ts2dart_const\n     * @stable\n     */\n    var ComponentMetadata = (function (_super) {\n        __extends(ComponentMetadata, _super);\n        function ComponentMetadata(_a) {\n            var _b = _a === void 0 ? {} : _a, selector = _b.selector, inputs = _b.inputs, outputs = _b.outputs, properties = _b.properties, events = _b.events, host = _b.host, exportAs = _b.exportAs, moduleId = _b.moduleId, providers = _b.providers, viewProviders = _b.viewProviders, _c = _b.changeDetection, changeDetection = _c === void 0 ? exports.ChangeDetectionStrategy.Default : _c, queries = _b.queries, templateUrl = _b.templateUrl, template = _b.template, styleUrls = _b.styleUrls, styles = _b.styles, animations = _b.animations, directives = _b.directives, pipes = _b.pipes, encapsulation = _b.encapsulation, interpolation = _b.interpolation, precompile = _b.precompile;\n            _super.call(this, {\n                selector: selector,\n                inputs: inputs,\n                outputs: outputs,\n                properties: properties,\n                events: events,\n                host: host,\n                exportAs: exportAs,\n                providers: providers,\n                queries: queries\n            });\n            this.changeDetection = changeDetection;\n            this._viewProviders = viewProviders;\n            this.templateUrl = templateUrl;\n            this.template = template;\n            this.styleUrls = styleUrls;\n            this.styles = styles;\n            this.directives = directives;\n            this.pipes = pipes;\n            this.encapsulation = encapsulation;\n            this.moduleId = moduleId;\n            this.animations = animations;\n            this.interpolation = interpolation;\n            this.precompile = precompile;\n        }\n        Object.defineProperty(ComponentMetadata.prototype, \"viewProviders\", {\n            /**\n             * Defines the set of injectable objects that are visible to its view DOM children.\n             *\n             * ## Simple Example\n             *\n             * Here is an example of a class that can be injected:\n             *\n             * ```\n             * class Greeter {\n             *    greet(name:string) {\n             *      return 'Hello ' + name + '!';\n             *    }\n             * }\n             *\n             * @Directive({\n             *   selector: 'needs-greeter'\n             * })\n             * class NeedsGreeter {\n             *   greeter:Greeter;\n             *\n             *   constructor(greeter:Greeter) {\n             *     this.greeter = greeter;\n             *   }\n             * }\n             *\n             * @Component({\n             *   selector: 'greet',\n             *   viewProviders: [\n             *     Greeter\n             *   ],\n             *   template: `<needs-greeter></needs-greeter>`,\n             *   directives: [NeedsGreeter]\n             * })\n             * class HelloWorld {\n             * }\n             *\n             * ```\n             */\n            get: function () { return this._viewProviders; },\n            enumerable: true,\n            configurable: true\n        });\n        return ComponentMetadata;\n    }(DirectiveMetadata));\n    /**\n     * Declare reusable pipe function.\n     *\n     * A \"pure\" pipe is only re-evaluated when either the input or any of the arguments change.\n     *\n     * When not specified, pipes default to being pure.\n     *\n     * ### Example\n     *\n     * {@example core/ts/metadata/metadata.ts region='pipe'}\n     * @ts2dart_const\n     * @stable\n     */\n    var PipeMetadata = (function (_super) {\n        __extends(PipeMetadata, _super);\n        function PipeMetadata(_a) {\n            var name = _a.name, pure = _a.pure;\n            _super.call(this);\n            this.name = name;\n            this._pure = pure;\n        }\n        Object.defineProperty(PipeMetadata.prototype, \"pure\", {\n            get: function () { return isPresent(this._pure) ? this._pure : true; },\n            enumerable: true,\n            configurable: true\n        });\n        return PipeMetadata;\n    }(InjectableMetadata));\n    /**\n     * Declares a data-bound input property.\n     *\n     * Angular automatically updates data-bound properties during change detection.\n     *\n     * `InputMetadata` takes an optional parameter that specifies the name\n     * used when instantiating a component in the template. When not provided,\n     * the name of the decorated property is used.\n     *\n     * ### Example\n     *\n     * The following example creates a component with two input properties.\n     *\n     * ```typescript\n     * @Component({\n     *   selector: 'bank-account',\n     *   template: `\n     *     Bank Name: {{bankName}}\n     *     Account Id: {{id}}\n     *   `\n     * })\n     * class BankAccount {\n     *   @Input() bankName: string;\n     *   @Input('account-id') id: string;\n     *\n     *   // this property is not bound, and won't be automatically updated by Angular\n     *   normalizedBankName: string;\n     * }\n     *\n     * @Component({\n     *   selector: 'app',\n     *   template: `\n     *     <bank-account bank-name=\"RBC\" account-id=\"4747\"></bank-account>\n     *   `,\n     *   directives: [BankAccount]\n     * })\n     * class App {}\n     *\n     * bootstrap(App);\n     * ```\n     * @ts2dart_const\n     * @stable\n     */\n    var InputMetadata = (function () {\n        function InputMetadata(\n            /**\n             * Name used when instantiating a component in the template.\n             */\n            bindingPropertyName) {\n            this.bindingPropertyName = bindingPropertyName;\n        }\n        return InputMetadata;\n    }());\n    /**\n     * Declares an event-bound output property.\n     *\n     * When an output property emits an event, an event handler attached to that event\n     * the template is invoked.\n     *\n     * `OutputMetadata` takes an optional parameter that specifies the name\n     * used when instantiating a component in the template. When not provided,\n     * the name of the decorated property is used.\n     *\n     * ### Example\n     *\n     * ```typescript\n     * @Directive({\n     *   selector: 'interval-dir',\n     * })\n     * class IntervalDir {\n     *   @Output() everySecond = new EventEmitter();\n     *   @Output('everyFiveSeconds') five5Secs = new EventEmitter();\n     *\n     *   constructor() {\n     *     setInterval(() => this.everySecond.emit(\"event\"), 1000);\n     *     setInterval(() => this.five5Secs.emit(\"event\"), 5000);\n     *   }\n     * }\n     *\n     * @Component({\n     *   selector: 'app',\n     *   template: `\n     *     <interval-dir (everySecond)=\"everySecond()\" (everyFiveSeconds)=\"everyFiveSeconds()\">\n     *     </interval-dir>\n     *   `,\n     *   directives: [IntervalDir]\n     * })\n     * class App {\n     *   everySecond() { console.log('second'); }\n     *   everyFiveSeconds() { console.log('five seconds'); }\n     * }\n     * bootstrap(App);\n     * ```\n     * @ts2dart_const\n     * @stable\n     */\n    var OutputMetadata = (function () {\n        function OutputMetadata(bindingPropertyName) {\n            this.bindingPropertyName = bindingPropertyName;\n        }\n        return OutputMetadata;\n    }());\n    /**\n     * Declares a host property binding.\n     *\n     * Angular automatically checks host property bindings during change detection.\n     * If a binding changes, it will update the host element of the directive.\n     *\n     * `HostBindingMetadata` takes an optional parameter that specifies the property\n     * name of the host element that will be updated. When not provided,\n     * the class property name is used.\n     *\n     * ### Example\n     *\n     * The following example creates a directive that sets the `valid` and `invalid` classes\n     * on the DOM element that has ngModel directive on it.\n     *\n     * ```typescript\n     * @Directive({selector: '[ngModel]'})\n     * class NgModelStatus {\n     *   constructor(public control:NgModel) {}\n     *   @HostBinding('class.valid') get valid { return this.control.valid; }\n     *   @HostBinding('class.invalid') get invalid { return this.control.invalid; }\n     * }\n     *\n     * @Component({\n     *   selector: 'app',\n     *   template: `<input [(ngModel)]=\"prop\">`,\n     *   directives: [FORM_DIRECTIVES, NgModelStatus]\n     * })\n     * class App {\n     *   prop;\n     * }\n     *\n     * bootstrap(App);\n     * ```\n     * @ts2dart_const\n     * @stable\n     */\n    var HostBindingMetadata = (function () {\n        function HostBindingMetadata(hostPropertyName) {\n            this.hostPropertyName = hostPropertyName;\n        }\n        return HostBindingMetadata;\n    }());\n    /**\n     * Declares a host listener.\n     *\n     * Angular will invoke the decorated method when the host element emits the specified event.\n     *\n     * If the decorated method returns `false`, then `preventDefault` is applied on the DOM\n     * event.\n     *\n     * ### Example\n     *\n     * The following example declares a directive that attaches a click listener to the button and\n     * counts clicks.\n     *\n     * ```typescript\n     * @Directive({selector: 'button[counting]'})\n     * class CountClicks {\n     *   numberOfClicks = 0;\n     *\n     *   @HostListener('click', ['$event.target'])\n     *   onClick(btn) {\n     *     console.log(\"button\", btn, \"number of clicks:\", this.numberOfClicks++);\n     *   }\n     * }\n     *\n     * @Component({\n     *   selector: 'app',\n     *   template: `<button counting>Increment</button>`,\n     *   directives: [CountClicks]\n     * })\n     * class App {}\n     *\n     * bootstrap(App);\n     * ```\n     * @ts2dart_const\n     * @stable\n     */\n    var HostListenerMetadata = (function () {\n        function HostListenerMetadata(eventName, args) {\n            this.eventName = eventName;\n            this.args = args;\n        }\n        return HostListenerMetadata;\n    }());\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * Defines template and style encapsulation options available for Component's {@link View}.\n     *\n     * See {@link ViewMetadata#encapsulation}.\n     * @stable\n     */\n    exports.ViewEncapsulation;\n    (function (ViewEncapsulation) {\n        /**\n         * Emulate `Native` scoping of styles by adding an attribute containing surrogate id to the Host\n         * Element and pre-processing the style rules provided via\n         * {@link ViewMetadata#styles} or {@link ViewMetadata#stylesUrls}, and adding the new Host Element\n         * attribute to all selectors.\n         *\n         * This is the default option.\n         */\n        ViewEncapsulation[ViewEncapsulation[\"Emulated\"] = 0] = \"Emulated\";\n        /**\n         * Use the native encapsulation mechanism of the renderer.\n         *\n         * For the DOM this means using [Shadow DOM](https://w3c.github.io/webcomponents/spec/shadow/) and\n         * creating a ShadowRoot for Component's Host Element.\n         */\n        ViewEncapsulation[ViewEncapsulation[\"Native\"] = 1] = \"Native\";\n        /**\n         * Don't provide any template or style encapsulation.\n         */\n        ViewEncapsulation[ViewEncapsulation[\"None\"] = 2] = \"None\";\n    })(exports.ViewEncapsulation || (exports.ViewEncapsulation = {}));\n    var VIEW_ENCAPSULATION_VALUES = [exports.ViewEncapsulation.Emulated, exports.ViewEncapsulation.Native, exports.ViewEncapsulation.None];\n    /**\n     * Metadata properties available for configuring Views.\n     *\n     * Each Angular component requires a single `@Component` and at least one `@View` annotation. The\n     * `@View` annotation specifies the HTML template to use, and lists the directives that are active\n     * within the template.\n     *\n     * When a component is instantiated, the template is loaded into the component's shadow root, and\n     * the expressions and statements in the template are evaluated against the component.\n     *\n     * For details on the `@Component` annotation, see {@link ComponentMetadata}.\n     *\n     * ### Example\n     *\n     * ```\n     * @Component({\n     *   selector: 'greet',\n     *   template: 'Hello {{name}}!',\n     *   directives: [GreetUser, Bold]\n     * })\n     * class Greet {\n     *   name: string;\n     *\n     *   constructor() {\n     *     this.name = 'World';\n     *   }\n     * }\n     * ```\n     * @ts2dart_const\n     *\n     * @experimental You should most likely be using ComponentMetadata instead.\n     */\n    var ViewMetadata = (function () {\n        function ViewMetadata(_a) {\n            var _b = _a === void 0 ? {} : _a, templateUrl = _b.templateUrl, template = _b.template, directives = _b.directives, pipes = _b.pipes, encapsulation = _b.encapsulation, styles = _b.styles, styleUrls = _b.styleUrls, animations = _b.animations, interpolation = _b.interpolation;\n            this.templateUrl = templateUrl;\n            this.template = template;\n            this.styleUrls = styleUrls;\n            this.styles = styles;\n            this.directives = directives;\n            this.pipes = pipes;\n            this.encapsulation = encapsulation;\n            this.animations = animations;\n            this.interpolation = interpolation;\n        }\n        return ViewMetadata;\n    }());\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * @stable\n     */\n    var LifecycleHooks;\n    (function (LifecycleHooks) {\n        LifecycleHooks[LifecycleHooks[\"OnInit\"] = 0] = \"OnInit\";\n        LifecycleHooks[LifecycleHooks[\"OnDestroy\"] = 1] = \"OnDestroy\";\n        LifecycleHooks[LifecycleHooks[\"DoCheck\"] = 2] = \"DoCheck\";\n        LifecycleHooks[LifecycleHooks[\"OnChanges\"] = 3] = \"OnChanges\";\n        LifecycleHooks[LifecycleHooks[\"AfterContentInit\"] = 4] = \"AfterContentInit\";\n        LifecycleHooks[LifecycleHooks[\"AfterContentChecked\"] = 5] = \"AfterContentChecked\";\n        LifecycleHooks[LifecycleHooks[\"AfterViewInit\"] = 6] = \"AfterViewInit\";\n        LifecycleHooks[LifecycleHooks[\"AfterViewChecked\"] = 7] = \"AfterViewChecked\";\n    })(LifecycleHooks || (LifecycleHooks = {}));\n    var LIFECYCLE_HOOKS_VALUES = [\n        LifecycleHooks.OnInit, LifecycleHooks.OnDestroy, LifecycleHooks.DoCheck, LifecycleHooks.OnChanges,\n        LifecycleHooks.AfterContentInit, LifecycleHooks.AfterContentChecked, LifecycleHooks.AfterViewInit,\n        LifecycleHooks.AfterViewChecked\n    ];\n    /**\n     * Lifecycle hooks are guaranteed to be called in the following order:\n     * - `OnChanges` (if any bindings have changed),\n     * - `OnInit` (after the first check only),\n     * - `DoCheck`,\n     * - `AfterContentInit`,\n     * - `AfterContentChecked`,\n     * - `AfterViewInit`,\n     * - `AfterViewChecked`,\n     * - `OnDestroy` (at the very end before destruction)\n     */\n    /**\n     * Implement this interface to get notified when any data-bound property of your directive changes.\n     *\n     * `ngOnChanges` is called right after the data-bound properties have been checked and before view\n     * and content children are checked if at least one of them has changed.\n     *\n     * The `changes` parameter contains an entry for each of the changed data-bound property. The key is\n     * the property name and the value is an instance of {@link SimpleChange}.\n     *\n     * ### Example ([live example](http://plnkr.co/edit/AHrB6opLqHDBPkt4KpdT?p=preview)):\n     *\n     * ```typescript\n     * @Component({\n     *   selector: 'my-cmp',\n     *   template: `<p>myProp = {{myProp}}</p>`\n     * })\n     * class MyComponent implements OnChanges {\n     *   @Input() myProp: any;\n     *\n     *   ngOnChanges(changes: SimpleChanges) {\n     *     console.log('ngOnChanges - myProp = ' + changes['myProp'].currentValue);\n     *   }\n     * }\n     *\n     * @Component({\n     *   selector: 'app',\n     *   template: `\n     *     <button (click)=\"value = value + 1\">Change MyComponent</button>\n     *     <my-cmp [my-prop]=\"value\"></my-cmp>`,\n     *   directives: [MyComponent]\n     * })\n     * export class App {\n     *   value = 0;\n     * }\n     *\n     * bootstrap(App).catch(err => console.error(err));\n     * ```\n     * @stable\n     */\n    var OnChanges = (function () {\n        function OnChanges() {\n        }\n        return OnChanges;\n    }());\n    /**\n     * Implement this interface to execute custom initialization logic after your directive's\n     * data-bound properties have been initialized.\n     *\n     * `ngOnInit` is called right after the directive's data-bound properties have been checked for the\n     * first time, and before any of its children have been checked. It is invoked only once when the\n     * directive is instantiated.\n     *\n     * ### Example ([live example](http://plnkr.co/edit/1MBypRryXd64v4pV03Yn?p=preview))\n     *\n     * ```typescript\n     * @Component({\n     *   selector: 'my-cmp',\n     *   template: `<p>my-component</p>`\n     * })\n     * class MyComponent implements OnInit, OnDestroy {\n     *   ngOnInit() {\n     *     console.log('ngOnInit');\n     *   }\n     *\n     *   ngOnDestroy() {\n     *     console.log('ngOnDestroy');\n     *   }\n     * }\n     *\n     * @Component({\n     *   selector: 'app',\n     *   template: `\n     *     <button (click)=\"hasChild = !hasChild\">\n     *       {{hasChild ? 'Destroy' : 'Create'}} MyComponent\n     *     </button>\n     *     <my-cmp *ngIf=\"hasChild\"></my-cmp>`,\n     *   directives: [MyComponent, NgIf]\n     * })\n     * export class App {\n     *   hasChild = true;\n     * }\n     *\n     * bootstrap(App).catch(err => console.error(err));\n     *  ```\n     * @stable\n     */\n    var OnInit = (function () {\n        function OnInit() {\n        }\n        return OnInit;\n    }());\n    /**\n     * Implement this interface to supplement the default change detection algorithm in your directive.\n     *\n     * `ngDoCheck` gets called to check the changes in the directives in addition to the default\n     * algorithm.\n     *\n     * The default change detection algorithm looks for differences by comparing bound-property values\n     * by reference across change detection runs.\n     *\n     * Note that a directive typically should not use both `DoCheck` and {@link OnChanges} to respond to\n     * changes on the same input. `ngOnChanges` will continue to be called when the default change\n     * detector\n     * detects changes, so it is usually unnecessary to respond to changes on the same input in both\n     * hooks.\n     * Reaction to the changes have to be handled from within the `ngDoCheck` callback.\n     *\n     * You can use {@link KeyValueDiffers} and {@link IterableDiffers} to help add your custom check\n     * mechanisms.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/QpnIlF0CR2i5bcYbHEUJ?p=preview))\n     *\n     * In the following example `ngDoCheck` uses an {@link IterableDiffers} to detect the updates to the\n     * array `list`:\n     *\n     * ```typescript\n     * @Component({\n     *   selector: 'custom-check',\n     *   template: `\n     *     <p>Changes:</p>\n     *     <ul>\n     *       <li *ngFor=\"let line of logs\">{{line}}</li>\n     *     </ul>`,\n     *   directives: [NgFor]\n     * })\n     * class CustomCheckComponent implements DoCheck {\n     *   @Input() list: any[];\n     *   differ: any;\n     *   logs = [];\n     *\n     *   constructor(differs: IterableDiffers) {\n     *     this.differ = differs.find([]).create(null);\n     *   }\n     *\n     *   ngDoCheck() {\n     *     var changes = this.differ.diff(this.list);\n     *\n     *     if (changes) {\n     *       changes.forEachAddedItem(r => this.logs.push('added ' + r.item));\n     *       changes.forEachRemovedItem(r => this.logs.push('removed ' + r.item))\n     *     }\n     *   }\n     * }\n     *\n     * @Component({\n     *   selector: 'app',\n     *   template: `\n     *     <button (click)=\"list.push(list.length)\">Push</button>\n     *     <button (click)=\"list.pop()\">Pop</button>\n     *     <custom-check [list]=\"list\"></custom-check>`,\n     *   directives: [CustomCheckComponent]\n     * })\n     * export class App {\n     *   list = [];\n     * }\n     * ```\n     * @stable\n     */\n    var DoCheck = (function () {\n        function DoCheck() {\n        }\n        return DoCheck;\n    }());\n    /**\n     * Implement this interface to get notified when your directive is destroyed.\n     *\n     * `ngOnDestroy` callback is typically used for any custom cleanup that needs to occur when the\n     * instance is destroyed\n     *\n     * ### Example ([live example](http://plnkr.co/edit/1MBypRryXd64v4pV03Yn?p=preview))\n     *\n     * ```typesript\n     * @Component({\n     *   selector: 'my-cmp',\n     *   template: `<p>my-component</p>`\n     * })\n     * class MyComponent implements OnInit, OnDestroy {\n     *   ngOnInit() {\n     *     console.log('ngOnInit');\n     *   }\n     *\n     *   ngOnDestroy() {\n     *     console.log('ngOnDestroy');\n     *   }\n     * }\n     *\n     * @Component({\n     *   selector: 'app',\n     *   template: `\n     *     <button (click)=\"hasChild = !hasChild\">\n     *       {{hasChild ? 'Destroy' : 'Create'}} MyComponent\n     *     </button>\n     *     <my-cmp *ngIf=\"hasChild\"></my-cmp>`,\n     *   directives: [MyComponent, NgIf]\n     * })\n     * export class App {\n     *   hasChild = true;\n     * }\n     *\n     * bootstrap(App).catch(err => console.error(err));\n     * ```\n     *\n     *\n     * To create a stateful Pipe, you should implement this interface and set the `pure`\n     * parameter to `false` in the {@link PipeMetadata}.\n     *\n     * A stateful pipe may produce different output, given the same input. It is\n     * likely that a stateful pipe may contain state that should be cleaned up when\n     * a binding is destroyed. For example, a subscription to a stream of data may need to\n     * be disposed, or an interval may need to be cleared.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/i8pm5brO4sPaLxBx56MR?p=preview))\n     *\n     * In this example, a pipe is created to countdown its input value, updating it every\n     * 50ms. Because it maintains an internal interval, it automatically clears\n     * the interval when the binding is destroyed or the countdown completes.\n     *\n     * ```\n     * import {OnDestroy, Pipe, PipeTransform} from '@angular/core'\n     * @Pipe({name: 'countdown', pure: false})\n     * class CountDown implements PipeTransform, OnDestroy {\n     *   remainingTime:Number;\n     *   interval:SetInterval;\n     *   ngOnDestroy() {\n     *     if (this.interval) {\n     *       clearInterval(this.interval);\n     *     }\n     *   }\n     *   transform(value: any, args: any[] = []) {\n     *     if (!parseInt(value, 10)) return null;\n     *     if (typeof this.remainingTime !== 'number') {\n     *       this.remainingTime = parseInt(value, 10);\n     *     }\n     *     if (!this.interval) {\n     *       this.interval = setInterval(() => {\n     *         this.remainingTime-=50;\n     *         if (this.remainingTime <= 0) {\n     *           this.remainingTime = 0;\n     *           clearInterval(this.interval);\n     *           delete this.interval;\n     *         }\n     *       }, 50);\n     *     }\n     *     return this.remainingTime;\n     *   }\n     * }\n     * ```\n     *\n     * Invoking `{{ 10000 | countdown }}` would cause the value to be decremented by 50,\n     * every 50ms, until it reaches 0.\n     *\n     * @stable\n     */\n    var OnDestroy = (function () {\n        function OnDestroy() {\n        }\n        return OnDestroy;\n    }());\n    /**\n     * Implement this interface to get notified when your directive's content has been fully\n     * initialized.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/plamXUpsLQbIXpViZhUO?p=preview))\n     *\n     * ```typescript\n     * @Component({\n     *   selector: 'child-cmp',\n     *   template: `{{where}} child`\n     * })\n     * class ChildComponent {\n     *   @Input() where: string;\n     * }\n     *\n     * @Component({\n     *   selector: 'parent-cmp',\n     *   template: `<ng-content></ng-content>`\n     * })\n     * class ParentComponent implements AfterContentInit {\n     *   @ContentChild(ChildComponent) contentChild: ChildComponent;\n     *\n     *   constructor() {\n     *     // contentChild is not initialized yet\n     *     console.log(this.getMessage(this.contentChild));\n     *   }\n     *\n     *   ngAfterContentInit() {\n     *     // contentChild is updated after the content has been checked\n     *     console.log('AfterContentInit: ' + this.getMessage(this.contentChild));\n     *   }\n     *\n     *   private getMessage(cmp: ChildComponent): string {\n     *     return cmp ? cmp.where + ' child' : 'no child';\n     *   }\n     * }\n     *\n     * @Component({\n     *   selector: 'app',\n     *   template: `\n     *     <parent-cmp>\n     *       <child-cmp where=\"content\"></child-cmp>\n     *     </parent-cmp>`,\n     *   directives: [ParentComponent, ChildComponent]\n     * })\n     * export class App {\n     * }\n     *\n     * bootstrap(App).catch(err => console.error(err));\n     * ```\n     * @stable\n     */\n    var AfterContentInit = (function () {\n        function AfterContentInit() {\n        }\n        return AfterContentInit;\n    }());\n    /**\n     * Implement this interface to get notified after every check of your directive's content.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/tGdrytNEKQnecIPkD7NU?p=preview))\n     *\n     * ```typescript\n     * @Component({selector: 'child-cmp', template: `{{where}} child`})\n     * class ChildComponent {\n     *   @Input() where: string;\n     * }\n     *\n     * @Component({selector: 'parent-cmp', template: `<ng-content></ng-content>`})\n     * class ParentComponent implements AfterContentChecked {\n     *   @ContentChild(ChildComponent) contentChild: ChildComponent;\n     *\n     *   constructor() {\n     *     // contentChild is not initialized yet\n     *     console.log(this.getMessage(this.contentChild));\n     *   }\n     *\n     *   ngAfterContentChecked() {\n     *     // contentChild is updated after the content has been checked\n     *     console.log('AfterContentChecked: ' + this.getMessage(this.contentChild));\n     *   }\n     *\n     *   private getMessage(cmp: ChildComponent): string {\n     *     return cmp ? cmp.where + ' child' : 'no child';\n     *   }\n     * }\n     *\n     * @Component({\n     *   selector: 'app',\n     *   template: `\n     *     <parent-cmp>\n     *       <button (click)=\"hasContent = !hasContent\">Toggle content child</button>\n     *       <child-cmp *ngIf=\"hasContent\" where=\"content\"></child-cmp>\n     *     </parent-cmp>`,\n     *   directives: [NgIf, ParentComponent, ChildComponent]\n     * })\n     * export class App {\n     *   hasContent = true;\n     * }\n     *\n     * bootstrap(App).catch(err => console.error(err));\n     * ```\n     * @stable\n     */\n    var AfterContentChecked = (function () {\n        function AfterContentChecked() {\n        }\n        return AfterContentChecked;\n    }());\n    /**\n     * Implement this interface to get notified when your component's view has been fully initialized.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/LhTKVMEM0fkJgyp4CI1W?p=preview))\n     *\n     * ```typescript\n     * @Component({selector: 'child-cmp', template: `{{where}} child`})\n     * class ChildComponent {\n     *   @Input() where: string;\n     * }\n     *\n     * @Component({\n     *   selector: 'parent-cmp',\n     *   template: `<child-cmp where=\"view\"></child-cmp>`,\n     *   directives: [ChildComponent]\n     * })\n     * class ParentComponent implements AfterViewInit {\n     *   @ViewChild(ChildComponent) viewChild: ChildComponent;\n     *\n     *   constructor() {\n     *     // viewChild is not initialized yet\n     *     console.log(this.getMessage(this.viewChild));\n     *   }\n     *\n     *   ngAfterViewInit() {\n     *     // viewChild is updated after the view has been initialized\n     *     console.log('ngAfterViewInit: ' + this.getMessage(this.viewChild));\n     *   }\n     *\n     *   private getMessage(cmp: ChildComponent): string {\n     *     return cmp ? cmp.where + ' child' : 'no child';\n     *   }\n     * }\n     *\n     * @Component({\n     *   selector: 'app',\n     *   template: `<parent-cmp></parent-cmp>`,\n     *   directives: [ParentComponent]\n     * })\n     * export class App {\n     * }\n     *\n     * bootstrap(App).catch(err => console.error(err));\n     * ```\n     * @stable\n     */\n    var AfterViewInit = (function () {\n        function AfterViewInit() {\n        }\n        return AfterViewInit;\n    }());\n    /**\n     * Implement this interface to get notified after every check of your component's view.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/0qDGHcPQkc25CXhTNzKU?p=preview))\n     *\n     * ```typescript\n     * @Component({selector: 'child-cmp', template: `{{where}} child`})\n     * class ChildComponent {\n     *   @Input() where: string;\n     * }\n     *\n     * @Component({\n     *   selector: 'parent-cmp',\n     *   template: `\n     *     <button (click)=\"showView = !showView\">Toggle view child</button>\n     *     <child-cmp *ngIf=\"showView\" where=\"view\"></child-cmp>`,\n     *   directives: [NgIf, ChildComponent]\n     * })\n     * class ParentComponent implements AfterViewChecked {\n     *   @ViewChild(ChildComponent) viewChild: ChildComponent;\n     *   showView = true;\n     *\n     *   constructor() {\n     *     // viewChild is not initialized yet\n     *     console.log(this.getMessage(this.viewChild));\n     *   }\n     *\n     *   ngAfterViewChecked() {\n     *     // viewChild is updated after the view has been checked\n     *     console.log('AfterViewChecked: ' + this.getMessage(this.viewChild));\n     *   }\n     *\n     *   private getMessage(cmp: ChildComponent): string {\n     *     return cmp ? cmp.where + ' child' : 'no child';\n     *   }\n     * }\n     *\n     * @Component({\n     *   selector: 'app',\n     *   template: `<parent-cmp></parent-cmp>`,\n     *   directives: [ParentComponent]\n     * })\n     * export class App {\n     * }\n     *\n     * bootstrap(App).catch(err => console.error(err));\n     * ```\n     * @stable\n     */\n    var AfterViewChecked = (function () {\n        function AfterViewChecked() {\n        }\n        return AfterViewChecked;\n    }());\n    var _nextClassId = 0;\n    function extractAnnotation(annotation) {\n        if (isFunction(annotation) && annotation.hasOwnProperty('annotation')) {\n            // it is a decorator, extract annotation\n            annotation = annotation.annotation;\n        }\n        return annotation;\n    }\n    function applyParams(fnOrArray, key) {\n        if (fnOrArray === Object || fnOrArray === String || fnOrArray === Function ||\n            fnOrArray === Number || fnOrArray === Array) {\n            throw new Error(\"Can not use native \" + stringify(fnOrArray) + \" as constructor\");\n        }\n        if (isFunction(fnOrArray)) {\n            return fnOrArray;\n        }\n        else if (fnOrArray instanceof Array) {\n            var annotations = fnOrArray;\n            var fn = fnOrArray[fnOrArray.length - 1];\n            if (!isFunction(fn)) {\n                throw new Error(\"Last position of Class method array must be Function in key \" + key + \" was '\" + stringify(fn) + \"'\");\n            }\n            var annoLength = annotations.length - 1;\n            if (annoLength != fn.length) {\n                throw new Error(\"Number of annotations (\" + annoLength + \") does not match number of arguments (\" + fn.length + \") in the function: \" + stringify(fn));\n            }\n            var paramsAnnotations = [];\n            for (var i = 0, ii = annotations.length - 1; i < ii; i++) {\n                var paramAnnotations = [];\n                paramsAnnotations.push(paramAnnotations);\n                var annotation = annotations[i];\n                if (annotation instanceof Array) {\n                    for (var j = 0; j < annotation.length; j++) {\n                        paramAnnotations.push(extractAnnotation(annotation[j]));\n                    }\n                }\n                else if (isFunction(annotation)) {\n                    paramAnnotations.push(extractAnnotation(annotation));\n                }\n                else {\n                    paramAnnotations.push(annotation);\n                }\n            }\n            Reflect.defineMetadata('parameters', paramsAnnotations, fn);\n            return fn;\n        }\n        else {\n            throw new Error(\"Only Function or Array is supported in Class definition for key '\" + key + \"' is '\" + stringify(fnOrArray) + \"'\");\n        }\n    }\n    /**\n     * Provides a way for expressing ES6 classes with parameter annotations in ES5.\n     *\n     * ## Basic Example\n     *\n     * ```\n     * var Greeter = ng.Class({\n     *   constructor: function(name) {\n     *     this.name = name;\n     *   },\n     *\n     *   greet: function() {\n     *     alert('Hello ' + this.name + '!');\n     *   }\n     * });\n     * ```\n     *\n     * is equivalent to ES6:\n     *\n     * ```\n     * class Greeter {\n     *   constructor(name) {\n     *     this.name = name;\n     *   }\n     *\n     *   greet() {\n     *     alert('Hello ' + this.name + '!');\n     *   }\n     * }\n     * ```\n     *\n     * or equivalent to ES5:\n     *\n     * ```\n     * var Greeter = function (name) {\n     *   this.name = name;\n     * }\n     *\n     * Greeter.prototype.greet = function () {\n     *   alert('Hello ' + this.name + '!');\n     * }\n     * ```\n     *\n     * ### Example with parameter annotations\n     *\n     * ```\n     * var MyService = ng.Class({\n     *   constructor: [String, [new Query(), QueryList], function(name, queryList) {\n     *     ...\n     *   }]\n     * });\n     * ```\n     *\n     * is equivalent to ES6:\n     *\n     * ```\n     * class MyService {\n     *   constructor(name: string, @Query() queryList: QueryList) {\n     *     ...\n     *   }\n     * }\n     * ```\n     *\n     * ### Example with inheritance\n     *\n     * ```\n     * var Shape = ng.Class({\n     *   constructor: (color) {\n     *     this.color = color;\n     *   }\n     * });\n     *\n     * var Square = ng.Class({\n     *   extends: Shape,\n     *   constructor: function(color, size) {\n     *     Shape.call(this, color);\n     *     this.size = size;\n     *   }\n     * });\n     * ```\n     * @stable\n     */\n    function Class(clsDef) {\n        var constructor = applyParams(clsDef.hasOwnProperty('constructor') ? clsDef.constructor : undefined, 'constructor');\n        var proto = constructor.prototype;\n        if (clsDef.hasOwnProperty('extends')) {\n            if (isFunction(clsDef.extends)) {\n                constructor.prototype = proto =\n                    Object.create(clsDef.extends.prototype);\n            }\n            else {\n                throw new Error(\"Class definition 'extends' property must be a constructor function was: \" + stringify(clsDef.extends));\n            }\n        }\n        for (var key in clsDef) {\n            if (key != 'extends' && key != 'prototype' && clsDef.hasOwnProperty(key)) {\n                proto[key] = applyParams(clsDef[key], key);\n            }\n        }\n        if (this && this.annotations instanceof Array) {\n            Reflect.defineMetadata('annotations', this.annotations, constructor);\n        }\n        if (!constructor['name']) {\n            constructor['overriddenName'] = \"class\" + _nextClassId++;\n        }\n        return constructor;\n    }\n    var Reflect = global$1.Reflect;\n    function makeDecorator(annotationCls /* TODO #9100 */, chainFn) {\n        if (chainFn === void 0) { chainFn = null; }\n        function DecoratorFactory(objOrType /** TODO #9100 */) {\n            var annotationInstance = new annotationCls(objOrType);\n            if (this instanceof annotationCls) {\n                return annotationInstance;\n            }\n            else {\n                var chainAnnotation = isFunction(this) && this.annotations instanceof Array ? this.annotations : [];\n                chainAnnotation.push(annotationInstance);\n                var TypeDecorator = function TypeDecorator(cls /** TODO #9100 */) {\n                    var annotations = Reflect.getOwnMetadata('annotations', cls);\n                    annotations = annotations || [];\n                    annotations.push(annotationInstance);\n                    Reflect.defineMetadata('annotations', annotations, cls);\n                    return cls;\n                };\n                TypeDecorator.annotations = chainAnnotation;\n                TypeDecorator.Class = Class;\n                if (chainFn)\n                    chainFn(TypeDecorator);\n                return TypeDecorator;\n            }\n        }\n        DecoratorFactory.prototype = Object.create(annotationCls.prototype);\n        DecoratorFactory.annotationCls = annotationCls;\n        return DecoratorFactory;\n    }\n    function makeParamDecorator(annotationCls /** TODO #9100 */) {\n        function ParamDecoratorFactory() {\n            var args = []; /** TODO #9100 */\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i - 0] = arguments[_i];\n            }\n            var annotationInstance = Object.create(annotationCls.prototype);\n            annotationCls.apply(annotationInstance, args);\n            if (this instanceof annotationCls) {\n                return annotationInstance;\n            }\n            else {\n                ParamDecorator.annotation = annotationInstance;\n                return ParamDecorator;\n            }\n            function ParamDecorator(cls /** TODO #9100 */, unusedKey /** TODO #9100 */, index /** TODO #9100 */) {\n                var parameters = Reflect.getMetadata('parameters', cls);\n                parameters = parameters || [];\n                // there might be gaps if some in between parameters do not have annotations.\n                // we pad with nulls.\n                while (parameters.length <= index) {\n                    parameters.push(null);\n                }\n                parameters[index] = parameters[index] || [];\n                var annotationsForParam = parameters[index];\n                annotationsForParam.push(annotationInstance);\n                Reflect.defineMetadata('parameters', parameters, cls);\n                return cls;\n            }\n        }\n        ParamDecoratorFactory.prototype = Object.create(annotationCls.prototype);\n        ParamDecoratorFactory.annotationCls = annotationCls;\n        return ParamDecoratorFactory;\n    }\n    function makePropDecorator(annotationCls /** TODO #9100 */) {\n        function PropDecoratorFactory() {\n            var args = []; /** TODO #9100 */\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i - 0] = arguments[_i];\n            }\n            var decoratorInstance = Object.create(annotationCls.prototype);\n            annotationCls.apply(decoratorInstance, args);\n            if (this instanceof annotationCls) {\n                return decoratorInstance;\n            }\n            else {\n                return function PropDecorator(target, name) {\n                    var meta = Reflect.getOwnMetadata('propMetadata', target.constructor);\n                    meta = meta || {};\n                    meta[name] = meta[name] || [];\n                    meta[name].unshift(decoratorInstance);\n                    Reflect.defineMetadata('propMetadata', meta, target.constructor);\n                };\n            }\n        }\n        PropDecoratorFactory.prototype = Object.create(annotationCls.prototype);\n        PropDecoratorFactory.annotationCls = annotationCls;\n        return PropDecoratorFactory;\n    }\n    // TODO(alexeagle): remove the duplication of this doc. It is copied from ComponentMetadata.\n    /**\n     * Declare reusable UI building blocks for an application.\n     *\n     * Each Angular component requires a single `@Component` annotation. The `@Component`\n     * annotation specifies when a component is instantiated, and which properties and hostListeners it\n     * binds to.\n     *\n     * When a component is instantiated, Angular\n     * - creates a shadow DOM for the component.\n     * - loads the selected template into the shadow DOM.\n     * - creates all the injectable objects configured with `providers` and `viewProviders`.\n     *\n     * All template expressions and statements are then evaluated against the component instance.\n     *\n     * ## Lifecycle hooks\n     *\n     * When the component class implements some {@link ../../guide/lifecycle-hooks.html} the callbacks\n     * are called by the change detection at defined points in time during the life of the component.\n     *\n     * ### Example\n     *\n     * {@example core/ts/metadata/metadata.ts region='component'}\n     * @stable\n     * @Annotation\n     */\n    var Component = makeDecorator(ComponentMetadata, function (fn) { return fn.View = View; });\n    // TODO(alexeagle): remove the duplication of this doc. It is copied from DirectiveMetadata.\n    /**\n     * Directives allow you to attach behavior to elements in the DOM.\n     *\n     * {@link DirectiveMetadata}s with an embedded view are called {@link ComponentMetadata}s.\n     *\n     * A directive consists of a single directive annotation and a controller class. When the\n     * directive's `selector` matches\n     * elements in the DOM, the following steps occur:\n     *\n     * 1. For each directive, the `ElementInjector` attempts to resolve the directive's constructor\n     * arguments.\n     * 2. Angular instantiates directives for each matched element using `ElementInjector` in a\n     * depth-first order,\n     *    as declared in the HTML.\n     *\n     * ## Understanding How Injection Works\n     *\n     * There are three stages of injection resolution.\n     * - *Pre-existing Injectors*:\n     *   - The terminal {@link Injector} cannot resolve dependencies. It either throws an error or, if\n     * the dependency was\n     *     specified as `@Optional`, returns `null`.\n     *   - The platform injector resolves browser singleton resources, such as: cookies, title,\n     * location, and others.\n     * - *Component Injectors*: Each component instance has its own {@link Injector}, and they follow\n     * the same parent-child hierarchy\n     *     as the component instances in the DOM.\n     * - *Element Injectors*: Each component instance has a Shadow DOM. Within the Shadow DOM each\n     * element has an `ElementInjector`\n     *     which follow the same parent-child hierarchy as the DOM elements themselves.\n     *\n     * When a template is instantiated, it also must instantiate the corresponding directives in a\n     * depth-first order. The\n     * current `ElementInjector` resolves the constructor dependencies for each directive.\n     *\n     * Angular then resolves dependencies as follows, according to the order in which they appear in the\n     * {@link ViewMetadata}:\n     *\n     * 1. Dependencies on the current element\n     * 2. Dependencies on element injectors and their parents until it encounters a Shadow DOM boundary\n     * 3. Dependencies on component injectors and their parents until it encounters the root component\n     * 4. Dependencies on pre-existing injectors\n     *\n     *\n     * The `ElementInjector` can inject other directives, element-specific special objects, or it can\n     * delegate to the parent\n     * injector.\n     *\n     * To inject other directives, declare the constructor parameter as:\n     * - `directive:DirectiveType`: a directive on the current element only\n     * - `@Host() directive:DirectiveType`: any directive that matches the type between the current\n     * element and the\n     *    Shadow DOM root.\n     * - `@Query(DirectiveType) query:QueryList<DirectiveType>`: A live collection of direct child\n     * directives.\n     * - `@QueryDescendants(DirectiveType) query:QueryList<DirectiveType>`: A live collection of any\n     * child directives.\n     *\n     * To inject element-specific special objects, declare the constructor parameter as:\n     * - `element: ElementRef` to obtain a reference to logical element in the view.\n     * - `viewContainer: ViewContainerRef` to control child template instantiation, for\n     * {@link DirectiveMetadata} directives only\n     * - `bindingPropagation: BindingPropagation` to control change detection in a more granular way.\n     *\n     * ### Example\n     *\n     * The following example demonstrates how dependency injection resolves constructor arguments in\n     * practice.\n     *\n     *\n     * Assume this HTML template:\n     *\n     * ```\n     * <div dependency=\"1\">\n     *   <div dependency=\"2\">\n     *     <div dependency=\"3\" my-directive>\n     *       <div dependency=\"4\">\n     *         <div dependency=\"5\"></div>\n     *       </div>\n     *       <div dependency=\"6\"></div>\n     *     </div>\n     *   </div>\n     * </div>\n     * ```\n     *\n     * With the following `dependency` decorator and `SomeService` injectable class.\n     *\n     * ```\n     * @Injectable()\n     * class SomeService {\n     * }\n     *\n     * @Directive({\n     *   selector: '[dependency]',\n     *   inputs: [\n     *     'id: dependency'\n     *   ]\n     * })\n     * class Dependency {\n     *   id:string;\n     * }\n     * ```\n     *\n     * Let's step through the different ways in which `MyDirective` could be declared...\n     *\n     *\n     * ### No injection\n     *\n     * Here the constructor is declared with no arguments, therefore nothing is injected into\n     * `MyDirective`.\n     *\n     * ```\n     * @Directive({ selector: '[my-directive]' })\n     * class MyDirective {\n     *   constructor() {\n     *   }\n     * }\n     * ```\n     *\n     * This directive would be instantiated with no dependencies.\n     *\n     *\n     * ### Component-level injection\n     *\n     * Directives can inject any injectable instance from the closest component injector or any of its\n     * parents.\n     *\n     * Here, the constructor declares a parameter, `someService`, and injects the `SomeService` type\n     * from the parent\n     * component's injector.\n     * ```\n     * @Directive({ selector: '[my-directive]' })\n     * class MyDirective {\n     *   constructor(someService: SomeService) {\n     *   }\n     * }\n     * ```\n     *\n     * This directive would be instantiated with a dependency on `SomeService`.\n     *\n     *\n     * ### Injecting a directive from the current element\n     *\n     * Directives can inject other directives declared on the current element.\n     *\n     * ```\n     * @Directive({ selector: '[my-directive]' })\n     * class MyDirective {\n     *   constructor(dependency: Dependency) {\n     *     expect(dependency.id).toEqual(3);\n     *   }\n     * }\n     * ```\n     * This directive would be instantiated with `Dependency` declared at the same element, in this case\n     * `dependency=\"3\"`.\n     *\n     * ### Injecting a directive from any ancestor elements\n     *\n     * Directives can inject other directives declared on any ancestor element (in the current Shadow\n     * DOM), i.e. on the current element, the\n     * parent element, or its parents.\n     * ```\n     * @Directive({ selector: '[my-directive]' })\n     * class MyDirective {\n     *   constructor(@Host() dependency: Dependency) {\n     *     expect(dependency.id).toEqual(2);\n     *   }\n     * }\n     * ```\n     *\n     * `@Host` checks the current element, the parent, as well as its parents recursively. If\n     * `dependency=\"2\"` didn't\n     * exist on the direct parent, this injection would\n     * have returned\n     * `dependency=\"1\"`.\n     *\n     *\n     * ### Injecting a live collection of direct child directives\n     *\n     *\n     * A directive can also query for other child directives. Since parent directives are instantiated\n     * before child directives, a directive can't simply inject the list of child directives. Instead,\n     * the directive injects a {@link QueryList}, which updates its contents as children are added,\n     * removed, or moved by a directive that uses a {@link ViewContainerRef} such as a `ngFor`, an\n     * `ngIf`, or an `ngSwitch`.\n     *\n     * ```\n     * @Directive({ selector: '[my-directive]' })\n     * class MyDirective {\n     *   constructor(@Query(Dependency) dependencies:QueryList<Dependency>) {\n     *   }\n     * }\n     * ```\n     *\n     * This directive would be instantiated with a {@link QueryList} which contains `Dependency` 4 and\n     * 6. Here, `Dependency` 5 would not be included, because it is not a direct child.\n     *\n     * ### Injecting a live collection of descendant directives\n     *\n     * By passing the descendant flag to `@Query` above, we can include the children of the child\n     * elements.\n     *\n     * ```\n     * @Directive({ selector: '[my-directive]' })\n     * class MyDirective {\n     *   constructor(@Query(Dependency, {descendants: true}) dependencies:QueryList<Dependency>) {\n     *   }\n     * }\n     * ```\n     *\n     * This directive would be instantiated with a Query which would contain `Dependency` 4, 5 and 6.\n     *\n     * ### Optional injection\n     *\n     * The normal behavior of directives is to return an error when a specified dependency cannot be\n     * resolved. If you\n     * would like to inject `null` on unresolved dependency instead, you can annotate that dependency\n     * with `@Optional()`.\n     * This explicitly permits the author of a template to treat some of the surrounding directives as\n     * optional.\n     *\n     * ```\n     * @Directive({ selector: '[my-directive]' })\n     * class MyDirective {\n     *   constructor(@Optional() dependency:Dependency) {\n     *   }\n     * }\n     * ```\n     *\n     * This directive would be instantiated with a `Dependency` directive found on the current element.\n     * If none can be\n     * found, the injector supplies `null` instead of throwing an error.\n     *\n     * ### Example\n     *\n     * Here we use a decorator directive to simply define basic tool-tip behavior.\n     *\n     * ```\n     * @Directive({\n     *   selector: '[tooltip]',\n     *   inputs: [\n     *     'text: tooltip'\n     *   ],\n     *   host: {\n     *     '(mouseenter)': 'onMouseEnter()',\n     *     '(mouseleave)': 'onMouseLeave()'\n     *   }\n     * })\n     * class Tooltip{\n     *   text:string;\n     *   overlay:Overlay; // NOT YET IMPLEMENTED\n     *   overlayManager:OverlayManager; // NOT YET IMPLEMENTED\n     *\n     *   constructor(overlayManager:OverlayManager) {\n     *     this.overlayManager = overlayManager;\n     *   }\n     *\n     *   onMouseEnter() {\n     *     // exact signature to be determined\n     *     this.overlay = this.overlayManager.open(text, ...);\n     *   }\n     *\n     *   onMouseLeave() {\n     *     this.overlay.close();\n     *     this.overlay = null;\n     *   }\n     * }\n     * ```\n     * In our HTML template, we can then add this behavior to a `<div>` or any other element with the\n     * `tooltip` selector,\n     * like so:\n     *\n     * ```\n     * <div tooltip=\"some text here\"></div>\n     * ```\n     *\n     * Directives can also control the instantiation, destruction, and positioning of inline template\n     * elements:\n     *\n     * A directive uses a {@link ViewContainerRef} to instantiate, insert, move, and destroy views at\n     * runtime.\n     * The {@link ViewContainerRef} is created as a result of `<template>` element, and represents a\n     * location in the current view\n     * where these actions are performed.\n     *\n     * Views are always created as children of the current {@link ViewMetadata}, and as siblings of the\n     * `<template>` element. Thus a\n     * directive in a child view cannot inject the directive that created it.\n     *\n     * Since directives that create views via ViewContainers are common in Angular, and using the full\n     * `<template>` element syntax is wordy, Angular\n     * also supports a shorthand notation: `<li *foo=\"bar\">` and `<li template=\"foo: bar\">` are\n     * equivalent.\n     *\n     * Thus,\n     *\n     * ```\n     * <ul>\n     *   <li *foo=\"bar\" title=\"text\"></li>\n     * </ul>\n     * ```\n     *\n     * Expands in use to:\n     *\n     * ```\n     * <ul>\n     *   <template [foo]=\"bar\">\n     *     <li title=\"text\"></li>\n     *   </template>\n     * </ul>\n     * ```\n     *\n     * Notice that although the shorthand places `*foo=\"bar\"` within the `<li>` element, the binding for\n     * the directive\n     * controller is correctly instantiated on the `<template>` element rather than the `<li>` element.\n     *\n     * ## Lifecycle hooks\n     *\n     * When the directive class implements some {@link ../../guide/lifecycle-hooks.html} the callbacks\n     * are called by the change detection at defined points in time during the life of the directive.\n     *\n     * ### Example\n     *\n     * Let's suppose we want to implement the `unless` behavior, to conditionally include a template.\n     *\n     * Here is a simple directive that triggers on an `unless` selector:\n     *\n     * ```\n     * @Directive({\n     *   selector: '[unless]',\n     *   inputs: ['unless']\n     * })\n     * export class Unless {\n     *   viewContainer: ViewContainerRef;\n     *   templateRef: TemplateRef;\n     *   prevCondition: boolean;\n     *\n     *   constructor(viewContainer: ViewContainerRef, templateRef: TemplateRef) {\n     *     this.viewContainer = viewContainer;\n     *     this.templateRef = templateRef;\n     *     this.prevCondition = null;\n     *   }\n     *\n     *   set unless(newCondition) {\n     *     if (newCondition && (isBlank(this.prevCondition) || !this.prevCondition)) {\n     *       this.prevCondition = true;\n     *       this.viewContainer.clear();\n     *     } else if (!newCondition && (isBlank(this.prevCondition) || this.prevCondition)) {\n     *       this.prevCondition = false;\n     *       this.viewContainer.create(this.templateRef);\n     *     }\n     *   }\n     * }\n     * ```\n     *\n     * We can then use this `unless` selector in a template:\n     * ```\n     * <ul>\n     *   <li *unless=\"expr\"></li>\n     * </ul>\n     * ```\n     *\n     * Once the directive instantiates the child view, the shorthand notation for the template expands\n     * and the result is:\n     *\n     * ```\n     * <ul>\n     *   <template [unless]=\"exp\">\n     *     <li></li>\n     *   </template>\n     *   <li></li>\n     * </ul>\n     * ```\n     *\n     * Note also that although the `<li></li>` template still exists inside the `<template></template>`,\n     * the instantiated\n     * view occurs on the second `<li></li>` which is a sibling to the `<template>` element.\n     * @stable\n     * @Annotation\n     */\n    var Directive = makeDecorator(DirectiveMetadata);\n    // TODO(alexeagle): remove the duplication of this doc. It is copied from ViewMetadata.\n    /**\n     * Metadata properties available for configuring Views.\n     *\n     * Each Angular component requires a single `@Component` and at least one `@View` annotation. The\n     * `@View` annotation specifies the HTML template to use, and lists the directives that are active\n     * within the template.\n     *\n     * When a component is instantiated, the template is loaded into the component's shadow root, and\n     * the expressions and statements in the template are evaluated against the component.\n     *\n     * For details on the `@Component` annotation, see {@link ComponentMetadata}.\n     *\n     * ### Example\n     *\n     * ```\n     * @Component({\n     *   selector: 'greet',\n     *   template: 'Hello {{name}}!',\n     *   directives: [GreetUser, Bold]\n     * })\n     * class Greet {\n     *   name: string;\n     *\n     *   constructor() {\n     *     this.name = 'World';\n     *   }\n     * }\n     * ```\n     * @deprecated\n     * @Annotation\n     */\n    var View = makeDecorator(ViewMetadata, function (fn) { return fn.View = View; });\n    /**\n     * Specifies that a constant attribute value should be injected.\n     *\n     * The directive can inject constant string literals of host element attributes.\n     *\n     * ### Example\n     *\n     * Suppose we have an `<input>` element and want to know its `type`.\n     *\n     * ```html\n     * <input type=\"text\">\n     * ```\n     *\n     * A decorator can inject string literal `text` like so:\n     *\n     * {@example core/ts/metadata/metadata.ts region='attributeMetadata'}\n     * @stable\n     * @Annotation\n     */\n    var Attribute = makeParamDecorator(AttributeMetadata);\n    // TODO(alexeagle): remove the duplication of this doc. It is copied from QueryMetadata.\n    /**\n     * Declares an injectable parameter to be a live list of directives or variable\n     * bindings from the content children of a directive.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/lY9m8HLy7z06vDoUaSN2?p=preview))\n     *\n     * Assume that `<tabs>` component would like to get a list its children `<pane>`\n     * components as shown in this example:\n     *\n     * ```html\n     * <tabs>\n     *   <pane title=\"Overview\">...</pane>\n     *   <pane *ngFor=\"let o of objects\" [title]=\"o.title\">{{o.text}}</pane>\n     * </tabs>\n     * ```\n     *\n     * The preferred solution is to query for `Pane` directives using this decorator.\n     *\n     * ```javascript\n     * @Component({\n     *   selector: 'pane',\n     *   inputs: ['title']\n     * })\n     * class Pane {\n     *   title:string;\n     * }\n     *\n     * @Component({\n     *  selector: 'tabs',\n     *  template: `\n     *    <ul>\n     *      <li *ngFor=\"let pane of panes\">{{pane.title}}</li>\n     *    </ul>\n     *    <ng-content></ng-content>\n     *  `\n     * })\n     * class Tabs {\n     *   panes: QueryList<Pane>;\n     *   constructor(@Query(Pane) panes:QueryList<Pane>) {\n     *     this.panes = panes;\n     *   }\n     * }\n     * ```\n     *\n     * A query can look for variable bindings by passing in a string with desired binding symbol.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/sT2j25cH1dURAyBRCKx1?p=preview))\n     * ```html\n     * <seeker>\n     *   <div #findme>...</div>\n     * </seeker>\n     *\n     * @Component({ selector: 'seeker' })\n     * class seeker {\n     *   constructor(@Query('findme') elList: QueryList<ElementRef>) {...}\n     * }\n     * ```\n     *\n     * In this case the object that is injected depend on the type of the variable\n     * binding. It can be an ElementRef, a directive or a component.\n     *\n     * Passing in a comma separated list of variable bindings will query for all of them.\n     *\n     * ```html\n     * <seeker>\n     *   <div #findMe>...</div>\n     *   <div #findMeToo>...</div>\n     * </seeker>\n     *\n     *  @Component({\n     *   selector: 'seeker'\n     * })\n     * class Seeker {\n     *   constructor(@Query('findMe, findMeToo') elList: QueryList<ElementRef>) {...}\n     * }\n     * ```\n     *\n     * Configure whether query looks for direct children or all descendants\n     * of the querying element, by using the `descendants` parameter.\n     * It is set to `false` by default.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/wtGeB977bv7qvA5FTYl9?p=preview))\n     * ```html\n     * <container #first>\n     *   <item>a</item>\n     *   <item>b</item>\n     *   <container #second>\n     *     <item>c</item>\n     *   </container>\n     * </container>\n     * ```\n     *\n     * When querying for items, the first container will see only `a` and `b` by default,\n     * but with `Query(TextDirective, {descendants: true})` it will see `c` too.\n     *\n     * The queried directives are kept in a depth-first pre-order with respect to their\n     * positions in the DOM.\n     *\n     * Query does not look deep into any subcomponent views.\n     *\n     * Query is updated as part of the change-detection cycle. Since change detection\n     * happens after construction of a directive, QueryList will always be empty when observed in the\n     * constructor.\n     *\n     * The injected object is an unmodifiable live list.\n     * See {@link QueryList} for more details.\n     * @deprecated\n     * @Annotation\n     */\n    var Query = makeParamDecorator(QueryMetadata);\n    // TODO(alexeagle): remove the duplication of this doc. It is copied from ContentChildrenMetadata.\n    /**\n     * Configures a content query.\n     *\n     * Content queries are set before the `ngAfterContentInit` callback is called.\n     *\n     * ### Example\n     *\n     * ```\n     * @Directive({\n     *   selector: 'someDir'\n     * })\n     * class SomeDir {\n     *   @ContentChildren(ChildDirective) contentChildren: QueryList<ChildDirective>;\n     *\n     *   ngAfterContentInit() {\n     *     // contentChildren is set\n     *   }\n     * }\n     * ```\n     * @stable\n     * @Annotation\n     */\n    var ContentChildren = makePropDecorator(ContentChildrenMetadata);\n    // TODO(alexeagle): remove the duplication of this doc. It is copied from ContentChildMetadata.\n    /**\n     * Configures a content query.\n     *\n     * Content queries are set before the `ngAfterContentInit` callback is called.\n     *\n     * ### Example\n     *\n     * ```\n     * @Directive({\n     *   selector: 'someDir'\n     * })\n     * class SomeDir {\n     *   @ContentChild(ChildDirective) contentChild;\n     *   @ContentChild('container_ref') containerChild\n     *\n     *   ngAfterContentInit() {\n     *     // contentChild is set\n     *     // containerChild is set\n     *   }\n     * }\n     * ```\n     *\n     * ```html\n     * <container #container_ref>\n     *   <item>a</item>\n     *   <item>b</item>\n     * </container>\n     * ```\n     * @stable\n     * @Annotation\n     */\n    var ContentChild = makePropDecorator(ContentChildMetadata);\n    // TODO(alexeagle): remove the duplication of this doc. It is copied from ViewChildrenMetadata.\n    /**\n     * Declares a list of child element references.\n     *\n     * Angular automatically updates the list when the DOM is updated.\n     *\n     * `ViewChildren` takes a argument to select elements.\n     *\n     * - If the argument is a type, directives or components with the type will be bound.\n     *\n     * - If the argument is a string, the string is interpreted as a list of comma-separated selectors.\n     * For each selector, an element containing the matching template variable (e.g. `#child`) will be\n     * bound.\n     *\n     * View children are set before the `ngAfterViewInit` callback is called.\n     *\n     * ### Example\n     *\n     * With type selector:\n     *\n     * ```\n     * @Component({\n     *   selector: 'child-cmp',\n     *   template: '<p>child</p>'\n     * })\n     * class ChildCmp {\n     *   doSomething() {}\n     * }\n     *\n     * @Component({\n     *   selector: 'some-cmp',\n     *   template: `\n     *     <child-cmp></child-cmp>\n     *     <child-cmp></child-cmp>\n     *     <child-cmp></child-cmp>\n     *   `,\n     *   directives: [ChildCmp]\n     * })\n     * class SomeCmp {\n     *   @ViewChildren(ChildCmp) children:QueryList<ChildCmp>;\n     *\n     *   ngAfterViewInit() {\n     *     // children are set\n     *     this.children.toArray().forEach((child)=>child.doSomething());\n     *   }\n     * }\n     * ```\n     *\n     * With string selector:\n     *\n     * ```\n     * @Component({\n     *   selector: 'child-cmp',\n     *   template: '<p>child</p>'\n     * })\n     * class ChildCmp {\n     *   doSomething() {}\n     * }\n     *\n     * @Component({\n     *   selector: 'some-cmp',\n     *   template: `\n     *     <child-cmp #child1></child-cmp>\n     *     <child-cmp #child2></child-cmp>\n     *     <child-cmp #child3></child-cmp>\n     *   `,\n     *   directives: [ChildCmp]\n     * })\n     * class SomeCmp {\n     *   @ViewChildren('child1,child2,child3') children:QueryList<ChildCmp>;\n     *\n     *   ngAfterViewInit() {\n     *     // children are set\n     *     this.children.toArray().forEach((child)=>child.doSomething());\n     *   }\n     * }\n     * ```\n     *\n     * See also: [ViewChildrenMetadata]\n     * @stable\n     * @Annotation\n     */\n    var ViewChildren = makePropDecorator(ViewChildrenMetadata);\n    // TODO(alexeagle): remove the duplication of this doc. It is copied from ViewChildMetadata.\n    /**\n     * Declares a reference to a child element.\n     *\n     * `ViewChildren` takes a argument to select elements.\n     *\n     * - If the argument is a type, a directive or a component with the type will be bound.\n     *\n     * - If the argument is a string, the string is interpreted as a selector. An element containing the\n     * matching template variable (e.g. `#child`) will be bound.\n     *\n     * In either case, `@ViewChild()` assigns the first (looking from above) element if there are\n     * multiple matches.\n     *\n     * View child is set before the `ngAfterViewInit` callback is called.\n     *\n     * ### Example\n     *\n     * With type selector:\n     *\n     * ```\n     * @Component({\n     *   selector: 'child-cmp',\n     *   template: '<p>child</p>'\n     * })\n     * class ChildCmp {\n     *   doSomething() {}\n     * }\n     *\n     * @Component({\n     *   selector: 'some-cmp',\n     *   template: '<child-cmp></child-cmp>',\n     *   directives: [ChildCmp]\n     * })\n     * class SomeCmp {\n     *   @ViewChild(ChildCmp) child:ChildCmp;\n     *\n     *   ngAfterViewInit() {\n     *     // child is set\n     *     this.child.doSomething();\n     *   }\n     * }\n     * ```\n     *\n     * With string selector:\n     *\n     * ```\n     * @Component({\n     *   selector: 'child-cmp',\n     *   template: '<p>child</p>'\n     * })\n     * class ChildCmp {\n     *   doSomething() {}\n     * }\n     *\n     * @Component({\n     *   selector: 'some-cmp',\n     *   template: '<child-cmp #child></child-cmp>',\n     *   directives: [ChildCmp]\n     * })\n     * class SomeCmp {\n     *   @ViewChild('child') child:ChildCmp;\n     *\n     *   ngAfterViewInit() {\n     *     // child is set\n     *     this.child.doSomething();\n     *   }\n     * }\n     * ```\n     * See also: [ViewChildMetadata]\n     * @stable\n     * @Annotation\n     */\n    var ViewChild = makePropDecorator(ViewChildMetadata);\n    // TODO(alexeagle): remove the duplication of this doc. It is copied from ViewQueryMetadata.\n    /**\n     * Similar to {@link QueryMetadata}, but querying the component view, instead of\n     * the content children.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/eNsFHDf7YjyM6IzKxM1j?p=preview))\n     *\n     * ```javascript\n     * @Component({\n     *   ...,\n     *   template: `\n     *     <item> a </item>\n     *     <item> b </item>\n     *     <item> c </item>\n     *   `\n     * })\n     * class MyComponent {\n     *   shown: boolean;\n     *\n     *   constructor(private @Query(Item) items:QueryList<Item>) {\n     *     items.changes.subscribe(() => console.log(items.length));\n     *   }\n     * }\n     * ```\n     *\n     * Supports the same querying parameters as {@link QueryMetadata}, except\n     * `descendants`. This always queries the whole view.\n     *\n     * As `shown` is flipped between true and false, items will contain zero of one\n     * items.\n     *\n     * Specifies that a {@link QueryList} should be injected.\n     *\n     * The injected object is an iterable and observable live list.\n     * See {@link QueryList} for more details.\n     * @deprecated\n     * @Annotation\n     */\n    var ViewQuery = makeParamDecorator(ViewQueryMetadata);\n    // TODO(alexeagle): remove the duplication of this doc. It is copied from PipeMetadata.\n    /**\n     * Declare reusable pipe function.\n     *\n     * ### Example\n     *\n     * {@example core/ts/metadata/metadata.ts region='pipe'}\n     * @stable\n     * @Annotation\n     */\n    var Pipe = makeDecorator(PipeMetadata);\n    // TODO(alexeagle): remove the duplication of this doc. It is copied from InputMetadata.\n    /**\n     * Declares a data-bound input property.\n     *\n     * Angular automatically updates data-bound properties during change detection.\n     *\n     * `InputMetadata` takes an optional parameter that specifies the name\n     * used when instantiating a component in the template. When not provided,\n     * the name of the decorated property is used.\n     *\n     * ### Example\n     *\n     * The following example creates a component with two input properties.\n     *\n     * ```typescript\n     * @Component({\n     *   selector: 'bank-account',\n     *   template: `\n     *     Bank Name: {{bankName}}\n     *     Account Id: {{id}}\n     *   `\n     * })\n     * class BankAccount {\n     *   @Input() bankName: string;\n     *   @Input('account-id') id: string;\n     *\n     *   // this property is not bound, and won't be automatically updated by Angular\n     *   normalizedBankName: string;\n     * }\n     *\n     * @Component({\n     *   selector: 'app',\n     *   template: `\n     *     <bank-account bank-name=\"RBC\" account-id=\"4747\"></bank-account>\n     *   `,\n     *   directives: [BankAccount]\n     * })\n     * class App {}\n     *\n     * bootstrap(App);\n     * ```\n     * @stable\n     * @Annotation\n     */\n    var Input = makePropDecorator(InputMetadata);\n    // TODO(alexeagle): remove the duplication of this doc. It is copied from OutputMetadata.\n    /**\n     * Declares an event-bound output property.\n     *\n     * When an output property emits an event, an event handler attached to that event\n     * the template is invoked.\n     *\n     * `OutputMetadata` takes an optional parameter that specifies the name\n     * used when instantiating a component in the template. When not provided,\n     * the name of the decorated property is used.\n     *\n     * ### Example\n     *\n     * ```typescript\n     * @Directive({\n     *   selector: 'interval-dir',\n     * })\n     * class IntervalDir {\n     *   @Output() everySecond = new EventEmitter();\n     *   @Output('everyFiveSeconds') five5Secs = new EventEmitter();\n     *\n     *   constructor() {\n     *     setInterval(() => this.everySecond.emit(\"event\"), 1000);\n     *     setInterval(() => this.five5Secs.emit(\"event\"), 5000);\n     *   }\n     * }\n     *\n     * @Component({\n     *   selector: 'app',\n     *   template: `\n     *     <interval-dir (everySecond)=\"everySecond()\" (everyFiveSeconds)=\"everyFiveSeconds()\">\n     *     </interval-dir>\n     *   `,\n     *   directives: [IntervalDir]\n     * })\n     * class App {\n     *   everySecond() { console.log('second'); }\n     *   everyFiveSeconds() { console.log('five seconds'); }\n     * }\n     * bootstrap(App);\n     * ```\n     * @stable\n     * @Annotation\n     */\n    var Output = makePropDecorator(OutputMetadata);\n    // TODO(alexeagle): remove the duplication of this doc. It is copied from HostBindingMetadata.\n    /**\n     * Declares a host property binding.\n     *\n     * Angular automatically checks host property bindings during change detection.\n     * If a binding changes, it will update the host element of the directive.\n     *\n     * `HostBindingMetadata` takes an optional parameter that specifies the property\n     * name of the host element that will be updated. When not provided,\n     * the class property name is used.\n     *\n     * ### Example\n     *\n     * The following example creates a directive that sets the `valid` and `invalid` classes\n     * on the DOM element that has ngModel directive on it.\n     *\n     * ```typescript\n     * @Directive({selector: '[ngModel]'})\n     * class NgModelStatus {\n     *   constructor(public control:NgModel) {}\n     *   @HostBinding('class.valid') get valid() { return this.control.valid; }\n     *   @HostBinding('class.invalid') get invalid() { return this.control.invalid; }\n     * }\n     *\n     * @Component({\n     *   selector: 'app',\n     *   template: `<input [(ngModel)]=\"prop\">`,\n     *   directives: [FORM_DIRECTIVES, NgModelStatus]\n     * })\n     * class App {\n     *   prop;\n     * }\n     *\n     * bootstrap(App);\n     * ```\n     * @stable\n     * @Annotation\n     */\n    var HostBinding = makePropDecorator(HostBindingMetadata);\n    // TODO(alexeagle): remove the duplication of this doc. It is copied from HostListenerMetadata.\n    /**\n     * Declares a host listener.\n     *\n     * Angular will invoke the decorated method when the host element emits the specified event.\n     *\n     * If the decorated method returns `false`, then `preventDefault` is applied on the DOM\n     * event.\n     *\n     * ### Example\n     *\n     * The following example declares a directive that attaches a click listener to the button and\n     * counts clicks.\n     *\n     * ```typescript\n     * @Directive({selector: 'button[counting]'})\n     * class CountClicks {\n     *   numberOfClicks = 0;\n     *\n     *   @HostListener('click', ['$event.target'])\n     *   onClick(btn) {\n     *     console.log(\"button\", btn, \"number of clicks:\", this.numberOfClicks++);\n     *   }\n     * }\n     *\n     * @Component({\n     *   selector: 'app',\n     *   template: `<button counting>Increment</button>`,\n     *   directives: [CountClicks]\n     * })\n     * class App {}\n     *\n     * bootstrap(App);\n     * ```\n     * @stable\n     * @Annotation\n     */\n    var HostListener = makePropDecorator(HostListenerMetadata);\n    /**\n     * Factory for creating {@link InjectMetadata}.\n     * @stable\n     * @Annotation\n     */\n    var Inject = makeParamDecorator(InjectMetadata);\n    /**\n     * Factory for creating {@link OptionalMetadata}.\n     * @stable\n     * @Annotation\n     */\n    var Optional = makeParamDecorator(OptionalMetadata);\n    /**\n     * Factory for creating {@link InjectableMetadata}.\n     * @stable\n     * @Annotation\n     */\n    var Injectable = makeDecorator(InjectableMetadata);\n    /**\n     * Factory for creating {@link SelfMetadata}.\n     * @stable\n     * @Annotation\n     */\n    var Self = makeParamDecorator(SelfMetadata);\n    /**\n     * Factory for creating {@link HostMetadata}.\n     * @stable\n     * @Annotation\n     */\n    var Host = makeParamDecorator(HostMetadata);\n    /**\n     * Factory for creating {@link SkipSelfMetadata}.\n     * @stable\n     * @Annotation\n     */\n    var SkipSelf = makeParamDecorator(SkipSelfMetadata);\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * A base class for the WrappedException that can be used to identify\n     * a WrappedException from ExceptionHandler without adding circular\n     * dependency.\n     */\n    var BaseWrappedException = (function (_super) {\n        __extends(BaseWrappedException, _super);\n        function BaseWrappedException(message) {\n            _super.call(this, message);\n        }\n        Object.defineProperty(BaseWrappedException.prototype, \"wrapperMessage\", {\n            get: function () { return ''; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(BaseWrappedException.prototype, \"wrapperStack\", {\n            get: function () { return null; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(BaseWrappedException.prototype, \"originalException\", {\n            get: function () { return null; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(BaseWrappedException.prototype, \"originalStack\", {\n            get: function () { return null; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(BaseWrappedException.prototype, \"context\", {\n            get: function () { return null; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(BaseWrappedException.prototype, \"message\", {\n            get: function () { return ''; },\n            enumerable: true,\n            configurable: true\n        });\n        return BaseWrappedException;\n    }(Error));\n    var Map$1 = global$1.Map;\n    var Set = global$1.Set;\n    // Safari and Internet Explorer do not support the iterable parameter to the\n    // Map constructor.  We work around that by manually adding the items.\n    var createMapFromPairs = (function () {\n        try {\n            if (new Map$1([[1, 2]]).size === 1) {\n                return function createMapFromPairs(pairs) { return new Map$1(pairs); };\n            }\n        }\n        catch (e) {\n        }\n        return function createMapAndPopulateFromPairs(pairs) {\n            var map = new Map$1();\n            for (var i = 0; i < pairs.length; i++) {\n                var pair = pairs[i];\n                map.set(pair[0], pair[1]);\n            }\n            return map;\n        };\n    })();\n    var createMapFromMap = (function () {\n        try {\n            if (new Map$1(new Map$1())) {\n                return function createMapFromMap(m) { return new Map$1(m); };\n            }\n        }\n        catch (e) {\n        }\n        return function createMapAndPopulateFromMap(m) {\n            var map = new Map$1();\n            m.forEach(function (v, k) { map.set(k, v); });\n            return map;\n        };\n    })();\n    var _clearValues = (function () {\n        if ((new Map$1()).keys().next) {\n            return function _clearValues(m) {\n                var keyIterator = m.keys();\n                var k;\n                while (!((k = keyIterator.next()).done)) {\n                    m.set(k.value, null);\n                }\n            };\n        }\n        else {\n            return function _clearValuesWithForeEach(m) {\n                m.forEach(function (v, k) { m.set(k, null); });\n            };\n        }\n    })();\n    // Safari doesn't implement MapIterator.next(), which is used is Traceur's polyfill of Array.from\n    // TODO(mlaval): remove the work around once we have a working polyfill of Array.from\n    var _arrayFromMap = (function () {\n        try {\n            if ((new Map$1()).values().next) {\n                return function createArrayFromMap(m, getValues) {\n                    return getValues ? Array.from(m.values()) : Array.from(m.keys());\n                };\n            }\n        }\n        catch (e) {\n        }\n        return function createArrayFromMapWithForeach(m, getValues) {\n            var res = ListWrapper.createFixedSize(m.size), i = 0;\n            m.forEach(function (v, k) {\n                res[i] = getValues ? v : k;\n                i++;\n            });\n            return res;\n        };\n    })();\n    var MapWrapper = (function () {\n        function MapWrapper() {\n        }\n        MapWrapper.clone = function (m) { return createMapFromMap(m); };\n        MapWrapper.createFromStringMap = function (stringMap) {\n            var result = new Map$1();\n            for (var prop in stringMap) {\n                result.set(prop, stringMap[prop]);\n            }\n            return result;\n        };\n        MapWrapper.toStringMap = function (m) {\n            var r = {};\n            m.forEach(function (v, k) { return r[k] = v; });\n            return r;\n        };\n        MapWrapper.createFromPairs = function (pairs) { return createMapFromPairs(pairs); };\n        MapWrapper.clearValues = function (m) { _clearValues(m); };\n        MapWrapper.iterable = function (m) { return m; };\n        MapWrapper.keys = function (m) { return _arrayFromMap(m, false); };\n        MapWrapper.values = function (m) { return _arrayFromMap(m, true); };\n        return MapWrapper;\n    }());\n    /**\n     * Wraps Javascript Objects\n     */\n    var StringMapWrapper = (function () {\n        function StringMapWrapper() {\n        }\n        StringMapWrapper.create = function () {\n            // Note: We are not using Object.create(null) here due to\n            // performance!\n            // http://jsperf.com/ng2-object-create-null\n            return {};\n        };\n        StringMapWrapper.contains = function (map, key) {\n            return map.hasOwnProperty(key);\n        };\n        StringMapWrapper.get = function (map, key) {\n            return map.hasOwnProperty(key) ? map[key] : undefined;\n        };\n        StringMapWrapper.set = function (map, key, value) { map[key] = value; };\n        StringMapWrapper.keys = function (map) { return Object.keys(map); };\n        StringMapWrapper.values = function (map) {\n            return Object.keys(map).reduce(function (r, a) {\n                r.push(map[a]);\n                return r;\n            }, []);\n        };\n        StringMapWrapper.isEmpty = function (map) {\n            for (var prop in map) {\n                return false;\n            }\n            return true;\n        };\n        StringMapWrapper.delete = function (map, key) { delete map[key]; };\n        StringMapWrapper.forEach = function (map, callback) {\n            for (var prop in map) {\n                if (map.hasOwnProperty(prop)) {\n                    callback(map[prop], prop);\n                }\n            }\n        };\n        StringMapWrapper.merge = function (m1, m2) {\n            var m = {};\n            for (var attr in m1) {\n                if (m1.hasOwnProperty(attr)) {\n                    m[attr] = m1[attr];\n                }\n            }\n            for (var attr in m2) {\n                if (m2.hasOwnProperty(attr)) {\n                    m[attr] = m2[attr];\n                }\n            }\n            return m;\n        };\n        StringMapWrapper.equals = function (m1, m2) {\n            var k1 = Object.keys(m1);\n            var k2 = Object.keys(m2);\n            if (k1.length != k2.length) {\n                return false;\n            }\n            var key;\n            for (var i = 0; i < k1.length; i++) {\n                key = k1[i];\n                if (m1[key] !== m2[key]) {\n                    return false;\n                }\n            }\n            return true;\n        };\n        return StringMapWrapper;\n    }());\n    var ListWrapper = (function () {\n        function ListWrapper() {\n        }\n        // JS has no way to express a statically fixed size list, but dart does so we\n        // keep both methods.\n        ListWrapper.createFixedSize = function (size) { return new Array(size); };\n        ListWrapper.createGrowableSize = function (size) { return new Array(size); };\n        ListWrapper.clone = function (array) { return array.slice(0); };\n        ListWrapper.forEachWithIndex = function (array, fn) {\n            for (var i = 0; i < array.length; i++) {\n                fn(array[i], i);\n            }\n        };\n        ListWrapper.first = function (array) {\n            if (!array)\n                return null;\n            return array[0];\n        };\n        ListWrapper.last = function (array) {\n            if (!array || array.length == 0)\n                return null;\n            return array[array.length - 1];\n        };\n        ListWrapper.indexOf = function (array, value, startIndex) {\n            if (startIndex === void 0) { startIndex = 0; }\n            return array.indexOf(value, startIndex);\n        };\n        ListWrapper.contains = function (list, el) { return list.indexOf(el) !== -1; };\n        ListWrapper.reversed = function (array) {\n            var a = ListWrapper.clone(array);\n            return a.reverse();\n        };\n        ListWrapper.concat = function (a, b) { return a.concat(b); };\n        ListWrapper.insert = function (list, index, value) { list.splice(index, 0, value); };\n        ListWrapper.removeAt = function (list, index) {\n            var res = list[index];\n            list.splice(index, 1);\n            return res;\n        };\n        ListWrapper.removeAll = function (list, items) {\n            for (var i = 0; i < items.length; ++i) {\n                var index = list.indexOf(items[i]);\n                list.splice(index, 1);\n            }\n        };\n        ListWrapper.remove = function (list, el) {\n            var index = list.indexOf(el);\n            if (index > -1) {\n                list.splice(index, 1);\n                return true;\n            }\n            return false;\n        };\n        ListWrapper.clear = function (list) { list.length = 0; };\n        ListWrapper.isEmpty = function (list) { return list.length == 0; };\n        ListWrapper.fill = function (list, value, start, end) {\n            if (start === void 0) { start = 0; }\n            if (end === void 0) { end = null; }\n            list.fill(value, start, end === null ? list.length : end);\n        };\n        ListWrapper.equals = function (a, b) {\n            if (a.length != b.length)\n                return false;\n            for (var i = 0; i < a.length; ++i) {\n                if (a[i] !== b[i])\n                    return false;\n            }\n            return true;\n        };\n        ListWrapper.slice = function (l, from, to) {\n            if (from === void 0) { from = 0; }\n            if (to === void 0) { to = null; }\n            return l.slice(from, to === null ? undefined : to);\n        };\n        ListWrapper.splice = function (l, from, length) { return l.splice(from, length); };\n        ListWrapper.sort = function (l, compareFn) {\n            if (isPresent(compareFn)) {\n                l.sort(compareFn);\n            }\n            else {\n                l.sort();\n            }\n        };\n        ListWrapper.toString = function (l) { return l.toString(); };\n        ListWrapper.toJSON = function (l) { return JSON.stringify(l); };\n        ListWrapper.maximum = function (list, predicate) {\n            if (list.length == 0) {\n                return null;\n            }\n            var solution = null;\n            var maxValue = -Infinity;\n            for (var index = 0; index < list.length; index++) {\n                var candidate = list[index];\n                if (isBlank(candidate)) {\n                    continue;\n                }\n                var candidateValue = predicate(candidate);\n                if (candidateValue > maxValue) {\n                    solution = candidate;\n                    maxValue = candidateValue;\n                }\n            }\n            return solution;\n        };\n        ListWrapper.flatten = function (list) {\n            var target = [];\n            _flattenArray(list, target);\n            return target;\n        };\n        ListWrapper.addAll = function (list, source) {\n            for (var i = 0; i < source.length; i++) {\n                list.push(source[i]);\n            }\n        };\n        return ListWrapper;\n    }());\n    function _flattenArray(source, target) {\n        if (isPresent(source)) {\n            for (var i = 0; i < source.length; i++) {\n                var item = source[i];\n                if (isArray(item)) {\n                    _flattenArray(item, target);\n                }\n                else {\n                    target.push(item);\n                }\n            }\n        }\n        return target;\n    }\n    function isListLikeIterable(obj) {\n        if (!isJsObject(obj))\n            return false;\n        return isArray(obj) ||\n            (!(obj instanceof Map$1) &&\n                getSymbolIterator() in obj); // JS Iterable have a Symbol.iterator prop\n    }\n    function areIterablesEqual(a, b, comparator) {\n        var iterator1 = a[getSymbolIterator()]();\n        var iterator2 = b[getSymbolIterator()]();\n        while (true) {\n            var item1 = iterator1.next();\n            var item2 = iterator2.next();\n            if (item1.done && item2.done)\n                return true;\n            if (item1.done || item2.done)\n                return false;\n            if (!comparator(item1.value, item2.value))\n                return false;\n        }\n    }\n    function iterateListLike(obj, fn) {\n        if (isArray(obj)) {\n            for (var i = 0; i < obj.length; i++) {\n                fn(obj[i]);\n            }\n        }\n        else {\n            var iterator = obj[getSymbolIterator()]();\n            var item;\n            while (!((item = iterator.next()).done)) {\n                fn(item.value);\n            }\n        }\n    }\n    // Safari and Internet Explorer do not support the iterable parameter to the\n    // Set constructor.  We work around that by manually adding the items.\n    var createSetFromList = (function () {\n        var test = new Set([1, 2, 3]);\n        if (test.size === 3) {\n            return function createSetFromList(lst) { return new Set(lst); };\n        }\n        else {\n            return function createSetAndPopulateFromList(lst) {\n                var res = new Set(lst);\n                if (res.size !== lst.length) {\n                    for (var i = 0; i < lst.length; i++) {\n                        res.add(lst[i]);\n                    }\n                }\n                return res;\n            };\n        }\n    })();\n    var SetWrapper = (function () {\n        function SetWrapper() {\n        }\n        SetWrapper.createFromList = function (lst) { return createSetFromList(lst); };\n        SetWrapper.has = function (s, key) { return s.has(key); };\n        SetWrapper.delete = function (m, k) { m.delete(k); };\n        return SetWrapper;\n    }());\n    var _ArrayLogger = (function () {\n        function _ArrayLogger() {\n            this.res = [];\n        }\n        _ArrayLogger.prototype.log = function (s) { this.res.push(s); };\n        _ArrayLogger.prototype.logError = function (s) { this.res.push(s); };\n        _ArrayLogger.prototype.logGroup = function (s) { this.res.push(s); };\n        _ArrayLogger.prototype.logGroupEnd = function () { };\n        ;\n        return _ArrayLogger;\n    }());\n    /**\n     * Provides a hook for centralized exception handling.\n     *\n     * The default implementation of `ExceptionHandler` prints error messages to the `Console`. To\n     * intercept error handling,\n     * write a custom exception handler that replaces this default as appropriate for your app.\n     *\n     * ### Example\n     *\n     * ```javascript\n     *\n     * class MyExceptionHandler implements ExceptionHandler {\n     *   call(error, stackTrace = null, reason = null) {\n     *     // do something with the exception\n     *   }\n     * }\n     *\n     * bootstrap(MyApp, {provide: ExceptionHandler, useClass: MyExceptionHandler}])\n     *\n     * ```\n     * @stable\n     */\n    var ExceptionHandler = (function () {\n        function ExceptionHandler(_logger, _rethrowException) {\n            if (_rethrowException === void 0) { _rethrowException = true; }\n            this._logger = _logger;\n            this._rethrowException = _rethrowException;\n        }\n        ExceptionHandler.exceptionToString = function (exception, stackTrace, reason) {\n            if (stackTrace === void 0) { stackTrace = null; }\n            if (reason === void 0) { reason = null; }\n            var l = new _ArrayLogger();\n            var e = new ExceptionHandler(l, false);\n            e.call(exception, stackTrace, reason);\n            return l.res.join('\\n');\n        };\n        ExceptionHandler.prototype.call = function (exception, stackTrace, reason) {\n            if (stackTrace === void 0) { stackTrace = null; }\n            if (reason === void 0) { reason = null; }\n            var originalException = this._findOriginalException(exception);\n            var originalStack = this._findOriginalStack(exception);\n            var context = this._findContext(exception);\n            this._logger.logGroup(\"EXCEPTION: \" + this._extractMessage(exception));\n            if (isPresent(stackTrace) && isBlank(originalStack)) {\n                this._logger.logError('STACKTRACE:');\n                this._logger.logError(this._longStackTrace(stackTrace));\n            }\n            if (isPresent(reason)) {\n                this._logger.logError(\"REASON: \" + reason);\n            }\n            if (isPresent(originalException)) {\n                this._logger.logError(\"ORIGINAL EXCEPTION: \" + this._extractMessage(originalException));\n            }\n            if (isPresent(originalStack)) {\n                this._logger.logError('ORIGINAL STACKTRACE:');\n                this._logger.logError(this._longStackTrace(originalStack));\n            }\n            if (isPresent(context)) {\n                this._logger.logError('ERROR CONTEXT:');\n                this._logger.logError(context);\n            }\n            this._logger.logGroupEnd();\n            // We rethrow exceptions, so operations like 'bootstrap' will result in an error\n            // when an exception happens. If we do not rethrow, bootstrap will always succeed.\n            if (this._rethrowException)\n                throw exception;\n        };\n        /** @internal */\n        ExceptionHandler.prototype._extractMessage = function (exception) {\n            return exception instanceof BaseWrappedException ? exception.wrapperMessage :\n                exception.toString();\n        };\n        /** @internal */\n        ExceptionHandler.prototype._longStackTrace = function (stackTrace) {\n            return isListLikeIterable(stackTrace) ? stackTrace.join('\\n\\n-----async gap-----\\n') :\n                stackTrace.toString();\n        };\n        /** @internal */\n        ExceptionHandler.prototype._findContext = function (exception) {\n            try {\n                if (!(exception instanceof BaseWrappedException))\n                    return null;\n                return isPresent(exception.context) ? exception.context :\n                    this._findContext(exception.originalException);\n            }\n            catch (e) {\n                // exception.context can throw an exception. if it happens, we ignore the context.\n                return null;\n            }\n        };\n        /** @internal */\n        ExceptionHandler.prototype._findOriginalException = function (exception) {\n            if (!(exception instanceof BaseWrappedException))\n                return null;\n            var e = exception.originalException;\n            while (e instanceof BaseWrappedException && isPresent(e.originalException)) {\n                e = e.originalException;\n            }\n            return e;\n        };\n        /** @internal */\n        ExceptionHandler.prototype._findOriginalStack = function (exception) {\n            if (!(exception instanceof BaseWrappedException))\n                return null;\n            var e = exception;\n            var stack = exception.originalStack;\n            while (e instanceof BaseWrappedException && isPresent(e.originalException)) {\n                e = e.originalException;\n                if (e instanceof BaseWrappedException && isPresent(e.originalException)) {\n                    stack = e.originalStack;\n                }\n            }\n            return stack;\n        };\n        return ExceptionHandler;\n    }());\n    /**\n     * @stable\n     */\n    var BaseException = (function (_super) {\n        __extends(BaseException, _super);\n        function BaseException(message) {\n            if (message === void 0) { message = '--'; }\n            _super.call(this, message);\n            this.message = message;\n            this.stack = (new Error(message)).stack;\n        }\n        BaseException.prototype.toString = function () { return this.message; };\n        return BaseException;\n    }(Error));\n    /**\n     * Wraps an exception and provides additional context or information.\n     * @stable\n     */\n    var WrappedException = (function (_super) {\n        __extends(WrappedException, _super);\n        function WrappedException(_wrapperMessage, _originalException /** TODO #9100 */, _originalStack /** TODO #9100 */, _context /** TODO #9100 */) {\n            _super.call(this, _wrapperMessage);\n            this._wrapperMessage = _wrapperMessage;\n            this._originalException = _originalException;\n            this._originalStack = _originalStack;\n            this._context = _context;\n            this._wrapperStack = (new Error(_wrapperMessage)).stack;\n        }\n        Object.defineProperty(WrappedException.prototype, \"wrapperMessage\", {\n            get: function () { return this._wrapperMessage; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(WrappedException.prototype, \"wrapperStack\", {\n            get: function () { return this._wrapperStack; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(WrappedException.prototype, \"originalException\", {\n            get: function () { return this._originalException; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(WrappedException.prototype, \"originalStack\", {\n            get: function () { return this._originalStack; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(WrappedException.prototype, \"context\", {\n            get: function () { return this._context; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(WrappedException.prototype, \"message\", {\n            get: function () { return ExceptionHandler.exceptionToString(this); },\n            enumerable: true,\n            configurable: true\n        });\n        WrappedException.prototype.toString = function () { return this.message; };\n        return WrappedException;\n    }(BaseWrappedException));\n    function unimplemented() {\n        throw new BaseException('unimplemented');\n    }\n    var _THROW_IF_NOT_FOUND = new Object();\n    var THROW_IF_NOT_FOUND = _THROW_IF_NOT_FOUND;\n    /**\n     * @stable\n     */\n    var Injector = (function () {\n        function Injector() {\n        }\n        /**\n         * Retrieves an instance from the injector based on the provided token.\n         * If not found:\n         * - Throws {@link NoProviderError} if no `notFoundValue` that is not equal to\n         * Injector.THROW_IF_NOT_FOUND is given\n         * - Returns the `notFoundValue` otherwise\n         *\n         * ### Example ([live demo](http://plnkr.co/edit/HeXSHg?p=preview))\n         *\n         * ```typescript\n         * var injector = ReflectiveInjector.resolveAndCreate([\n         *   {provide: \"validToken\", useValue: \"Value\"}\n         * ]);\n         * expect(injector.get(\"validToken\")).toEqual(\"Value\");\n         * expect(() => injector.get(\"invalidToken\")).toThrowError();\n         * ```\n         *\n         * `Injector` returns itself when given `Injector` as a token.\n         *\n         * ```typescript\n         * var injector = ReflectiveInjector.resolveAndCreate([]);\n         * expect(injector.get(Injector)).toBe(injector);\n         * ```\n         */\n        Injector.prototype.get = function (token, notFoundValue) { return unimplemented(); };\n        return Injector;\n    }());\n    Injector.THROW_IF_NOT_FOUND = _THROW_IF_NOT_FOUND;\n    function findFirstClosedCycle(keys) {\n        var res = [];\n        for (var i = 0; i < keys.length; ++i) {\n            if (ListWrapper.contains(res, keys[i])) {\n                res.push(keys[i]);\n                return res;\n            }\n            res.push(keys[i]);\n        }\n        return res;\n    }\n    function constructResolvingPath(keys) {\n        if (keys.length > 1) {\n            var reversed = findFirstClosedCycle(ListWrapper.reversed(keys));\n            var tokenStrs = reversed.map(function (k) { return stringify(k.token); });\n            return ' (' + tokenStrs.join(' -> ') + ')';\n        }\n        return '';\n    }\n    /**\n     * Base class for all errors arising from misconfigured providers.\n     * @stable\n     */\n    var AbstractProviderError = (function (_super) {\n        __extends(AbstractProviderError, _super);\n        function AbstractProviderError(injector, key, constructResolvingMessage) {\n            _super.call(this, 'DI Exception');\n            this.keys = [key];\n            this.injectors = [injector];\n            this.constructResolvingMessage = constructResolvingMessage;\n            this.message = this.constructResolvingMessage(this.keys);\n        }\n        AbstractProviderError.prototype.addKey = function (injector, key) {\n            this.injectors.push(injector);\n            this.keys.push(key);\n            this.message = this.constructResolvingMessage(this.keys);\n        };\n        Object.defineProperty(AbstractProviderError.prototype, \"context\", {\n            get: function () { return this.injectors[this.injectors.length - 1].debugContext(); },\n            enumerable: true,\n            configurable: true\n        });\n        return AbstractProviderError;\n    }(BaseException));\n    /**\n     * Thrown when trying to retrieve a dependency by `Key` from {@link Injector}, but the\n     * {@link Injector} does not have a {@link Provider} for {@link Key}.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/vq8D3FRB9aGbnWJqtEPE?p=preview))\n     *\n     * ```typescript\n     * class A {\n     *   constructor(b:B) {}\n     * }\n     *\n     * expect(() => Injector.resolveAndCreate([A])).toThrowError();\n     * ```\n     * @stable\n     */\n    var NoProviderError = (function (_super) {\n        __extends(NoProviderError, _super);\n        function NoProviderError(injector, key) {\n            _super.call(this, injector, key, function (keys) {\n                var first = stringify(ListWrapper.first(keys).token);\n                return \"No provider for \" + first + \"!\" + constructResolvingPath(keys);\n            });\n        }\n        return NoProviderError;\n    }(AbstractProviderError));\n    /**\n     * Thrown when dependencies form a cycle.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/wYQdNos0Tzql3ei1EV9j?p=info))\n     *\n     * ```typescript\n     * var injector = Injector.resolveAndCreate([\n     *   {provide: \"one\", useFactory: (two) => \"two\", deps: [[new Inject(\"two\")]]},\n     *   {provide: \"two\", useFactory: (one) => \"one\", deps: [[new Inject(\"one\")]]}\n     * ]);\n     *\n     * expect(() => injector.get(\"one\")).toThrowError();\n     * ```\n     *\n     * Retrieving `A` or `B` throws a `CyclicDependencyError` as the graph above cannot be constructed.\n     * @stable\n     */\n    var CyclicDependencyError = (function (_super) {\n        __extends(CyclicDependencyError, _super);\n        function CyclicDependencyError(injector, key) {\n            _super.call(this, injector, key, function (keys) {\n                return \"Cannot instantiate cyclic dependency!\" + constructResolvingPath(keys);\n            });\n        }\n        return CyclicDependencyError;\n    }(AbstractProviderError));\n    /**\n     * Thrown when a constructing type returns with an Error.\n     *\n     * The `InstantiationError` class contains the original error plus the dependency graph which caused\n     * this object to be instantiated.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/7aWYdcqTQsP0eNqEdUAf?p=preview))\n     *\n     * ```typescript\n     * class A {\n     *   constructor() {\n     *     throw new Error('message');\n     *   }\n     * }\n     *\n     * var injector = Injector.resolveAndCreate([A]);\n\n     * try {\n     *   injector.get(A);\n     * } catch (e) {\n     *   expect(e instanceof InstantiationError).toBe(true);\n     *   expect(e.originalException.message).toEqual(\"message\");\n     *   expect(e.originalStack).toBeDefined();\n     * }\n     * ```\n     * @stable\n     */\n    var InstantiationError = (function (_super) {\n        __extends(InstantiationError, _super);\n        function InstantiationError(injector, originalException, originalStack, key) {\n            _super.call(this, 'DI Exception', originalException, originalStack, null);\n            this.keys = [key];\n            this.injectors = [injector];\n        }\n        InstantiationError.prototype.addKey = function (injector, key) {\n            this.injectors.push(injector);\n            this.keys.push(key);\n        };\n        Object.defineProperty(InstantiationError.prototype, \"wrapperMessage\", {\n            get: function () {\n                var first = stringify(ListWrapper.first(this.keys).token);\n                return \"Error during instantiation of \" + first + \"!\" + constructResolvingPath(this.keys) + \".\";\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(InstantiationError.prototype, \"causeKey\", {\n            get: function () { return this.keys[0]; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(InstantiationError.prototype, \"context\", {\n            get: function () { return this.injectors[this.injectors.length - 1].debugContext(); },\n            enumerable: true,\n            configurable: true\n        });\n        return InstantiationError;\n    }(WrappedException));\n    /**\n     * Thrown when an object other then {@link Provider} (or `Type`) is passed to {@link Injector}\n     * creation.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/YatCFbPAMCL0JSSQ4mvH?p=preview))\n     *\n     * ```typescript\n     * expect(() => Injector.resolveAndCreate([\"not a type\"])).toThrowError();\n     * ```\n     * @stable\n     */\n    var InvalidProviderError = (function (_super) {\n        __extends(InvalidProviderError, _super);\n        function InvalidProviderError(provider) {\n            _super.call(this, \"Invalid provider - only instances of Provider and Type are allowed, got: \" + provider);\n        }\n        return InvalidProviderError;\n    }(BaseException));\n    /**\n     * Thrown when the class has no annotation information.\n     *\n     * Lack of annotation information prevents the {@link Injector} from determining which dependencies\n     * need to be injected into the constructor.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/rHnZtlNS7vJOPQ6pcVkm?p=preview))\n     *\n     * ```typescript\n     * class A {\n     *   constructor(b) {}\n     * }\n     *\n     * expect(() => Injector.resolveAndCreate([A])).toThrowError();\n     * ```\n     *\n     * This error is also thrown when the class not marked with {@link Injectable} has parameter types.\n     *\n     * ```typescript\n     * class B {}\n     *\n     * class A {\n     *   constructor(b:B) {} // no information about the parameter types of A is available at runtime.\n     * }\n     *\n     * expect(() => Injector.resolveAndCreate([A,B])).toThrowError();\n     * ```\n     * @stable\n     */\n    var NoAnnotationError = (function (_super) {\n        __extends(NoAnnotationError, _super);\n        function NoAnnotationError(typeOrFunc, params) {\n            _super.call(this, NoAnnotationError._genMessage(typeOrFunc, params));\n        }\n        NoAnnotationError._genMessage = function (typeOrFunc, params) {\n            var signature = [];\n            for (var i = 0, ii = params.length; i < ii; i++) {\n                var parameter = params[i];\n                if (isBlank(parameter) || parameter.length == 0) {\n                    signature.push('?');\n                }\n                else {\n                    signature.push(parameter.map(stringify).join(' '));\n                }\n            }\n            return 'Cannot resolve all parameters for \\'' + stringify(typeOrFunc) + '\\'(' +\n                signature.join(', ') + '). ' +\n                'Make sure that all the parameters are decorated with Inject or have valid type annotations and that \\'' +\n                stringify(typeOrFunc) + '\\' is decorated with Injectable.';\n        };\n        return NoAnnotationError;\n    }(BaseException));\n    /**\n     * Thrown when getting an object by index.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/bRs0SX2OTQiJzqvjgl8P?p=preview))\n     *\n     * ```typescript\n     * class A {}\n     *\n     * var injector = Injector.resolveAndCreate([A]);\n     *\n     * expect(() => injector.getAt(100)).toThrowError();\n     * ```\n     * @stable\n     */\n    var OutOfBoundsError = (function (_super) {\n        __extends(OutOfBoundsError, _super);\n        function OutOfBoundsError(index) {\n            _super.call(this, \"Index \" + index + \" is out-of-bounds.\");\n        }\n        return OutOfBoundsError;\n    }(BaseException));\n    // TODO: add a working example after alpha38 is released\n    /**\n     * Thrown when a multi provider and a regular provider are bound to the same token.\n     *\n     * ### Example\n     *\n     * ```typescript\n     * expect(() => Injector.resolveAndCreate([\n     *   new Provider(\"Strings\", {useValue: \"string1\", multi: true}),\n     *   new Provider(\"Strings\", {useValue: \"string2\", multi: false})\n     * ])).toThrowError();\n     * ```\n     */\n    var MixingMultiProvidersWithRegularProvidersError = (function (_super) {\n        __extends(MixingMultiProvidersWithRegularProvidersError, _super);\n        function MixingMultiProvidersWithRegularProvidersError(provider1, provider2) {\n            _super.call(this, 'Cannot mix multi providers and regular providers, got: ' + provider1.toString() + ' ' +\n                provider2.toString());\n        }\n        return MixingMultiProvidersWithRegularProvidersError;\n    }(BaseException));\n    /**\n     * A unique object used for retrieving items from the {@link ReflectiveInjector}.\n     *\n     * Keys have:\n     * - a system-wide unique `id`.\n     * - a `token`.\n     *\n     * `Key` is used internally by {@link ReflectiveInjector} because its system-wide unique `id` allows\n     * the\n     * injector to store created objects in a more efficient way.\n     *\n     * `Key` should not be created directly. {@link ReflectiveInjector} creates keys automatically when\n     * resolving\n     * providers.\n     * @experimental\n     */\n    var ReflectiveKey = (function () {\n        /**\n         * Private\n         */\n        function ReflectiveKey(token, id) {\n            this.token = token;\n            this.id = id;\n            if (isBlank(token)) {\n                throw new BaseException('Token must be defined!');\n            }\n        }\n        Object.defineProperty(ReflectiveKey.prototype, \"displayName\", {\n            /**\n             * Returns a stringified token.\n             */\n            get: function () { return stringify(this.token); },\n            enumerable: true,\n            configurable: true\n        });\n        /**\n         * Retrieves a `Key` for a token.\n         */\n        ReflectiveKey.get = function (token) {\n            return _globalKeyRegistry.get(resolveForwardRef(token));\n        };\n        Object.defineProperty(ReflectiveKey, \"numberOfKeys\", {\n            /**\n             * @returns the number of keys registered in the system.\n             */\n            get: function () { return _globalKeyRegistry.numberOfKeys; },\n            enumerable: true,\n            configurable: true\n        });\n        return ReflectiveKey;\n    }());\n    /**\n     * @internal\n     */\n    var KeyRegistry = (function () {\n        function KeyRegistry() {\n            this._allKeys = new Map();\n        }\n        KeyRegistry.prototype.get = function (token) {\n            if (token instanceof ReflectiveKey)\n                return token;\n            if (this._allKeys.has(token)) {\n                return this._allKeys.get(token);\n            }\n            var newKey = new ReflectiveKey(token, ReflectiveKey.numberOfKeys);\n            this._allKeys.set(token, newKey);\n            return newKey;\n        };\n        Object.defineProperty(KeyRegistry.prototype, \"numberOfKeys\", {\n            get: function () { return this._allKeys.size; },\n            enumerable: true,\n            configurable: true\n        });\n        return KeyRegistry;\n    }());\n    var _globalKeyRegistry = new KeyRegistry();\n    var ReflectionCapabilities = (function () {\n        function ReflectionCapabilities(reflect) {\n            this._reflect = isPresent(reflect) ? reflect : global$1.Reflect;\n        }\n        ReflectionCapabilities.prototype.isReflectionEnabled = function () { return true; };\n        ReflectionCapabilities.prototype.factory = function (t) {\n            switch (t.length) {\n                case 0:\n                    return function () { return new t(); };\n                case 1:\n                    return function (a1) { return new t(a1); };\n                case 2:\n                    return function (a1, a2) { return new t(a1, a2); };\n                case 3:\n                    return function (a1, a2, a3) { return new t(a1, a2, a3); };\n                case 4:\n                    return function (a1, a2, a3, a4) { return new t(a1, a2, a3, a4); };\n                case 5:\n                    return function (a1, a2, a3, a4, a5) { return new t(a1, a2, a3, a4, a5); };\n                case 6:\n                    return function (a1, a2, a3, a4, a5, a6) { return new t(a1, a2, a3, a4, a5, a6); };\n                case 7:\n                    return function (a1, a2, a3, a4, a5, a6, a7) { return new t(a1, a2, a3, a4, a5, a6, a7); };\n                case 8:\n                    return function (a1, a2, a3, a4, a5, a6, a7, a8) { return new t(a1, a2, a3, a4, a5, a6, a7, a8); };\n                case 9:\n                    return function (a1, a2, a3, a4, a5, a6, a7, a8, a9) { return new t(a1, a2, a3, a4, a5, a6, a7, a8, a9); };\n                case 10:\n                    return function (a1, a2, a3, a4, a5, a6, a7, a8, a9, a10) { return new t(a1, a2, a3, a4, a5, a6, a7, a8, a9, a10); };\n                case 11:\n                    return function (a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11) { return new t(a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11); };\n                case 12:\n                    return function (a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12) { return new t(a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12); };\n                case 13:\n                    return function (a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13) { return new t(a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13); };\n                case 14:\n                    return function (a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13, a14) { return new t(a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13, a14); };\n                case 15:\n                    return function (a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13, a14, a15) { return new t(a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13, a14, a15); };\n                case 16:\n                    return function (a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13, a14, a15, a16) { return new t(a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13, a14, a15, a16); };\n                case 17:\n                    return function (a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13, a14, a15, a16, a17) { return new t(a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13, a14, a15, a16, a17); };\n                case 18:\n                    return function (a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13, a14, a15, a16, a17, a18) { return new t(a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13, a14, a15, a16, a17, a18); };\n                case 19:\n                    return function (a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13, a14, a15, a16, a17, a18, a19) { return new t(a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13, a14, a15, a16, a17, a18, a19); };\n                case 20:\n                    return function (a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13, a14, a15, a16, a17, a18, a19, a20) { return new t(a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13, a14, a15, a16, a17, a18, a19, a20); };\n            }\n            ;\n            throw new Error(\"Cannot create a factory for '\" + stringify(t) + \"' because its constructor has more than 20 arguments\");\n        };\n        /** @internal */\n        ReflectionCapabilities.prototype._zipTypesAndAnnotations = function (paramTypes /** TODO #9100 */, paramAnnotations /** TODO #9100 */) {\n            var result;\n            if (typeof paramTypes === 'undefined') {\n                result = new Array(paramAnnotations.length);\n            }\n            else {\n                result = new Array(paramTypes.length);\n            }\n            for (var i = 0; i < result.length; i++) {\n                // TS outputs Object for parameters without types, while Traceur omits\n                // the annotations. For now we preserve the Traceur behavior to aid\n                // migration, but this can be revisited.\n                if (typeof paramTypes === 'undefined') {\n                    result[i] = [];\n                }\n                else if (paramTypes[i] != Object) {\n                    result[i] = [paramTypes[i]];\n                }\n                else {\n                    result[i] = [];\n                }\n                if (isPresent(paramAnnotations) && isPresent(paramAnnotations[i])) {\n                    result[i] = result[i].concat(paramAnnotations[i]);\n                }\n            }\n            return result;\n        };\n        ReflectionCapabilities.prototype.parameters = function (typeOrFunc) {\n            // Prefer the direct API.\n            if (isPresent(typeOrFunc.parameters)) {\n                return typeOrFunc.parameters;\n            }\n            // API of tsickle for lowering decorators to properties on the class.\n            if (isPresent(typeOrFunc.ctorParameters)) {\n                var ctorParameters = typeOrFunc.ctorParameters;\n                var paramTypes_1 = ctorParameters.map(function (ctorParam /** TODO #9100 */) { return ctorParam && ctorParam.type; });\n                var paramAnnotations_1 = ctorParameters.map(function (ctorParam /** TODO #9100 */) { return ctorParam && convertTsickleDecoratorIntoMetadata(ctorParam.decorators); });\n                return this._zipTypesAndAnnotations(paramTypes_1, paramAnnotations_1);\n            }\n            // API for metadata created by invoking the decorators.\n            if (isPresent(this._reflect) && isPresent(this._reflect.getMetadata)) {\n                var paramAnnotations = this._reflect.getMetadata('parameters', typeOrFunc);\n                var paramTypes = this._reflect.getMetadata('design:paramtypes', typeOrFunc);\n                if (isPresent(paramTypes) || isPresent(paramAnnotations)) {\n                    return this._zipTypesAndAnnotations(paramTypes, paramAnnotations);\n                }\n            }\n            // The array has to be filled with `undefined` because holes would be skipped by `some`\n            var parameters = new Array(typeOrFunc.length);\n            parameters.fill(undefined);\n            return parameters;\n        };\n        ReflectionCapabilities.prototype.annotations = function (typeOrFunc) {\n            // Prefer the direct API.\n            if (isPresent(typeOrFunc.annotations)) {\n                var annotations = typeOrFunc.annotations;\n                if (isFunction(annotations) && annotations.annotations) {\n                    annotations = annotations.annotations;\n                }\n                return annotations;\n            }\n            // API of tsickle for lowering decorators to properties on the class.\n            if (isPresent(typeOrFunc.decorators)) {\n                return convertTsickleDecoratorIntoMetadata(typeOrFunc.decorators);\n            }\n            // API for metadata created by invoking the decorators.\n            if (isPresent(this._reflect) && isPresent(this._reflect.getMetadata)) {\n                var annotations = this._reflect.getMetadata('annotations', typeOrFunc);\n                if (isPresent(annotations))\n                    return annotations;\n            }\n            return [];\n        };\n        ReflectionCapabilities.prototype.propMetadata = function (typeOrFunc) {\n            // Prefer the direct API.\n            if (isPresent(typeOrFunc.propMetadata)) {\n                var propMetadata = typeOrFunc.propMetadata;\n                if (isFunction(propMetadata) && propMetadata.propMetadata) {\n                    propMetadata = propMetadata.propMetadata;\n                }\n                return propMetadata;\n            }\n            // API of tsickle for lowering decorators to properties on the class.\n            if (isPresent(typeOrFunc.propDecorators)) {\n                var propDecorators_1 = typeOrFunc.propDecorators;\n                var propMetadata_1 = {};\n                Object.keys(propDecorators_1).forEach(function (prop) {\n                    propMetadata_1[prop] = convertTsickleDecoratorIntoMetadata(propDecorators_1[prop]);\n                });\n                return propMetadata_1;\n            }\n            // API for metadata created by invoking the decorators.\n            if (isPresent(this._reflect) && isPresent(this._reflect.getMetadata)) {\n                var propMetadata = this._reflect.getMetadata('propMetadata', typeOrFunc);\n                if (isPresent(propMetadata))\n                    return propMetadata;\n            }\n            return {};\n        };\n        // Note: JavaScript does not support to query for interfaces during runtime.\n        // However, we can't throw here as the reflector will always call this method\n        // when asked for a lifecycle interface as this is what we check in Dart.\n        ReflectionCapabilities.prototype.interfaces = function (type) { return []; };\n        ReflectionCapabilities.prototype.hasLifecycleHook = function (type, lcInterface, lcProperty) {\n            if (!(type instanceof Type))\n                return false;\n            var proto = type.prototype;\n            return !!proto[lcProperty];\n        };\n        ReflectionCapabilities.prototype.getter = function (name) { return new Function('o', 'return o.' + name + ';'); };\n        ReflectionCapabilities.prototype.setter = function (name) {\n            return new Function('o', 'v', 'return o.' + name + ' = v;');\n        };\n        ReflectionCapabilities.prototype.method = function (name) {\n            var functionBody = \"if (!o.\" + name + \") throw new Error('\\\"\" + name + \"\\\" is undefined');\\n        return o.\" + name + \".apply(o, args);\";\n            return new Function('o', 'args', functionBody);\n        };\n        // There is not a concept of import uri in Js, but this is useful in developing Dart applications.\n        ReflectionCapabilities.prototype.importUri = function (type) {\n            // StaticSymbol\n            if (typeof type === 'object' && type['filePath']) {\n                return type['filePath'];\n            }\n            // Runtime type\n            return \"./\" + stringify(type);\n        };\n        return ReflectionCapabilities;\n    }());\n    function convertTsickleDecoratorIntoMetadata(decoratorInvocations) {\n        if (!decoratorInvocations) {\n            return [];\n        }\n        return decoratorInvocations.map(function (decoratorInvocation) {\n            var decoratorType = decoratorInvocation.type;\n            var annotationCls = decoratorType.annotationCls;\n            var annotationArgs = decoratorInvocation.args ? decoratorInvocation.args : [];\n            var annotation = Object.create(annotationCls.prototype);\n            annotationCls.apply(annotation, annotationArgs);\n            return annotation;\n        });\n    }\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * Provides read-only access to reflection data about symbols. Used internally by Angular\n     * to power dependency injection and compilation.\n     */\n    var ReflectorReader = (function () {\n        function ReflectorReader() {\n        }\n        return ReflectorReader;\n    }());\n    /**\n     * Provides access to reflection data about symbols. Used internally by Angular\n     * to power dependency injection and compilation.\n     */\n    var Reflector = (function (_super) {\n        __extends(Reflector, _super);\n        function Reflector(reflectionCapabilities) {\n            _super.call(this);\n            /** @internal */\n            this._injectableInfo = new Map$1();\n            /** @internal */\n            this._getters = new Map$1();\n            /** @internal */\n            this._setters = new Map$1();\n            /** @internal */\n            this._methods = new Map$1();\n            this._usedKeys = null;\n            this.reflectionCapabilities = reflectionCapabilities;\n        }\n        Reflector.prototype.updateCapabilities = function (caps) { this.reflectionCapabilities = caps; };\n        Reflector.prototype.isReflectionEnabled = function () { return this.reflectionCapabilities.isReflectionEnabled(); };\n        /**\n         * Causes `this` reflector to track keys used to access\n         * {@link ReflectionInfo} objects.\n         */\n        Reflector.prototype.trackUsage = function () { this._usedKeys = new Set(); };\n        /**\n         * Lists types for which reflection information was not requested since\n         * {@link #trackUsage} was called. This list could later be audited as\n         * potential dead code.\n         */\n        Reflector.prototype.listUnusedKeys = function () {\n            var _this = this;\n            if (this._usedKeys == null) {\n                throw new BaseException('Usage tracking is disabled');\n            }\n            var allTypes = MapWrapper.keys(this._injectableInfo);\n            return allTypes.filter(function (key) { return !SetWrapper.has(_this._usedKeys, key); });\n        };\n        Reflector.prototype.registerFunction = function (func, funcInfo) {\n            this._injectableInfo.set(func, funcInfo);\n        };\n        Reflector.prototype.registerType = function (type, typeInfo) {\n            this._injectableInfo.set(type, typeInfo);\n        };\n        Reflector.prototype.registerGetters = function (getters) { _mergeMaps(this._getters, getters); };\n        Reflector.prototype.registerSetters = function (setters) { _mergeMaps(this._setters, setters); };\n        Reflector.prototype.registerMethods = function (methods) { _mergeMaps(this._methods, methods); };\n        Reflector.prototype.factory = function (type) {\n            if (this._containsReflectionInfo(type)) {\n                var res = this._getReflectionInfo(type).factory;\n                return isPresent(res) ? res : null;\n            }\n            else {\n                return this.reflectionCapabilities.factory(type);\n            }\n        };\n        Reflector.prototype.parameters = function (typeOrFunc) {\n            if (this._injectableInfo.has(typeOrFunc)) {\n                var res = this._getReflectionInfo(typeOrFunc).parameters;\n                return isPresent(res) ? res : [];\n            }\n            else {\n                return this.reflectionCapabilities.parameters(typeOrFunc);\n            }\n        };\n        Reflector.prototype.annotations = function (typeOrFunc) {\n            if (this._injectableInfo.has(typeOrFunc)) {\n                var res = this._getReflectionInfo(typeOrFunc).annotations;\n                return isPresent(res) ? res : [];\n            }\n            else {\n                return this.reflectionCapabilities.annotations(typeOrFunc);\n            }\n        };\n        Reflector.prototype.propMetadata = function (typeOrFunc) {\n            if (this._injectableInfo.has(typeOrFunc)) {\n                var res = this._getReflectionInfo(typeOrFunc).propMetadata;\n                return isPresent(res) ? res : {};\n            }\n            else {\n                return this.reflectionCapabilities.propMetadata(typeOrFunc);\n            }\n        };\n        Reflector.prototype.interfaces = function (type) {\n            if (this._injectableInfo.has(type)) {\n                var res = this._getReflectionInfo(type).interfaces;\n                return isPresent(res) ? res : [];\n            }\n            else {\n                return this.reflectionCapabilities.interfaces(type);\n            }\n        };\n        Reflector.prototype.hasLifecycleHook = function (type, lcInterface, lcProperty) {\n            var interfaces = this.interfaces(type);\n            if (interfaces.indexOf(lcInterface) !== -1) {\n                return true;\n            }\n            else {\n                return this.reflectionCapabilities.hasLifecycleHook(type, lcInterface, lcProperty);\n            }\n        };\n        Reflector.prototype.getter = function (name) {\n            if (this._getters.has(name)) {\n                return this._getters.get(name);\n            }\n            else {\n                return this.reflectionCapabilities.getter(name);\n            }\n        };\n        Reflector.prototype.setter = function (name) {\n            if (this._setters.has(name)) {\n                return this._setters.get(name);\n            }\n            else {\n                return this.reflectionCapabilities.setter(name);\n            }\n        };\n        Reflector.prototype.method = function (name) {\n            if (this._methods.has(name)) {\n                return this._methods.get(name);\n            }\n            else {\n                return this.reflectionCapabilities.method(name);\n            }\n        };\n        /** @internal */\n        Reflector.prototype._getReflectionInfo = function (typeOrFunc) {\n            if (isPresent(this._usedKeys)) {\n                this._usedKeys.add(typeOrFunc);\n            }\n            return this._injectableInfo.get(typeOrFunc);\n        };\n        /** @internal */\n        Reflector.prototype._containsReflectionInfo = function (typeOrFunc) { return this._injectableInfo.has(typeOrFunc); };\n        Reflector.prototype.importUri = function (type) { return this.reflectionCapabilities.importUri(type); };\n        return Reflector;\n    }(ReflectorReader));\n    function _mergeMaps(target, config) {\n        StringMapWrapper.forEach(config, function (v, k) { return target.set(k, v); });\n    }\n    /**\n     * The {@link Reflector} used internally in Angular to access metadata\n     * about symbols.\n     */\n    var reflector = new Reflector(new ReflectionCapabilities());\n    /**\n     * Describes how the {@link Injector} should instantiate a given token.\n     *\n     * See {@link provide}.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/GNAyj6K6PfYg2NBzgwZ5?p%3Dpreview&p=preview))\n     *\n     * ```javascript\n     * var injector = Injector.resolveAndCreate([\n     *   new Provider(\"message\", { useValue: 'Hello' })\n     * ]);\n     *\n     * expect(injector.get(\"message\")).toEqual('Hello');\n     * ```\n     * @ts2dart_const\n     * @deprecated\n     */\n    var Provider = (function () {\n        function Provider(token, _a) {\n            var useClass = _a.useClass, useValue = _a.useValue, useExisting = _a.useExisting, useFactory = _a.useFactory, deps = _a.deps, multi = _a.multi;\n            this.token = token;\n            this.useClass = useClass;\n            this.useValue = useValue;\n            this.useExisting = useExisting;\n            this.useFactory = useFactory;\n            this.dependencies = deps;\n            this._multi = multi;\n        }\n        Object.defineProperty(Provider.prototype, \"multi\", {\n            // TODO: Provide a full working example after alpha38 is released.\n            /**\n             * Creates multiple providers matching the same token (a multi-provider).\n             *\n             * Multi-providers are used for creating pluggable service, where the system comes\n             * with some default providers, and the user can register additional providers.\n             * The combination of the default providers and the additional providers will be\n             * used to drive the behavior of the system.\n             *\n             * ### Example\n             *\n             * ```typescript\n             * var injector = Injector.resolveAndCreate([\n             *   new Provider(\"Strings\", { useValue: \"String1\", multi: true}),\n             *   new Provider(\"Strings\", { useValue: \"String2\", multi: true})\n             * ]);\n             *\n             * expect(injector.get(\"Strings\")).toEqual([\"String1\", \"String2\"]);\n             * ```\n             *\n             * Multi-providers and regular providers cannot be mixed. The following\n             * will throw an exception:\n             *\n             * ```typescript\n             * var injector = Injector.resolveAndCreate([\n             *   new Provider(\"Strings\", { useValue: \"String1\", multi: true }),\n             *   new Provider(\"Strings\", { useValue: \"String2\"})\n             * ]);\n             * ```\n             */\n            get: function () { return normalizeBool(this._multi); },\n            enumerable: true,\n            configurable: true\n        });\n        return Provider;\n    }());\n    /**\n     * See {@link Provider} instead.\n     *\n     * @deprecated\n     * @ts2dart_const\n     */\n    var Binding = (function (_super) {\n        __extends(Binding, _super);\n        function Binding(token, _a) {\n            var toClass = _a.toClass, toValue = _a.toValue, toAlias = _a.toAlias, toFactory = _a.toFactory, deps = _a.deps, multi = _a.multi;\n            _super.call(this, token, {\n                useClass: toClass,\n                useValue: toValue,\n                useExisting: toAlias,\n                useFactory: toFactory,\n                deps: deps,\n                multi: multi\n            });\n        }\n        Object.defineProperty(Binding.prototype, \"toClass\", {\n            /**\n             * @deprecated\n             */\n            get: function () { return this.useClass; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(Binding.prototype, \"toAlias\", {\n            /**\n             * @deprecated\n             */\n            get: function () { return this.useExisting; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(Binding.prototype, \"toFactory\", {\n            /**\n             * @deprecated\n             */\n            get: function () { return this.useFactory; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(Binding.prototype, \"toValue\", {\n            /**\n             * @deprecated\n             */\n            get: function () { return this.useValue; },\n            enumerable: true,\n            configurable: true\n        });\n        return Binding;\n    }(Provider));\n    /**\n     * Creates a {@link Provider}.\n     *\n     * To construct a {@link Provider}, bind a `token` to either a class, a value, a factory function,\n     * or\n     * to an existing `token`.\n     * See {@link ProviderBuilder} for more details.\n     *\n     * The `token` is most commonly a class or {@link OpaqueToken-class.html}.\n     *\n     * @deprecated\n     */\n    function bind(token) {\n        return new ProviderBuilder(token);\n    }\n    /**\n     * Helper class for the {@link bind} function.\n     * @deprecated\n     */\n    var ProviderBuilder = (function () {\n        function ProviderBuilder(token) {\n            this.token = token;\n        }\n        /**\n         * Binds a DI token to a class.\n         *\n         * ### Example ([live demo](http://plnkr.co/edit/ZpBCSYqv6e2ud5KXLdxQ?p=preview))\n         *\n         * Because `toAlias` and `toClass` are often confused, the example contains\n         * both use cases for easy comparison.\n         *\n         * ```typescript\n         * class Vehicle {}\n         *\n         * class Car extends Vehicle {}\n         *\n         * var injectorClass = Injector.resolveAndCreate([\n         *   Car,\n         *   {provide: Vehicle, useClass: Car}\n         * ]);\n         * var injectorAlias = Injector.resolveAndCreate([\n         *   Car,\n         *   {provide: Vehicle, useExisting: Car}\n         * ]);\n         *\n         * expect(injectorClass.get(Vehicle)).not.toBe(injectorClass.get(Car));\n         * expect(injectorClass.get(Vehicle) instanceof Car).toBe(true);\n         *\n         * expect(injectorAlias.get(Vehicle)).toBe(injectorAlias.get(Car));\n         * expect(injectorAlias.get(Vehicle) instanceof Car).toBe(true);\n         * ```\n         */\n        ProviderBuilder.prototype.toClass = function (type) {\n            if (!isType(type)) {\n                throw new BaseException(\"Trying to create a class provider but \\\"\" + stringify(type) + \"\\\" is not a class!\");\n            }\n            return new Provider(this.token, { useClass: type });\n        };\n        /**\n         * Binds a DI token to a value.\n         *\n         * ### Example ([live demo](http://plnkr.co/edit/G024PFHmDL0cJFgfZK8O?p=preview))\n         *\n         * ```typescript\n         * var injector = Injector.resolveAndCreate([\n         *   {provide: 'message', useValue: 'Hello'}\n         * ]);\n         *\n         * expect(injector.get('message')).toEqual('Hello');\n         * ```\n         */\n        ProviderBuilder.prototype.toValue = function (value) { return new Provider(this.token, { useValue: value }); };\n        /**\n         * Binds a DI token to an existing token.\n         *\n         * Angular will return the same instance as if the provided token was used. (This is\n         * in contrast to `useClass` where a separate instance of `useClass` will be returned.)\n         *\n         * ### Example ([live demo](http://plnkr.co/edit/uBaoF2pN5cfc5AfZapNw?p=preview))\n         *\n         * Because `toAlias` and `toClass` are often confused, the example contains\n         * both use cases for easy comparison.\n         *\n         * ```typescript\n         * class Vehicle {}\n         *\n         * class Car extends Vehicle {}\n         *\n         * var injectorAlias = Injector.resolveAndCreate([\n         *   Car,\n         *   {provide: Vehicle, useExisting: Car}\n         * ]);\n         * var injectorClass = Injector.resolveAndCreate([\n         *   Car,\n         *   {provide: Vehicle, useClass: Car})\n         * ]);\n         *\n         * expect(injectorAlias.get(Vehicle)).toBe(injectorAlias.get(Car));\n         * expect(injectorAlias.get(Vehicle) instanceof Car).toBe(true);\n         *\n         * expect(injectorClass.get(Vehicle)).not.toBe(injectorClass.get(Car));\n         * expect(injectorClass.get(Vehicle) instanceof Car).toBe(true);\n         * ```\n         */\n        ProviderBuilder.prototype.toAlias = function (aliasToken) {\n            if (isBlank(aliasToken)) {\n                throw new BaseException(\"Can not alias \" + stringify(this.token) + \" to a blank value!\");\n            }\n            return new Provider(this.token, { useExisting: aliasToken });\n        };\n        /**\n         * Binds a DI token to a function which computes the value.\n         *\n         * ### Example ([live demo](http://plnkr.co/edit/OejNIfTT3zb1iBxaIYOb?p=preview))\n         *\n         * ```typescript\n         * var injector = Injector.resolveAndCreate([\n         *   {provide: Number, useFactory: () => { return 1+2; }},\n         *   {provide: String, useFactory: (v) => { return \"Value: \" + v; }, deps: [Number]}\n         * ]);\n         *\n         * expect(injector.get(Number)).toEqual(3);\n         * expect(injector.get(String)).toEqual('Value: 3');\n         * ```\n         */\n        ProviderBuilder.prototype.toFactory = function (factory, dependencies) {\n            if (!isFunction(factory)) {\n                throw new BaseException(\"Trying to create a factory provider but \\\"\" + stringify(factory) + \"\\\" is not a function!\");\n            }\n            return new Provider(this.token, { useFactory: factory, deps: dependencies });\n        };\n        return ProviderBuilder;\n    }());\n    /**\n     * Creates a {@link Provider}.\n     *\n     * See {@link Provider} for more details.\n     *\n     * <!-- TODO: improve the docs -->\n     * @deprecated\n     */\n    function provide(token, _a) {\n        var useClass = _a.useClass, useValue = _a.useValue, useExisting = _a.useExisting, useFactory = _a.useFactory, deps = _a.deps, multi = _a.multi;\n        return new Provider(token, {\n            useClass: useClass,\n            useValue: useValue,\n            useExisting: useExisting,\n            useFactory: useFactory,\n            deps: deps,\n            multi: multi\n        });\n    }\n    function isProviderLiteral(obj) {\n        return obj && typeof obj == 'object' && obj.provide;\n    }\n    function createProvider(obj) {\n        return new Provider(obj.provide, obj);\n    }\n    /**\n     * `Dependency` is used by the framework to extend DI.\n     * This is internal to Angular and should not be used directly.\n     */\n    var ReflectiveDependency = (function () {\n        function ReflectiveDependency(key, optional, lowerBoundVisibility, upperBoundVisibility, properties) {\n            this.key = key;\n            this.optional = optional;\n            this.lowerBoundVisibility = lowerBoundVisibility;\n            this.upperBoundVisibility = upperBoundVisibility;\n            this.properties = properties;\n        }\n        ReflectiveDependency.fromKey = function (key) {\n            return new ReflectiveDependency(key, false, null, null, []);\n        };\n        return ReflectiveDependency;\n    }());\n    var _EMPTY_LIST = [];\n    var ResolvedReflectiveProvider_ = (function () {\n        function ResolvedReflectiveProvider_(key, resolvedFactories, multiProvider) {\n            this.key = key;\n            this.resolvedFactories = resolvedFactories;\n            this.multiProvider = multiProvider;\n        }\n        Object.defineProperty(ResolvedReflectiveProvider_.prototype, \"resolvedFactory\", {\n            get: function () { return this.resolvedFactories[0]; },\n            enumerable: true,\n            configurable: true\n        });\n        return ResolvedReflectiveProvider_;\n    }());\n    /**\n     * An internal resolved representation of a factory function created by resolving {@link Provider}.\n     * @experimental\n     */\n    var ResolvedReflectiveFactory = (function () {\n        function ResolvedReflectiveFactory(\n            /**\n             * Factory function which can return an instance of an object represented by a key.\n             */\n            factory,\n            /**\n             * Arguments (dependencies) to the `factory` function.\n             */\n            dependencies) {\n            this.factory = factory;\n            this.dependencies = dependencies;\n        }\n        return ResolvedReflectiveFactory;\n    }());\n    /**\n     * Resolve a single provider.\n     */\n    function resolveReflectiveFactory(provider) {\n        var factoryFn;\n        var resolvedDeps;\n        if (isPresent(provider.useClass)) {\n            var useClass = resolveForwardRef(provider.useClass);\n            factoryFn = reflector.factory(useClass);\n            resolvedDeps = _dependenciesFor(useClass);\n        }\n        else if (isPresent(provider.useExisting)) {\n            factoryFn = function (aliasInstance) { return aliasInstance; };\n            resolvedDeps = [ReflectiveDependency.fromKey(ReflectiveKey.get(provider.useExisting))];\n        }\n        else if (isPresent(provider.useFactory)) {\n            factoryFn = provider.useFactory;\n            resolvedDeps = constructDependencies(provider.useFactory, provider.dependencies);\n        }\n        else {\n            factoryFn = function () { return provider.useValue; };\n            resolvedDeps = _EMPTY_LIST;\n        }\n        return new ResolvedReflectiveFactory(factoryFn, resolvedDeps);\n    }\n    /**\n     * Converts the {@link Provider} into {@link ResolvedProvider}.\n     *\n     * {@link Injector} internally only uses {@link ResolvedProvider}, {@link Provider} contains\n     * convenience provider syntax.\n     */\n    function resolveReflectiveProvider(provider) {\n        return new ResolvedReflectiveProvider_(ReflectiveKey.get(provider.token), [resolveReflectiveFactory(provider)], provider.multi);\n    }\n    /**\n     * Resolve a list of Providers.\n     */\n    function resolveReflectiveProviders(providers) {\n        var normalized = _normalizeProviders(providers, []);\n        var resolved = normalized.map(resolveReflectiveProvider);\n        return MapWrapper.values(mergeResolvedReflectiveProviders(resolved, new Map()));\n    }\n    /**\n     * Merges a list of ResolvedProviders into a list where\n     * each key is contained exactly once and multi providers\n     * have been merged.\n     */\n    function mergeResolvedReflectiveProviders(providers, normalizedProvidersMap) {\n        for (var i = 0; i < providers.length; i++) {\n            var provider = providers[i];\n            var existing = normalizedProvidersMap.get(provider.key.id);\n            if (isPresent(existing)) {\n                if (provider.multiProvider !== existing.multiProvider) {\n                    throw new MixingMultiProvidersWithRegularProvidersError(existing, provider);\n                }\n                if (provider.multiProvider) {\n                    for (var j = 0; j < provider.resolvedFactories.length; j++) {\n                        existing.resolvedFactories.push(provider.resolvedFactories[j]);\n                    }\n                }\n                else {\n                    normalizedProvidersMap.set(provider.key.id, provider);\n                }\n            }\n            else {\n                var resolvedProvider;\n                if (provider.multiProvider) {\n                    resolvedProvider = new ResolvedReflectiveProvider_(provider.key, ListWrapper.clone(provider.resolvedFactories), provider.multiProvider);\n                }\n                else {\n                    resolvedProvider = provider;\n                }\n                normalizedProvidersMap.set(provider.key.id, resolvedProvider);\n            }\n        }\n        return normalizedProvidersMap;\n    }\n    function _normalizeProviders(providers, res) {\n        providers.forEach(function (b) {\n            if (b instanceof Type) {\n                res.push(provide(b, { useClass: b }));\n            }\n            else if (b instanceof Provider) {\n                res.push(b);\n            }\n            else if (isProviderLiteral(b)) {\n                res.push(createProvider(b));\n            }\n            else if (b instanceof Array) {\n                _normalizeProviders(b, res);\n            }\n            else if (b instanceof ProviderBuilder) {\n                throw new InvalidProviderError(b.token);\n            }\n            else {\n                throw new InvalidProviderError(b);\n            }\n        });\n        return res;\n    }\n    function constructDependencies(typeOrFunc, dependencies) {\n        if (isBlank(dependencies)) {\n            return _dependenciesFor(typeOrFunc);\n        }\n        else {\n            var params = dependencies.map(function (t) { return [t]; });\n            return dependencies.map(function (t) { return _extractToken(typeOrFunc, t, params); });\n        }\n    }\n    function _dependenciesFor(typeOrFunc) {\n        var params = reflector.parameters(typeOrFunc);\n        if (isBlank(params))\n            return [];\n        if (params.some(isBlank)) {\n            throw new NoAnnotationError(typeOrFunc, params);\n        }\n        return params.map(function (p) { return _extractToken(typeOrFunc, p, params); });\n    }\n    function _extractToken(typeOrFunc /** TODO #9100 */, metadata /** TODO #9100 */ /*any[] | any*/, params) {\n        var depProps = [];\n        var token = null;\n        var optional = false;\n        if (!isArray(metadata)) {\n            if (metadata instanceof InjectMetadata) {\n                return _createDependency(metadata.token, optional, null, null, depProps);\n            }\n            else {\n                return _createDependency(metadata, optional, null, null, depProps);\n            }\n        }\n        var lowerBoundVisibility = null;\n        var upperBoundVisibility = null;\n        for (var i = 0; i < metadata.length; ++i) {\n            var paramMetadata = metadata[i];\n            if (paramMetadata instanceof Type) {\n                token = paramMetadata;\n            }\n            else if (paramMetadata instanceof InjectMetadata) {\n                token = paramMetadata.token;\n            }\n            else if (paramMetadata instanceof OptionalMetadata) {\n                optional = true;\n            }\n            else if (paramMetadata instanceof SelfMetadata) {\n                upperBoundVisibility = paramMetadata;\n            }\n            else if (paramMetadata instanceof HostMetadata) {\n                upperBoundVisibility = paramMetadata;\n            }\n            else if (paramMetadata instanceof SkipSelfMetadata) {\n                lowerBoundVisibility = paramMetadata;\n            }\n            else if (paramMetadata instanceof DependencyMetadata) {\n                if (isPresent(paramMetadata.token)) {\n                    token = paramMetadata.token;\n                }\n                depProps.push(paramMetadata);\n            }\n        }\n        token = resolveForwardRef(token);\n        if (isPresent(token)) {\n            return _createDependency(token, optional, lowerBoundVisibility, upperBoundVisibility, depProps);\n        }\n        else {\n            throw new NoAnnotationError(typeOrFunc, params);\n        }\n    }\n    function _createDependency(token /** TODO #9100 */, optional /** TODO #9100 */, lowerBoundVisibility /** TODO #9100 */, upperBoundVisibility /** TODO #9100 */, depProps /** TODO #9100 */) {\n        return new ReflectiveDependency(ReflectiveKey.get(token), optional, lowerBoundVisibility, upperBoundVisibility, depProps);\n    }\n    // avoid unused import when Type union types are erased\n    // Threshold for the dynamic version\n    var _MAX_CONSTRUCTION_COUNTER = 10;\n    var UNDEFINED = new Object();\n    var ReflectiveProtoInjectorInlineStrategy = (function () {\n        function ReflectiveProtoInjectorInlineStrategy(protoEI, providers) {\n            this.provider0 = null;\n            this.provider1 = null;\n            this.provider2 = null;\n            this.provider3 = null;\n            this.provider4 = null;\n            this.provider5 = null;\n            this.provider6 = null;\n            this.provider7 = null;\n            this.provider8 = null;\n            this.provider9 = null;\n            this.keyId0 = null;\n            this.keyId1 = null;\n            this.keyId2 = null;\n            this.keyId3 = null;\n            this.keyId4 = null;\n            this.keyId5 = null;\n            this.keyId6 = null;\n            this.keyId7 = null;\n            this.keyId8 = null;\n            this.keyId9 = null;\n            var length = providers.length;\n            if (length > 0) {\n                this.provider0 = providers[0];\n                this.keyId0 = providers[0].key.id;\n            }\n            if (length > 1) {\n                this.provider1 = providers[1];\n                this.keyId1 = providers[1].key.id;\n            }\n            if (length > 2) {\n                this.provider2 = providers[2];\n                this.keyId2 = providers[2].key.id;\n            }\n            if (length > 3) {\n                this.provider3 = providers[3];\n                this.keyId3 = providers[3].key.id;\n            }\n            if (length > 4) {\n                this.provider4 = providers[4];\n                this.keyId4 = providers[4].key.id;\n            }\n            if (length > 5) {\n                this.provider5 = providers[5];\n                this.keyId5 = providers[5].key.id;\n            }\n            if (length > 6) {\n                this.provider6 = providers[6];\n                this.keyId6 = providers[6].key.id;\n            }\n            if (length > 7) {\n                this.provider7 = providers[7];\n                this.keyId7 = providers[7].key.id;\n            }\n            if (length > 8) {\n                this.provider8 = providers[8];\n                this.keyId8 = providers[8].key.id;\n            }\n            if (length > 9) {\n                this.provider9 = providers[9];\n                this.keyId9 = providers[9].key.id;\n            }\n        }\n        ReflectiveProtoInjectorInlineStrategy.prototype.getProviderAtIndex = function (index) {\n            if (index == 0)\n                return this.provider0;\n            if (index == 1)\n                return this.provider1;\n            if (index == 2)\n                return this.provider2;\n            if (index == 3)\n                return this.provider3;\n            if (index == 4)\n                return this.provider4;\n            if (index == 5)\n                return this.provider5;\n            if (index == 6)\n                return this.provider6;\n            if (index == 7)\n                return this.provider7;\n            if (index == 8)\n                return this.provider8;\n            if (index == 9)\n                return this.provider9;\n            throw new OutOfBoundsError(index);\n        };\n        ReflectiveProtoInjectorInlineStrategy.prototype.createInjectorStrategy = function (injector) {\n            return new ReflectiveInjectorInlineStrategy(injector, this);\n        };\n        return ReflectiveProtoInjectorInlineStrategy;\n    }());\n    var ReflectiveProtoInjectorDynamicStrategy = (function () {\n        function ReflectiveProtoInjectorDynamicStrategy(protoInj, providers) {\n            this.providers = providers;\n            var len = providers.length;\n            this.keyIds = ListWrapper.createFixedSize(len);\n            for (var i = 0; i < len; i++) {\n                this.keyIds[i] = providers[i].key.id;\n            }\n        }\n        ReflectiveProtoInjectorDynamicStrategy.prototype.getProviderAtIndex = function (index) {\n            if (index < 0 || index >= this.providers.length) {\n                throw new OutOfBoundsError(index);\n            }\n            return this.providers[index];\n        };\n        ReflectiveProtoInjectorDynamicStrategy.prototype.createInjectorStrategy = function (ei) {\n            return new ReflectiveInjectorDynamicStrategy(this, ei);\n        };\n        return ReflectiveProtoInjectorDynamicStrategy;\n    }());\n    var ReflectiveProtoInjector = (function () {\n        function ReflectiveProtoInjector(providers) {\n            this.numberOfProviders = providers.length;\n            this._strategy = providers.length > _MAX_CONSTRUCTION_COUNTER ?\n                new ReflectiveProtoInjectorDynamicStrategy(this, providers) :\n                new ReflectiveProtoInjectorInlineStrategy(this, providers);\n        }\n        ReflectiveProtoInjector.fromResolvedProviders = function (providers) {\n            return new ReflectiveProtoInjector(providers);\n        };\n        ReflectiveProtoInjector.prototype.getProviderAtIndex = function (index) {\n            return this._strategy.getProviderAtIndex(index);\n        };\n        return ReflectiveProtoInjector;\n    }());\n    var ReflectiveInjectorInlineStrategy = (function () {\n        function ReflectiveInjectorInlineStrategy(injector, protoStrategy) {\n            this.injector = injector;\n            this.protoStrategy = protoStrategy;\n            this.obj0 = UNDEFINED;\n            this.obj1 = UNDEFINED;\n            this.obj2 = UNDEFINED;\n            this.obj3 = UNDEFINED;\n            this.obj4 = UNDEFINED;\n            this.obj5 = UNDEFINED;\n            this.obj6 = UNDEFINED;\n            this.obj7 = UNDEFINED;\n            this.obj8 = UNDEFINED;\n            this.obj9 = UNDEFINED;\n        }\n        ReflectiveInjectorInlineStrategy.prototype.resetConstructionCounter = function () { this.injector._constructionCounter = 0; };\n        ReflectiveInjectorInlineStrategy.prototype.instantiateProvider = function (provider) {\n            return this.injector._new(provider);\n        };\n        ReflectiveInjectorInlineStrategy.prototype.getObjByKeyId = function (keyId) {\n            var p = this.protoStrategy;\n            var inj = this.injector;\n            if (p.keyId0 === keyId) {\n                if (this.obj0 === UNDEFINED) {\n                    this.obj0 = inj._new(p.provider0);\n                }\n                return this.obj0;\n            }\n            if (p.keyId1 === keyId) {\n                if (this.obj1 === UNDEFINED) {\n                    this.obj1 = inj._new(p.provider1);\n                }\n                return this.obj1;\n            }\n            if (p.keyId2 === keyId) {\n                if (this.obj2 === UNDEFINED) {\n                    this.obj2 = inj._new(p.provider2);\n                }\n                return this.obj2;\n            }\n            if (p.keyId3 === keyId) {\n                if (this.obj3 === UNDEFINED) {\n                    this.obj3 = inj._new(p.provider3);\n                }\n                return this.obj3;\n            }\n            if (p.keyId4 === keyId) {\n                if (this.obj4 === UNDEFINED) {\n                    this.obj4 = inj._new(p.provider4);\n                }\n                return this.obj4;\n            }\n            if (p.keyId5 === keyId) {\n                if (this.obj5 === UNDEFINED) {\n                    this.obj5 = inj._new(p.provider5);\n                }\n                return this.obj5;\n            }\n            if (p.keyId6 === keyId) {\n                if (this.obj6 === UNDEFINED) {\n                    this.obj6 = inj._new(p.provider6);\n                }\n                return this.obj6;\n            }\n            if (p.keyId7 === keyId) {\n                if (this.obj7 === UNDEFINED) {\n                    this.obj7 = inj._new(p.provider7);\n                }\n                return this.obj7;\n            }\n            if (p.keyId8 === keyId) {\n                if (this.obj8 === UNDEFINED) {\n                    this.obj8 = inj._new(p.provider8);\n                }\n                return this.obj8;\n            }\n            if (p.keyId9 === keyId) {\n                if (this.obj9 === UNDEFINED) {\n                    this.obj9 = inj._new(p.provider9);\n                }\n                return this.obj9;\n            }\n            return UNDEFINED;\n        };\n        ReflectiveInjectorInlineStrategy.prototype.getObjAtIndex = function (index) {\n            if (index == 0)\n                return this.obj0;\n            if (index == 1)\n                return this.obj1;\n            if (index == 2)\n                return this.obj2;\n            if (index == 3)\n                return this.obj3;\n            if (index == 4)\n                return this.obj4;\n            if (index == 5)\n                return this.obj5;\n            if (index == 6)\n                return this.obj6;\n            if (index == 7)\n                return this.obj7;\n            if (index == 8)\n                return this.obj8;\n            if (index == 9)\n                return this.obj9;\n            throw new OutOfBoundsError(index);\n        };\n        ReflectiveInjectorInlineStrategy.prototype.getMaxNumberOfObjects = function () { return _MAX_CONSTRUCTION_COUNTER; };\n        return ReflectiveInjectorInlineStrategy;\n    }());\n    var ReflectiveInjectorDynamicStrategy = (function () {\n        function ReflectiveInjectorDynamicStrategy(protoStrategy, injector) {\n            this.protoStrategy = protoStrategy;\n            this.injector = injector;\n            this.objs = ListWrapper.createFixedSize(protoStrategy.providers.length);\n            ListWrapper.fill(this.objs, UNDEFINED);\n        }\n        ReflectiveInjectorDynamicStrategy.prototype.resetConstructionCounter = function () { this.injector._constructionCounter = 0; };\n        ReflectiveInjectorDynamicStrategy.prototype.instantiateProvider = function (provider) {\n            return this.injector._new(provider);\n        };\n        ReflectiveInjectorDynamicStrategy.prototype.getObjByKeyId = function (keyId) {\n            var p = this.protoStrategy;\n            for (var i = 0; i < p.keyIds.length; i++) {\n                if (p.keyIds[i] === keyId) {\n                    if (this.objs[i] === UNDEFINED) {\n                        this.objs[i] = this.injector._new(p.providers[i]);\n                    }\n                    return this.objs[i];\n                }\n            }\n            return UNDEFINED;\n        };\n        ReflectiveInjectorDynamicStrategy.prototype.getObjAtIndex = function (index) {\n            if (index < 0 || index >= this.objs.length) {\n                throw new OutOfBoundsError(index);\n            }\n            return this.objs[index];\n        };\n        ReflectiveInjectorDynamicStrategy.prototype.getMaxNumberOfObjects = function () { return this.objs.length; };\n        return ReflectiveInjectorDynamicStrategy;\n    }());\n    /**\n     * A ReflectiveDependency injection container used for instantiating objects and resolving\n     * dependencies.\n     *\n     * An `Injector` is a replacement for a `new` operator, which can automatically resolve the\n     * constructor dependencies.\n     *\n     * In typical use, application code asks for the dependencies in the constructor and they are\n     * resolved by the `Injector`.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/jzjec0?p=preview))\n     *\n     * The following example creates an `Injector` configured to create `Engine` and `Car`.\n     *\n     * ```typescript\n     * @Injectable()\n     * class Engine {\n     * }\n     *\n     * @Injectable()\n     * class Car {\n     *   constructor(public engine:Engine) {}\n     * }\n     *\n     * var injector = ReflectiveInjector.resolveAndCreate([Car, Engine]);\n     * var car = injector.get(Car);\n     * expect(car instanceof Car).toBe(true);\n     * expect(car.engine instanceof Engine).toBe(true);\n     * ```\n     *\n     * Notice, we don't use the `new` operator because we explicitly want to have the `Injector`\n     * resolve all of the object's dependencies automatically.\n     *\n     * @stable\n     */\n    var ReflectiveInjector = (function () {\n        function ReflectiveInjector() {\n        }\n        /**\n         * Turns an array of provider definitions into an array of resolved providers.\n         *\n         * A resolution is a process of flattening multiple nested arrays and converting individual\n         * providers into an array of {@link ResolvedReflectiveProvider}s.\n         *\n         * ### Example ([live demo](http://plnkr.co/edit/AiXTHi?p=preview))\n         *\n         * ```typescript\n         * @Injectable()\n         * class Engine {\n         * }\n         *\n         * @Injectable()\n         * class Car {\n         *   constructor(public engine:Engine) {}\n         * }\n         *\n         * var providers = ReflectiveInjector.resolve([Car, [[Engine]]]);\n         *\n         * expect(providers.length).toEqual(2);\n         *\n         * expect(providers[0] instanceof ResolvedReflectiveProvider).toBe(true);\n         * expect(providers[0].key.displayName).toBe(\"Car\");\n         * expect(providers[0].dependencies.length).toEqual(1);\n         * expect(providers[0].factory).toBeDefined();\n         *\n         * expect(providers[1].key.displayName).toBe(\"Engine\");\n         * });\n         * ```\n         *\n         * See {@link ReflectiveInjector#fromResolvedProviders} for more info.\n         */\n        ReflectiveInjector.resolve = function (providers) {\n            return resolveReflectiveProviders(providers);\n        };\n        /**\n         * Resolves an array of providers and creates an injector from those providers.\n         *\n         * The passed-in providers can be an array of `Type`, {@link Provider},\n         * or a recursive array of more providers.\n         *\n         * ### Example ([live demo](http://plnkr.co/edit/ePOccA?p=preview))\n         *\n         * ```typescript\n         * @Injectable()\n         * class Engine {\n         * }\n         *\n         * @Injectable()\n         * class Car {\n         *   constructor(public engine:Engine) {}\n         * }\n         *\n         * var injector = ReflectiveInjector.resolveAndCreate([Car, Engine]);\n         * expect(injector.get(Car) instanceof Car).toBe(true);\n         * ```\n         *\n         * This function is slower than the corresponding `fromResolvedProviders`\n         * because it needs to resolve the passed-in providers first.\n         * See {@link Injector#resolve} and {@link Injector#fromResolvedProviders}.\n         */\n        ReflectiveInjector.resolveAndCreate = function (providers, parent) {\n            if (parent === void 0) { parent = null; }\n            var ResolvedReflectiveProviders = ReflectiveInjector.resolve(providers);\n            return ReflectiveInjector.fromResolvedProviders(ResolvedReflectiveProviders, parent);\n        };\n        /**\n         * Creates an injector from previously resolved providers.\n         *\n         * This API is the recommended way to construct injectors in performance-sensitive parts.\n         *\n         * ### Example ([live demo](http://plnkr.co/edit/KrSMci?p=preview))\n         *\n         * ```typescript\n         * @Injectable()\n         * class Engine {\n         * }\n         *\n         * @Injectable()\n         * class Car {\n         *   constructor(public engine:Engine) {}\n         * }\n         *\n         * var providers = ReflectiveInjector.resolve([Car, Engine]);\n         * var injector = ReflectiveInjector.fromResolvedProviders(providers);\n         * expect(injector.get(Car) instanceof Car).toBe(true);\n         * ```\n         * @experimental\n         */\n        ReflectiveInjector.fromResolvedProviders = function (providers, parent) {\n            if (parent === void 0) { parent = null; }\n            return new ReflectiveInjector_(ReflectiveProtoInjector.fromResolvedProviders(providers), parent);\n        };\n        /**\n         * @deprecated\n         */\n        ReflectiveInjector.fromResolvedBindings = function (providers) {\n            return ReflectiveInjector.fromResolvedProviders(providers);\n        };\n        Object.defineProperty(ReflectiveInjector.prototype, \"parent\", {\n            /**\n             * Parent of this injector.\n             *\n             * <!-- TODO: Add a link to the section of the user guide talking about hierarchical injection.\n             * -->\n             *\n             * ### Example ([live demo](http://plnkr.co/edit/eosMGo?p=preview))\n             *\n             * ```typescript\n             * var parent = ReflectiveInjector.resolveAndCreate([]);\n             * var child = parent.resolveAndCreateChild([]);\n             * expect(child.parent).toBe(parent);\n             * ```\n             */\n            get: function () { return unimplemented(); },\n            enumerable: true,\n            configurable: true\n        });\n        /**\n         * @internal\n         */\n        ReflectiveInjector.prototype.debugContext = function () { return null; };\n        /**\n         * Resolves an array of providers and creates a child injector from those providers.\n         *\n         * <!-- TODO: Add a link to the section of the user guide talking about hierarchical injection.\n         * -->\n         *\n         * The passed-in providers can be an array of `Type`, {@link Provider},\n         * or a recursive array of more providers.\n         *\n         * ### Example ([live demo](http://plnkr.co/edit/opB3T4?p=preview))\n         *\n         * ```typescript\n         * class ParentProvider {}\n         * class ChildProvider {}\n         *\n         * var parent = ReflectiveInjector.resolveAndCreate([ParentProvider]);\n         * var child = parent.resolveAndCreateChild([ChildProvider]);\n         *\n         * expect(child.get(ParentProvider) instanceof ParentProvider).toBe(true);\n         * expect(child.get(ChildProvider) instanceof ChildProvider).toBe(true);\n         * expect(child.get(ParentProvider)).toBe(parent.get(ParentProvider));\n         * ```\n         *\n         * This function is slower than the corresponding `createChildFromResolved`\n         * because it needs to resolve the passed-in providers first.\n         * See {@link Injector#resolve} and {@link Injector#createChildFromResolved}.\n         */\n        ReflectiveInjector.prototype.resolveAndCreateChild = function (providers) {\n            return unimplemented();\n        };\n        /**\n         * Creates a child injector from previously resolved providers.\n         *\n         * <!-- TODO: Add a link to the section of the user guide talking about hierarchical injection.\n         * -->\n         *\n         * This API is the recommended way to construct injectors in performance-sensitive parts.\n         *\n         * ### Example ([live demo](http://plnkr.co/edit/VhyfjN?p=preview))\n         *\n         * ```typescript\n         * class ParentProvider {}\n         * class ChildProvider {}\n         *\n         * var parentProviders = ReflectiveInjector.resolve([ParentProvider]);\n         * var childProviders = ReflectiveInjector.resolve([ChildProvider]);\n         *\n         * var parent = ReflectiveInjector.fromResolvedProviders(parentProviders);\n         * var child = parent.createChildFromResolved(childProviders);\n         *\n         * expect(child.get(ParentProvider) instanceof ParentProvider).toBe(true);\n         * expect(child.get(ChildProvider) instanceof ChildProvider).toBe(true);\n         * expect(child.get(ParentProvider)).toBe(parent.get(ParentProvider));\n         * ```\n         */\n        ReflectiveInjector.prototype.createChildFromResolved = function (providers) {\n            return unimplemented();\n        };\n        /**\n         * Resolves a provider and instantiates an object in the context of the injector.\n         *\n         * The created object does not get cached by the injector.\n         *\n         * ### Example ([live demo](http://plnkr.co/edit/yvVXoB?p=preview))\n         *\n         * ```typescript\n         * @Injectable()\n         * class Engine {\n         * }\n         *\n         * @Injectable()\n         * class Car {\n         *   constructor(public engine:Engine) {}\n         * }\n         *\n         * var injector = ReflectiveInjector.resolveAndCreate([Engine]);\n         *\n         * var car = injector.resolveAndInstantiate(Car);\n         * expect(car.engine).toBe(injector.get(Engine));\n         * expect(car).not.toBe(injector.resolveAndInstantiate(Car));\n         * ```\n         */\n        ReflectiveInjector.prototype.resolveAndInstantiate = function (provider) { return unimplemented(); };\n        /**\n         * Instantiates an object using a resolved provider in the context of the injector.\n         *\n         * The created object does not get cached by the injector.\n         *\n         * ### Example ([live demo](http://plnkr.co/edit/ptCImQ?p=preview))\n         *\n         * ```typescript\n         * @Injectable()\n         * class Engine {\n         * }\n         *\n         * @Injectable()\n         * class Car {\n         *   constructor(public engine:Engine) {}\n         * }\n         *\n         * var injector = ReflectiveInjector.resolveAndCreate([Engine]);\n         * var carProvider = ReflectiveInjector.resolve([Car])[0];\n         * var car = injector.instantiateResolved(carProvider);\n         * expect(car.engine).toBe(injector.get(Engine));\n         * expect(car).not.toBe(injector.instantiateResolved(carProvider));\n         * ```\n         */\n        ReflectiveInjector.prototype.instantiateResolved = function (provider) { return unimplemented(); };\n        return ReflectiveInjector;\n    }());\n    var ReflectiveInjector_ = (function () {\n        /**\n         * Private\n         */\n        function ReflectiveInjector_(_proto /* ProtoInjector */, _parent, _debugContext) {\n            if (_parent === void 0) { _parent = null; }\n            if (_debugContext === void 0) { _debugContext = null; }\n            this._debugContext = _debugContext;\n            /** @internal */\n            this._constructionCounter = 0;\n            this._proto = _proto;\n            this._parent = _parent;\n            this._strategy = _proto._strategy.createInjectorStrategy(this);\n        }\n        /**\n         * @internal\n         */\n        ReflectiveInjector_.prototype.debugContext = function () { return this._debugContext(); };\n        ReflectiveInjector_.prototype.get = function (token, notFoundValue) {\n            if (notFoundValue === void 0) { notFoundValue = THROW_IF_NOT_FOUND; }\n            return this._getByKey(ReflectiveKey.get(token), null, null, notFoundValue);\n        };\n        ReflectiveInjector_.prototype.getAt = function (index) { return this._strategy.getObjAtIndex(index); };\n        Object.defineProperty(ReflectiveInjector_.prototype, \"parent\", {\n            get: function () { return this._parent; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(ReflectiveInjector_.prototype, \"internalStrategy\", {\n            /**\n             * @internal\n             * Internal. Do not use.\n             * We return `any` not to export the InjectorStrategy type.\n             */\n            get: function () { return this._strategy; },\n            enumerable: true,\n            configurable: true\n        });\n        ReflectiveInjector_.prototype.resolveAndCreateChild = function (providers) {\n            var ResolvedReflectiveProviders = ReflectiveInjector.resolve(providers);\n            return this.createChildFromResolved(ResolvedReflectiveProviders);\n        };\n        ReflectiveInjector_.prototype.createChildFromResolved = function (providers) {\n            var proto = new ReflectiveProtoInjector(providers);\n            var inj = new ReflectiveInjector_(proto);\n            inj._parent = this;\n            return inj;\n        };\n        ReflectiveInjector_.prototype.resolveAndInstantiate = function (provider) {\n            return this.instantiateResolved(ReflectiveInjector.resolve([provider])[0]);\n        };\n        ReflectiveInjector_.prototype.instantiateResolved = function (provider) {\n            return this._instantiateProvider(provider);\n        };\n        /** @internal */\n        ReflectiveInjector_.prototype._new = function (provider) {\n            if (this._constructionCounter++ > this._strategy.getMaxNumberOfObjects()) {\n                throw new CyclicDependencyError(this, provider.key);\n            }\n            return this._instantiateProvider(provider);\n        };\n        ReflectiveInjector_.prototype._instantiateProvider = function (provider) {\n            if (provider.multiProvider) {\n                var res = ListWrapper.createFixedSize(provider.resolvedFactories.length);\n                for (var i = 0; i < provider.resolvedFactories.length; ++i) {\n                    res[i] = this._instantiate(provider, provider.resolvedFactories[i]);\n                }\n                return res;\n            }\n            else {\n                return this._instantiate(provider, provider.resolvedFactories[0]);\n            }\n        };\n        ReflectiveInjector_.prototype._instantiate = function (provider, ResolvedReflectiveFactory) {\n            var factory = ResolvedReflectiveFactory.factory;\n            var deps = ResolvedReflectiveFactory.dependencies;\n            var length = deps.length;\n            var d0;\n            var d1;\n            var d2;\n            var d3;\n            var d4;\n            var d5;\n            var d6;\n            var d7;\n            var d8;\n            var d9;\n            var d10;\n            var d11;\n            var d12;\n            var d13;\n            var d14;\n            var d15;\n            var d16;\n            var d17;\n            var d18;\n            var d19;\n            try {\n                d0 = length > 0 ? this._getByReflectiveDependency(provider, deps[0]) : null;\n                d1 = length > 1 ? this._getByReflectiveDependency(provider, deps[1]) : null;\n                d2 = length > 2 ? this._getByReflectiveDependency(provider, deps[2]) : null;\n                d3 = length > 3 ? this._getByReflectiveDependency(provider, deps[3]) : null;\n                d4 = length > 4 ? this._getByReflectiveDependency(provider, deps[4]) : null;\n                d5 = length > 5 ? this._getByReflectiveDependency(provider, deps[5]) : null;\n                d6 = length > 6 ? this._getByReflectiveDependency(provider, deps[6]) : null;\n                d7 = length > 7 ? this._getByReflectiveDependency(provider, deps[7]) : null;\n                d8 = length > 8 ? this._getByReflectiveDependency(provider, deps[8]) : null;\n                d9 = length > 9 ? this._getByReflectiveDependency(provider, deps[9]) : null;\n                d10 = length > 10 ? this._getByReflectiveDependency(provider, deps[10]) : null;\n                d11 = length > 11 ? this._getByReflectiveDependency(provider, deps[11]) : null;\n                d12 = length > 12 ? this._getByReflectiveDependency(provider, deps[12]) : null;\n                d13 = length > 13 ? this._getByReflectiveDependency(provider, deps[13]) : null;\n                d14 = length > 14 ? this._getByReflectiveDependency(provider, deps[14]) : null;\n                d15 = length > 15 ? this._getByReflectiveDependency(provider, deps[15]) : null;\n                d16 = length > 16 ? this._getByReflectiveDependency(provider, deps[16]) : null;\n                d17 = length > 17 ? this._getByReflectiveDependency(provider, deps[17]) : null;\n                d18 = length > 18 ? this._getByReflectiveDependency(provider, deps[18]) : null;\n                d19 = length > 19 ? this._getByReflectiveDependency(provider, deps[19]) : null;\n            }\n            catch (e) {\n                if (e instanceof AbstractProviderError || e instanceof InstantiationError) {\n                    e.addKey(this, provider.key);\n                }\n                throw e;\n            }\n            var obj;\n            try {\n                switch (length) {\n                    case 0:\n                        obj = factory();\n                        break;\n                    case 1:\n                        obj = factory(d0);\n                        break;\n                    case 2:\n                        obj = factory(d0, d1);\n                        break;\n                    case 3:\n                        obj = factory(d0, d1, d2);\n                        break;\n                    case 4:\n                        obj = factory(d0, d1, d2, d3);\n                        break;\n                    case 5:\n                        obj = factory(d0, d1, d2, d3, d4);\n                        break;\n                    case 6:\n                        obj = factory(d0, d1, d2, d3, d4, d5);\n                        break;\n                    case 7:\n                        obj = factory(d0, d1, d2, d3, d4, d5, d6);\n                        break;\n                    case 8:\n                        obj = factory(d0, d1, d2, d3, d4, d5, d6, d7);\n                        break;\n                    case 9:\n                        obj = factory(d0, d1, d2, d3, d4, d5, d6, d7, d8);\n                        break;\n                    case 10:\n                        obj = factory(d0, d1, d2, d3, d4, d5, d6, d7, d8, d9);\n                        break;\n                    case 11:\n                        obj = factory(d0, d1, d2, d3, d4, d5, d6, d7, d8, d9, d10);\n                        break;\n                    case 12:\n                        obj = factory(d0, d1, d2, d3, d4, d5, d6, d7, d8, d9, d10, d11);\n                        break;\n                    case 13:\n                        obj = factory(d0, d1, d2, d3, d4, d5, d6, d7, d8, d9, d10, d11, d12);\n                        break;\n                    case 14:\n                        obj = factory(d0, d1, d2, d3, d4, d5, d6, d7, d8, d9, d10, d11, d12, d13);\n                        break;\n                    case 15:\n                        obj = factory(d0, d1, d2, d3, d4, d5, d6, d7, d8, d9, d10, d11, d12, d13, d14);\n                        break;\n                    case 16:\n                        obj = factory(d0, d1, d2, d3, d4, d5, d6, d7, d8, d9, d10, d11, d12, d13, d14, d15);\n                        break;\n                    case 17:\n                        obj = factory(d0, d1, d2, d3, d4, d5, d6, d7, d8, d9, d10, d11, d12, d13, d14, d15, d16);\n                        break;\n                    case 18:\n                        obj = factory(d0, d1, d2, d3, d4, d5, d6, d7, d8, d9, d10, d11, d12, d13, d14, d15, d16, d17);\n                        break;\n                    case 19:\n                        obj = factory(d0, d1, d2, d3, d4, d5, d6, d7, d8, d9, d10, d11, d12, d13, d14, d15, d16, d17, d18);\n                        break;\n                    case 20:\n                        obj = factory(d0, d1, d2, d3, d4, d5, d6, d7, d8, d9, d10, d11, d12, d13, d14, d15, d16, d17, d18, d19);\n                        break;\n                    default:\n                        throw new BaseException(\"Cannot instantiate '\" + provider.key.displayName + \"' because it has more than 20 dependencies\");\n                }\n            }\n            catch (e) {\n                throw new InstantiationError(this, e, e.stack, provider.key);\n            }\n            return obj;\n        };\n        ReflectiveInjector_.prototype._getByReflectiveDependency = function (provider, dep) {\n            return this._getByKey(dep.key, dep.lowerBoundVisibility, dep.upperBoundVisibility, dep.optional ? null : THROW_IF_NOT_FOUND);\n        };\n        ReflectiveInjector_.prototype._getByKey = function (key, lowerBoundVisibility, upperBoundVisibility, notFoundValue) {\n            if (key === INJECTOR_KEY) {\n                return this;\n            }\n            if (upperBoundVisibility instanceof SelfMetadata) {\n                return this._getByKeySelf(key, notFoundValue);\n            }\n            else {\n                return this._getByKeyDefault(key, notFoundValue, lowerBoundVisibility);\n            }\n        };\n        /** @internal */\n        ReflectiveInjector_.prototype._throwOrNull = function (key, notFoundValue) {\n            if (notFoundValue !== THROW_IF_NOT_FOUND) {\n                return notFoundValue;\n            }\n            else {\n                throw new NoProviderError(this, key);\n            }\n        };\n        /** @internal */\n        ReflectiveInjector_.prototype._getByKeySelf = function (key, notFoundValue) {\n            var obj = this._strategy.getObjByKeyId(key.id);\n            return (obj !== UNDEFINED) ? obj : this._throwOrNull(key, notFoundValue);\n        };\n        /** @internal */\n        ReflectiveInjector_.prototype._getByKeyDefault = function (key, notFoundValue, lowerBoundVisibility) {\n            var inj;\n            if (lowerBoundVisibility instanceof SkipSelfMetadata) {\n                inj = this._parent;\n            }\n            else {\n                inj = this;\n            }\n            while (inj instanceof ReflectiveInjector_) {\n                var inj_ = inj;\n                var obj = inj_._strategy.getObjByKeyId(key.id);\n                if (obj !== UNDEFINED)\n                    return obj;\n                inj = inj_._parent;\n            }\n            if (inj !== null) {\n                return inj.get(key.token, notFoundValue);\n            }\n            else {\n                return this._throwOrNull(key, notFoundValue);\n            }\n        };\n        Object.defineProperty(ReflectiveInjector_.prototype, \"displayName\", {\n            get: function () {\n                var providers = _mapProviders(this, function (b) { return ' \"' + b.key.displayName + '\" '; })\n                    .join(', ');\n                return \"ReflectiveInjector(providers: [\" + providers + \"])\";\n            },\n            enumerable: true,\n            configurable: true\n        });\n        ReflectiveInjector_.prototype.toString = function () { return this.displayName; };\n        return ReflectiveInjector_;\n    }());\n    var INJECTOR_KEY = ReflectiveKey.get(Injector);\n    function _mapProviders(injector, fn) {\n        var res = new Array(injector._proto.numberOfProviders);\n        for (var i = 0; i < injector._proto.numberOfProviders; ++i) {\n            res[i] = fn(injector._proto.getProviderAtIndex(i));\n        }\n        return res;\n    }\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * Creates a token that can be used in a DI Provider.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/Ys9ezXpj2Mnoy3Uc8KBp?p=preview))\n     *\n     * ```typescript\n     * var t = new OpaqueToken(\"value\");\n     *\n     * var injector = Injector.resolveAndCreate([\n     *   {provide: t, useValue: \"bindingValue\"}\n     * ]);\n     *\n     * expect(injector.get(t)).toEqual(\"bindingValue\");\n     * ```\n     *\n     * Using an `OpaqueToken` is preferable to using strings as tokens because of possible collisions\n     * caused by multiple providers using the same string as two different tokens.\n     *\n     * Using an `OpaqueToken` is preferable to using an `Object` as tokens because it provides better\n     * error messages.\n     * @ts2dart_const\n     * @stable\n     */\n    var OpaqueToken = (function () {\n        function OpaqueToken(_desc) {\n            this._desc = _desc;\n        }\n        OpaqueToken.prototype.toString = function () { return \"Token \" + this._desc; };\n        return OpaqueToken;\n    }());\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var PromiseCompleter = (function () {\n        function PromiseCompleter() {\n            var _this = this;\n            this.promise = new Promise(function (res, rej) {\n                _this.resolve = res;\n                _this.reject = rej;\n            });\n        }\n        return PromiseCompleter;\n    }());\n    var PromiseWrapper = (function () {\n        function PromiseWrapper() {\n        }\n        PromiseWrapper.resolve = function (obj) { return Promise.resolve(obj); };\n        PromiseWrapper.reject = function (obj, _) { return Promise.reject(obj); };\n        // Note: We can't rename this method into `catch`, as this is not a valid\n        // method name in Dart.\n        PromiseWrapper.catchError = function (promise, onError) {\n            return promise.catch(onError);\n        };\n        PromiseWrapper.all = function (promises) {\n            if (promises.length == 0)\n                return Promise.resolve([]);\n            return Promise.all(promises);\n        };\n        PromiseWrapper.then = function (promise, success, rejection) {\n            return promise.then(success, rejection);\n        };\n        PromiseWrapper.wrap = function (computation) {\n            return new Promise(function (res, rej) {\n                try {\n                    res(computation());\n                }\n                catch (e) {\n                    rej(e);\n                }\n            });\n        };\n        PromiseWrapper.scheduleMicrotask = function (computation) {\n            PromiseWrapper.then(PromiseWrapper.resolve(null), computation, function (_) { });\n        };\n        PromiseWrapper.completer = function () { return new PromiseCompleter(); };\n        return PromiseWrapper;\n    }());\n    var ObservableWrapper = (function () {\n        function ObservableWrapper() {\n        }\n        // TODO(vsavkin): when we use rxnext, try inferring the generic type from the first arg\n        ObservableWrapper.subscribe = function (emitter, onNext, onError, onComplete) {\n            if (onComplete === void 0) { onComplete = function () { }; }\n            onError = (typeof onError === 'function') && onError || noop;\n            onComplete = (typeof onComplete === 'function') && onComplete || noop;\n            return emitter.subscribe({ next: onNext, error: onError, complete: onComplete });\n        };\n        ObservableWrapper.isObservable = function (obs) { return !!obs.subscribe; };\n        /**\n         * Returns whether `obs` has any subscribers listening to events.\n         */\n        ObservableWrapper.hasSubscribers = function (obs) { return obs.observers.length > 0; };\n        ObservableWrapper.dispose = function (subscription) { subscription.unsubscribe(); };\n        /**\n         * @deprecated - use callEmit() instead\n         */\n        ObservableWrapper.callNext = function (emitter, value) { emitter.emit(value); };\n        ObservableWrapper.callEmit = function (emitter, value) { emitter.emit(value); };\n        ObservableWrapper.callError = function (emitter, error) { emitter.error(error); };\n        ObservableWrapper.callComplete = function (emitter) { emitter.complete(); };\n        ObservableWrapper.fromPromise = function (promise) {\n            return rxjs_observable_PromiseObservable.PromiseObservable.create(promise);\n        };\n        ObservableWrapper.toPromise = function (obj) { return rxjs_operator_toPromise.toPromise.call(obj); };\n        return ObservableWrapper;\n    }());\n    /**\n     * Use by directives and components to emit custom Events.\n     *\n     * ### Examples\n     *\n     * In the following example, `Zippy` alternatively emits `open` and `close` events when its\n     * title gets clicked:\n     *\n     * ```\n     * @Component({\n     *   selector: 'zippy',\n     *   template: `\n     *   <div class=\"zippy\">\n     *     <div (click)=\"toggle()\">Toggle</div>\n     *     <div [hidden]=\"!visible\">\n     *       <ng-content></ng-content>\n     *     </div>\n     *  </div>`})\n     * export class Zippy {\n     *   visible: boolean = true;\n     *   @Output() open: EventEmitter<any> = new EventEmitter();\n     *   @Output() close: EventEmitter<any> = new EventEmitter();\n     *\n     *   toggle() {\n     *     this.visible = !this.visible;\n     *     if (this.visible) {\n     *       this.open.emit(null);\n     *     } else {\n     *       this.close.emit(null);\n     *     }\n     *   }\n     * }\n     * ```\n     *\n     * The events payload can be accessed by the parameter `$event` on the components output event\n     * handler:\n     *\n     * ```\n     * <zippy (open)=\"onOpen($event)\" (close)=\"onClose($event)\"></zippy>\n     * ```\n     *\n     * Uses Rx.Observable but provides an adapter to make it work as specified here:\n     * https://github.com/jhusain/observable-spec\n     *\n     * Once a reference implementation of the spec is available, switch to it.\n     * @stable\n     */\n    var EventEmitter = (function (_super) {\n        __extends(EventEmitter, _super);\n        /**\n         * Creates an instance of [EventEmitter], which depending on [isAsync],\n         * delivers events synchronously or asynchronously.\n         */\n        function EventEmitter(isAsync) {\n            if (isAsync === void 0) { isAsync = false; }\n            _super.call(this);\n            this.__isAsync = isAsync;\n        }\n        EventEmitter.prototype.emit = function (value) { _super.prototype.next.call(this, value); };\n        /**\n         * @deprecated - use .emit(value) instead\n         */\n        EventEmitter.prototype.next = function (value) { _super.prototype.next.call(this, value); };\n        EventEmitter.prototype.subscribe = function (generatorOrNext, error, complete) {\n            var schedulerFn;\n            var errorFn = function (err) { return null; };\n            var completeFn = function () { return null; };\n            if (generatorOrNext && typeof generatorOrNext === 'object') {\n                schedulerFn = this.__isAsync ? function (value /** TODO #9100 */) {\n                    setTimeout(function () { return generatorOrNext.next(value); });\n                } : function (value /** TODO #9100 */) { generatorOrNext.next(value); };\n                if (generatorOrNext.error) {\n                    errorFn = this.__isAsync ? function (err) { setTimeout(function () { return generatorOrNext.error(err); }); } :\n                        function (err) { generatorOrNext.error(err); };\n                }\n                if (generatorOrNext.complete) {\n                    completeFn = this.__isAsync ? function () { setTimeout(function () { return generatorOrNext.complete(); }); } :\n                        function () { generatorOrNext.complete(); };\n                }\n            }\n            else {\n                schedulerFn = this.__isAsync ? function (value /** TODO #9100 */) {\n                    setTimeout(function () { return generatorOrNext(value); });\n                } : function (value /** TODO #9100 */) { generatorOrNext(value); };\n                if (error) {\n                    errorFn =\n                        this.__isAsync ? function (err) { setTimeout(function () { return error(err); }); } : function (err) { error(err); };\n                }\n                if (complete) {\n                    completeFn =\n                        this.__isAsync ? function () { setTimeout(function () { return complete(); }); } : function () { complete(); };\n                }\n            }\n            return _super.prototype.subscribe.call(this, schedulerFn, errorFn, completeFn);\n        };\n        return EventEmitter;\n    }(rxjs_Subject.Subject));\n    /**\n     * A DI Token representing a unique string id assigned to the application by Angular and used\n     * primarily for prefixing application attributes and CSS styles when\n     * {@link ViewEncapsulation#Emulated} is being used.\n     *\n     * If you need to avoid randomly generated value to be used as an application id, you can provide\n     * a custom value via a DI provider <!-- TODO: provider --> configuring the root {@link Injector}\n     * using this token.\n     * @experimental\n     */\n    var APP_ID = new OpaqueToken('AppId');\n    function _appIdRandomProviderFactory() {\n        return \"\" + _randomChar() + _randomChar() + _randomChar();\n    }\n    /**\n     * Providers that will generate a random APP_ID_TOKEN.\n     * @experimental\n     */\n    var APP_ID_RANDOM_PROVIDER =\n    /*@ts2dart_const*/ /* @ts2dart_Provider */ {\n        provide: APP_ID,\n        useFactory: _appIdRandomProviderFactory,\n        deps: []\n    };\n    function _randomChar() {\n        return StringWrapper.fromCharCode(97 + Math.floor(Math.random() * 25));\n    }\n    /**\n     * A function that will be executed when a platform is initialized.\n     * @experimental\n     */\n    var PLATFORM_INITIALIZER =\n    /*@ts2dart_const*/ new OpaqueToken('Platform Initializer');\n    /**\n     * A function that will be executed when an application is initialized.\n     * @experimental\n     */\n    var APP_INITIALIZER =\n    /*@ts2dart_const*/ new OpaqueToken('Application Initializer');\n    /**\n     * A token which indicates the root directory of the application\n     * @experimental\n     */\n    var PACKAGE_ROOT_URL =\n    /*@ts2dart_const*/ new OpaqueToken('Application Packages Root URL');\n    // Note: Need to rename warn as in Dart\n    // class members and imports can't use the same name.\n    var _warnImpl = warn;\n    var Console = (function () {\n        function Console() {\n        }\n        Console.prototype.log = function (message) { print(message); };\n        // Note: for reporting errors use `DOM.logError()` as it is platform specific\n        Console.prototype.warn = function (message) { _warnImpl(message); };\n        return Console;\n    }());\n    /** @nocollapse */\n    Console.decorators = [\n        { type: Injectable },\n    ];\n    /* @ts2dart_const */\n    var DefaultIterableDifferFactory = (function () {\n        function DefaultIterableDifferFactory() {\n        }\n        DefaultIterableDifferFactory.prototype.supports = function (obj) { return isListLikeIterable(obj); };\n        DefaultIterableDifferFactory.prototype.create = function (cdRef, trackByFn) {\n            return new DefaultIterableDiffer(trackByFn);\n        };\n        return DefaultIterableDifferFactory;\n    }());\n    var trackByIdentity = function (index, item) { return item; };\n    /**\n     * @stable\n     */\n    var DefaultIterableDiffer = (function () {\n        function DefaultIterableDiffer(_trackByFn) {\n            this._trackByFn = _trackByFn;\n            this._length = null;\n            this._collection = null;\n            // Keeps track of the used records at any point in time (during & across `_check()` calls)\n            this._linkedRecords = null;\n            // Keeps track of the removed records at any point in time during `_check()` calls.\n            this._unlinkedRecords = null;\n            this._previousItHead = null;\n            this._itHead = null;\n            this._itTail = null;\n            this._additionsHead = null;\n            this._additionsTail = null;\n            this._movesHead = null;\n            this._movesTail = null;\n            this._removalsHead = null;\n            this._removalsTail = null;\n            // Keeps track of records where custom track by is the same, but item identity has changed\n            this._identityChangesHead = null;\n            this._identityChangesTail = null;\n            this._trackByFn = isPresent(this._trackByFn) ? this._trackByFn : trackByIdentity;\n        }\n        Object.defineProperty(DefaultIterableDiffer.prototype, \"collection\", {\n            get: function () { return this._collection; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(DefaultIterableDiffer.prototype, \"length\", {\n            get: function () { return this._length; },\n            enumerable: true,\n            configurable: true\n        });\n        DefaultIterableDiffer.prototype.forEachItem = function (fn) {\n            var record;\n            for (record = this._itHead; record !== null; record = record._next) {\n                fn(record);\n            }\n        };\n        DefaultIterableDiffer.prototype.forEachPreviousItem = function (fn) {\n            var record;\n            for (record = this._previousItHead; record !== null; record = record._nextPrevious) {\n                fn(record);\n            }\n        };\n        DefaultIterableDiffer.prototype.forEachAddedItem = function (fn) {\n            var record;\n            for (record = this._additionsHead; record !== null; record = record._nextAdded) {\n                fn(record);\n            }\n        };\n        DefaultIterableDiffer.prototype.forEachMovedItem = function (fn) {\n            var record;\n            for (record = this._movesHead; record !== null; record = record._nextMoved) {\n                fn(record);\n            }\n        };\n        DefaultIterableDiffer.prototype.forEachRemovedItem = function (fn) {\n            var record;\n            for (record = this._removalsHead; record !== null; record = record._nextRemoved) {\n                fn(record);\n            }\n        };\n        DefaultIterableDiffer.prototype.forEachIdentityChange = function (fn) {\n            var record;\n            for (record = this._identityChangesHead; record !== null; record = record._nextIdentityChange) {\n                fn(record);\n            }\n        };\n        DefaultIterableDiffer.prototype.diff = function (collection) {\n            if (isBlank(collection))\n                collection = [];\n            if (!isListLikeIterable(collection)) {\n                throw new BaseException(\"Error trying to diff '\" + collection + \"'\");\n            }\n            if (this.check(collection)) {\n                return this;\n            }\n            else {\n                return null;\n            }\n        };\n        DefaultIterableDiffer.prototype.onDestroy = function () { };\n        // todo(vicb): optim for UnmodifiableListView (frozen arrays)\n        DefaultIterableDiffer.prototype.check = function (collection) {\n            var _this = this;\n            this._reset();\n            var record = this._itHead;\n            var mayBeDirty = false;\n            var index;\n            var item;\n            var itemTrackBy;\n            if (isArray(collection)) {\n                var list = collection;\n                this._length = collection.length;\n                for (index = 0; index < this._length; index++) {\n                    item = list[index];\n                    itemTrackBy = this._trackByFn(index, item);\n                    if (record === null || !looseIdentical(record.trackById, itemTrackBy)) {\n                        record = this._mismatch(record, item, itemTrackBy, index);\n                        mayBeDirty = true;\n                    }\n                    else {\n                        if (mayBeDirty) {\n                            // TODO(misko): can we limit this to duplicates only?\n                            record = this._verifyReinsertion(record, item, itemTrackBy, index);\n                        }\n                        if (!looseIdentical(record.item, item))\n                            this._addIdentityChange(record, item);\n                    }\n                    record = record._next;\n                }\n            }\n            else {\n                index = 0;\n                iterateListLike(collection, function (item /** TODO #9100 */) {\n                    itemTrackBy = _this._trackByFn(index, item);\n                    if (record === null || !looseIdentical(record.trackById, itemTrackBy)) {\n                        record = _this._mismatch(record, item, itemTrackBy, index);\n                        mayBeDirty = true;\n                    }\n                    else {\n                        if (mayBeDirty) {\n                            // TODO(misko): can we limit this to duplicates only?\n                            record = _this._verifyReinsertion(record, item, itemTrackBy, index);\n                        }\n                        if (!looseIdentical(record.item, item))\n                            _this._addIdentityChange(record, item);\n                    }\n                    record = record._next;\n                    index++;\n                });\n                this._length = index;\n            }\n            this._truncate(record);\n            this._collection = collection;\n            return this.isDirty;\n        };\n        Object.defineProperty(DefaultIterableDiffer.prototype, \"isDirty\", {\n            /* CollectionChanges is considered dirty if it has any additions, moves, removals, or identity\n             * changes.\n             */\n            get: function () {\n                return this._additionsHead !== null || this._movesHead !== null ||\n                    this._removalsHead !== null || this._identityChangesHead !== null;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        /**\n         * Reset the state of the change objects to show no changes. This means set previousKey to\n         * currentKey, and clear all of the queues (additions, moves, removals).\n         * Set the previousIndexes of moved and added items to their currentIndexes\n         * Reset the list of additions, moves and removals\n         *\n         * @internal\n         */\n        DefaultIterableDiffer.prototype._reset = function () {\n            if (this.isDirty) {\n                var record;\n                var nextRecord;\n                for (record = this._previousItHead = this._itHead; record !== null; record = record._next) {\n                    record._nextPrevious = record._next;\n                }\n                for (record = this._additionsHead; record !== null; record = record._nextAdded) {\n                    record.previousIndex = record.currentIndex;\n                }\n                this._additionsHead = this._additionsTail = null;\n                for (record = this._movesHead; record !== null; record = nextRecord) {\n                    record.previousIndex = record.currentIndex;\n                    nextRecord = record._nextMoved;\n                }\n                this._movesHead = this._movesTail = null;\n                this._removalsHead = this._removalsTail = null;\n                this._identityChangesHead = this._identityChangesTail = null;\n            }\n        };\n        /**\n         * This is the core function which handles differences between collections.\n         *\n         * - `record` is the record which we saw at this position last time. If null then it is a new\n         *   item.\n         * - `item` is the current item in the collection\n         * - `index` is the position of the item in the collection\n         *\n         * @internal\n         */\n        DefaultIterableDiffer.prototype._mismatch = function (record, item, itemTrackBy, index) {\n            // The previous record after which we will append the current one.\n            var previousRecord;\n            if (record === null) {\n                previousRecord = this._itTail;\n            }\n            else {\n                previousRecord = record._prev;\n                // Remove the record from the collection since we know it does not match the item.\n                this._remove(record);\n            }\n            // Attempt to see if we have seen the item before.\n            record = this._linkedRecords === null ? null : this._linkedRecords.get(itemTrackBy, index);\n            if (record !== null) {\n                // We have seen this before, we need to move it forward in the collection.\n                // But first we need to check if identity changed, so we can update in view if necessary\n                if (!looseIdentical(record.item, item))\n                    this._addIdentityChange(record, item);\n                this._moveAfter(record, previousRecord, index);\n            }\n            else {\n                // Never seen it, check evicted list.\n                record = this._unlinkedRecords === null ? null : this._unlinkedRecords.get(itemTrackBy);\n                if (record !== null) {\n                    // It is an item which we have evicted earlier: reinsert it back into the list.\n                    // But first we need to check if identity changed, so we can update in view if necessary\n                    if (!looseIdentical(record.item, item))\n                        this._addIdentityChange(record, item);\n                    this._reinsertAfter(record, previousRecord, index);\n                }\n                else {\n                    // It is a new item: add it.\n                    record =\n                        this._addAfter(new CollectionChangeRecord(item, itemTrackBy), previousRecord, index);\n                }\n            }\n            return record;\n        };\n        /**\n         * This check is only needed if an array contains duplicates. (Short circuit of nothing dirty)\n         *\n         * Use case: `[a, a]` => `[b, a, a]`\n         *\n         * If we did not have this check then the insertion of `b` would:\n         *   1) evict first `a`\n         *   2) insert `b` at `0` index.\n         *   3) leave `a` at index `1` as is. <-- this is wrong!\n         *   3) reinsert `a` at index 2. <-- this is wrong!\n         *\n         * The correct behavior is:\n         *   1) evict first `a`\n         *   2) insert `b` at `0` index.\n         *   3) reinsert `a` at index 1.\n         *   3) move `a` at from `1` to `2`.\n         *\n         *\n         * Double check that we have not evicted a duplicate item. We need to check if the item type may\n         * have already been removed:\n         * The insertion of b will evict the first 'a'. If we don't reinsert it now it will be reinserted\n         * at the end. Which will show up as the two 'a's switching position. This is incorrect, since a\n         * better way to think of it is as insert of 'b' rather then switch 'a' with 'b' and then add 'a'\n         * at the end.\n         *\n         * @internal\n         */\n        DefaultIterableDiffer.prototype._verifyReinsertion = function (record, item, itemTrackBy, index) {\n            var reinsertRecord = this._unlinkedRecords === null ? null : this._unlinkedRecords.get(itemTrackBy);\n            if (reinsertRecord !== null) {\n                record = this._reinsertAfter(reinsertRecord, record._prev, index);\n            }\n            else if (record.currentIndex != index) {\n                record.currentIndex = index;\n                this._addToMoves(record, index);\n            }\n            return record;\n        };\n        /**\n         * Get rid of any excess {@link CollectionChangeRecord}s from the previous collection\n         *\n         * - `record` The first excess {@link CollectionChangeRecord}.\n         *\n         * @internal\n         */\n        DefaultIterableDiffer.prototype._truncate = function (record) {\n            // Anything after that needs to be removed;\n            while (record !== null) {\n                var nextRecord = record._next;\n                this._addToRemovals(this._unlink(record));\n                record = nextRecord;\n            }\n            if (this._unlinkedRecords !== null) {\n                this._unlinkedRecords.clear();\n            }\n            if (this._additionsTail !== null) {\n                this._additionsTail._nextAdded = null;\n            }\n            if (this._movesTail !== null) {\n                this._movesTail._nextMoved = null;\n            }\n            if (this._itTail !== null) {\n                this._itTail._next = null;\n            }\n            if (this._removalsTail !== null) {\n                this._removalsTail._nextRemoved = null;\n            }\n            if (this._identityChangesTail !== null) {\n                this._identityChangesTail._nextIdentityChange = null;\n            }\n        };\n        /** @internal */\n        DefaultIterableDiffer.prototype._reinsertAfter = function (record, prevRecord, index) {\n            if (this._unlinkedRecords !== null) {\n                this._unlinkedRecords.remove(record);\n            }\n            var prev = record._prevRemoved;\n            var next = record._nextRemoved;\n            if (prev === null) {\n                this._removalsHead = next;\n            }\n            else {\n                prev._nextRemoved = next;\n            }\n            if (next === null) {\n                this._removalsTail = prev;\n            }\n            else {\n                next._prevRemoved = prev;\n            }\n            this._insertAfter(record, prevRecord, index);\n            this._addToMoves(record, index);\n            return record;\n        };\n        /** @internal */\n        DefaultIterableDiffer.prototype._moveAfter = function (record, prevRecord, index) {\n            this._unlink(record);\n            this._insertAfter(record, prevRecord, index);\n            this._addToMoves(record, index);\n            return record;\n        };\n        /** @internal */\n        DefaultIterableDiffer.prototype._addAfter = function (record, prevRecord, index) {\n            this._insertAfter(record, prevRecord, index);\n            if (this._additionsTail === null) {\n                // todo(vicb)\n                // assert(this._additionsHead === null);\n                this._additionsTail = this._additionsHead = record;\n            }\n            else {\n                // todo(vicb)\n                // assert(_additionsTail._nextAdded === null);\n                // assert(record._nextAdded === null);\n                this._additionsTail = this._additionsTail._nextAdded = record;\n            }\n            return record;\n        };\n        /** @internal */\n        DefaultIterableDiffer.prototype._insertAfter = function (record, prevRecord, index) {\n            // todo(vicb)\n            // assert(record != prevRecord);\n            // assert(record._next === null);\n            // assert(record._prev === null);\n            var next = prevRecord === null ? this._itHead : prevRecord._next;\n            // todo(vicb)\n            // assert(next != record);\n            // assert(prevRecord != record);\n            record._next = next;\n            record._prev = prevRecord;\n            if (next === null) {\n                this._itTail = record;\n            }\n            else {\n                next._prev = record;\n            }\n            if (prevRecord === null) {\n                this._itHead = record;\n            }\n            else {\n                prevRecord._next = record;\n            }\n            if (this._linkedRecords === null) {\n                this._linkedRecords = new _DuplicateMap();\n            }\n            this._linkedRecords.put(record);\n            record.currentIndex = index;\n            return record;\n        };\n        /** @internal */\n        DefaultIterableDiffer.prototype._remove = function (record) {\n            return this._addToRemovals(this._unlink(record));\n        };\n        /** @internal */\n        DefaultIterableDiffer.prototype._unlink = function (record) {\n            if (this._linkedRecords !== null) {\n                this._linkedRecords.remove(record);\n            }\n            var prev = record._prev;\n            var next = record._next;\n            // todo(vicb)\n            // assert((record._prev = null) === null);\n            // assert((record._next = null) === null);\n            if (prev === null) {\n                this._itHead = next;\n            }\n            else {\n                prev._next = next;\n            }\n            if (next === null) {\n                this._itTail = prev;\n            }\n            else {\n                next._prev = prev;\n            }\n            return record;\n        };\n        /** @internal */\n        DefaultIterableDiffer.prototype._addToMoves = function (record, toIndex) {\n            // todo(vicb)\n            // assert(record._nextMoved === null);\n            if (record.previousIndex === toIndex) {\n                return record;\n            }\n            if (this._movesTail === null) {\n                // todo(vicb)\n                // assert(_movesHead === null);\n                this._movesTail = this._movesHead = record;\n            }\n            else {\n                // todo(vicb)\n                // assert(_movesTail._nextMoved === null);\n                this._movesTail = this._movesTail._nextMoved = record;\n            }\n            return record;\n        };\n        /** @internal */\n        DefaultIterableDiffer.prototype._addToRemovals = function (record) {\n            if (this._unlinkedRecords === null) {\n                this._unlinkedRecords = new _DuplicateMap();\n            }\n            this._unlinkedRecords.put(record);\n            record.currentIndex = null;\n            record._nextRemoved = null;\n            if (this._removalsTail === null) {\n                // todo(vicb)\n                // assert(_removalsHead === null);\n                this._removalsTail = this._removalsHead = record;\n                record._prevRemoved = null;\n            }\n            else {\n                // todo(vicb)\n                // assert(_removalsTail._nextRemoved === null);\n                // assert(record._nextRemoved === null);\n                record._prevRemoved = this._removalsTail;\n                this._removalsTail = this._removalsTail._nextRemoved = record;\n            }\n            return record;\n        };\n        /** @internal */\n        DefaultIterableDiffer.prototype._addIdentityChange = function (record, item) {\n            record.item = item;\n            if (this._identityChangesTail === null) {\n                this._identityChangesTail = this._identityChangesHead = record;\n            }\n            else {\n                this._identityChangesTail = this._identityChangesTail._nextIdentityChange = record;\n            }\n            return record;\n        };\n        DefaultIterableDiffer.prototype.toString = function () {\n            var list = [];\n            this.forEachItem(function (record /** TODO #9100 */) { return list.push(record); });\n            var previous = [];\n            this.forEachPreviousItem(function (record /** TODO #9100 */) { return previous.push(record); });\n            var additions = [];\n            this.forEachAddedItem(function (record /** TODO #9100 */) { return additions.push(record); });\n            var moves = [];\n            this.forEachMovedItem(function (record /** TODO #9100 */) { return moves.push(record); });\n            var removals = [];\n            this.forEachRemovedItem(function (record /** TODO #9100 */) { return removals.push(record); });\n            var identityChanges = [];\n            this.forEachIdentityChange(function (record /** TODO #9100 */) { return identityChanges.push(record); });\n            return 'collection: ' + list.join(', ') + '\\n' +\n                'previous: ' + previous.join(', ') + '\\n' +\n                'additions: ' + additions.join(', ') + '\\n' +\n                'moves: ' + moves.join(', ') + '\\n' +\n                'removals: ' + removals.join(', ') + '\\n' +\n                'identityChanges: ' + identityChanges.join(', ') + '\\n';\n        };\n        return DefaultIterableDiffer;\n    }());\n    /**\n     * @stable\n     */\n    var CollectionChangeRecord = (function () {\n        function CollectionChangeRecord(item, trackById) {\n            this.item = item;\n            this.trackById = trackById;\n            this.currentIndex = null;\n            this.previousIndex = null;\n            /** @internal */\n            this._nextPrevious = null;\n            /** @internal */\n            this._prev = null;\n            /** @internal */\n            this._next = null;\n            /** @internal */\n            this._prevDup = null;\n            /** @internal */\n            this._nextDup = null;\n            /** @internal */\n            this._prevRemoved = null;\n            /** @internal */\n            this._nextRemoved = null;\n            /** @internal */\n            this._nextAdded = null;\n            /** @internal */\n            this._nextMoved = null;\n            /** @internal */\n            this._nextIdentityChange = null;\n        }\n        CollectionChangeRecord.prototype.toString = function () {\n            return this.previousIndex === this.currentIndex ? stringify(this.item) :\n                stringify(this.item) + '[' +\n                    stringify(this.previousIndex) + '->' + stringify(this.currentIndex) + ']';\n        };\n        return CollectionChangeRecord;\n    }());\n    // A linked list of CollectionChangeRecords with the same CollectionChangeRecord.item\n    var _DuplicateItemRecordList = (function () {\n        function _DuplicateItemRecordList() {\n            /** @internal */\n            this._head = null;\n            /** @internal */\n            this._tail = null;\n        }\n        /**\n         * Append the record to the list of duplicates.\n         *\n         * Note: by design all records in the list of duplicates hold the same value in record.item.\n         */\n        _DuplicateItemRecordList.prototype.add = function (record) {\n            if (this._head === null) {\n                this._head = this._tail = record;\n                record._nextDup = null;\n                record._prevDup = null;\n            }\n            else {\n                // todo(vicb)\n                // assert(record.item ==  _head.item ||\n                //       record.item is num && record.item.isNaN && _head.item is num && _head.item.isNaN);\n                this._tail._nextDup = record;\n                record._prevDup = this._tail;\n                record._nextDup = null;\n                this._tail = record;\n            }\n        };\n        // Returns a CollectionChangeRecord having CollectionChangeRecord.trackById == trackById and\n        // CollectionChangeRecord.currentIndex >= afterIndex\n        _DuplicateItemRecordList.prototype.get = function (trackById, afterIndex) {\n            var record;\n            for (record = this._head; record !== null; record = record._nextDup) {\n                if ((afterIndex === null || afterIndex < record.currentIndex) &&\n                    looseIdentical(record.trackById, trackById)) {\n                    return record;\n                }\n            }\n            return null;\n        };\n        /**\n         * Remove one {@link CollectionChangeRecord} from the list of duplicates.\n         *\n         * Returns whether the list of duplicates is empty.\n         */\n        _DuplicateItemRecordList.prototype.remove = function (record) {\n            // todo(vicb)\n            // assert(() {\n            //  // verify that the record being removed is in the list.\n            //  for (CollectionChangeRecord cursor = _head; cursor != null; cursor = cursor._nextDup) {\n            //    if (identical(cursor, record)) return true;\n            //  }\n            //  return false;\n            //});\n            var prev = record._prevDup;\n            var next = record._nextDup;\n            if (prev === null) {\n                this._head = next;\n            }\n            else {\n                prev._nextDup = next;\n            }\n            if (next === null) {\n                this._tail = prev;\n            }\n            else {\n                next._prevDup = prev;\n            }\n            return this._head === null;\n        };\n        return _DuplicateItemRecordList;\n    }());\n    var _DuplicateMap = (function () {\n        function _DuplicateMap() {\n            this.map = new Map();\n        }\n        _DuplicateMap.prototype.put = function (record) {\n            // todo(vicb) handle corner cases\n            var key = getMapKey(record.trackById);\n            var duplicates = this.map.get(key);\n            if (!isPresent(duplicates)) {\n                duplicates = new _DuplicateItemRecordList();\n                this.map.set(key, duplicates);\n            }\n            duplicates.add(record);\n        };\n        /**\n         * Retrieve the `value` using key. Because the CollectionChangeRecord value may be one which we\n         * have already iterated over, we use the afterIndex to pretend it is not there.\n         *\n         * Use case: `[a, b, c, a, a]` if we are at index `3` which is the second `a` then asking if we\n         * have any more `a`s needs to return the last `a` not the first or second.\n         */\n        _DuplicateMap.prototype.get = function (trackById, afterIndex) {\n            if (afterIndex === void 0) { afterIndex = null; }\n            var key = getMapKey(trackById);\n            var recordList = this.map.get(key);\n            return isBlank(recordList) ? null : recordList.get(trackById, afterIndex);\n        };\n        /**\n         * Removes a {@link CollectionChangeRecord} from the list of duplicates.\n         *\n         * The list of duplicates also is removed from the map if it gets empty.\n         */\n        _DuplicateMap.prototype.remove = function (record) {\n            var key = getMapKey(record.trackById);\n            // todo(vicb)\n            // assert(this.map.containsKey(key));\n            var recordList = this.map.get(key);\n            // Remove the list of duplicates when it gets empty\n            if (recordList.remove(record)) {\n                this.map.delete(key);\n            }\n            return record;\n        };\n        Object.defineProperty(_DuplicateMap.prototype, \"isEmpty\", {\n            get: function () { return this.map.size === 0; },\n            enumerable: true,\n            configurable: true\n        });\n        _DuplicateMap.prototype.clear = function () { this.map.clear(); };\n        _DuplicateMap.prototype.toString = function () { return '_DuplicateMap(' + stringify(this.map) + ')'; };\n        return _DuplicateMap;\n    }());\n    /* @ts2dart_const */\n    var DefaultKeyValueDifferFactory = (function () {\n        function DefaultKeyValueDifferFactory() {\n        }\n        DefaultKeyValueDifferFactory.prototype.supports = function (obj) { return obj instanceof Map || isJsObject(obj); };\n        DefaultKeyValueDifferFactory.prototype.create = function (cdRef) { return new DefaultKeyValueDiffer(); };\n        return DefaultKeyValueDifferFactory;\n    }());\n    var DefaultKeyValueDiffer = (function () {\n        function DefaultKeyValueDiffer() {\n            this._records = new Map();\n            this._mapHead = null;\n            this._previousMapHead = null;\n            this._changesHead = null;\n            this._changesTail = null;\n            this._additionsHead = null;\n            this._additionsTail = null;\n            this._removalsHead = null;\n            this._removalsTail = null;\n        }\n        Object.defineProperty(DefaultKeyValueDiffer.prototype, \"isDirty\", {\n            get: function () {\n                return this._additionsHead !== null || this._changesHead !== null ||\n                    this._removalsHead !== null;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        DefaultKeyValueDiffer.prototype.forEachItem = function (fn) {\n            var record;\n            for (record = this._mapHead; record !== null; record = record._next) {\n                fn(record);\n            }\n        };\n        DefaultKeyValueDiffer.prototype.forEachPreviousItem = function (fn) {\n            var record;\n            for (record = this._previousMapHead; record !== null; record = record._nextPrevious) {\n                fn(record);\n            }\n        };\n        DefaultKeyValueDiffer.prototype.forEachChangedItem = function (fn) {\n            var record;\n            for (record = this._changesHead; record !== null; record = record._nextChanged) {\n                fn(record);\n            }\n        };\n        DefaultKeyValueDiffer.prototype.forEachAddedItem = function (fn) {\n            var record;\n            for (record = this._additionsHead; record !== null; record = record._nextAdded) {\n                fn(record);\n            }\n        };\n        DefaultKeyValueDiffer.prototype.forEachRemovedItem = function (fn) {\n            var record;\n            for (record = this._removalsHead; record !== null; record = record._nextRemoved) {\n                fn(record);\n            }\n        };\n        DefaultKeyValueDiffer.prototype.diff = function (map) {\n            if (isBlank(map))\n                map = MapWrapper.createFromPairs([]);\n            if (!(map instanceof Map || isJsObject(map))) {\n                throw new BaseException(\"Error trying to diff '\" + map + \"'\");\n            }\n            if (this.check(map)) {\n                return this;\n            }\n            else {\n                return null;\n            }\n        };\n        DefaultKeyValueDiffer.prototype.onDestroy = function () { };\n        DefaultKeyValueDiffer.prototype.check = function (map) {\n            var _this = this;\n            this._reset();\n            var records = this._records;\n            var oldSeqRecord = this._mapHead;\n            var lastOldSeqRecord = null;\n            var lastNewSeqRecord = null;\n            var seqChanged = false;\n            this._forEach(map, function (value /** TODO #9100 */, key /** TODO #9100 */) {\n                var newSeqRecord;\n                if (oldSeqRecord !== null && key === oldSeqRecord.key) {\n                    newSeqRecord = oldSeqRecord;\n                    if (!looseIdentical(value, oldSeqRecord.currentValue)) {\n                        oldSeqRecord.previousValue = oldSeqRecord.currentValue;\n                        oldSeqRecord.currentValue = value;\n                        _this._addToChanges(oldSeqRecord);\n                    }\n                }\n                else {\n                    seqChanged = true;\n                    if (oldSeqRecord !== null) {\n                        oldSeqRecord._next = null;\n                        _this._removeFromSeq(lastOldSeqRecord, oldSeqRecord);\n                        _this._addToRemovals(oldSeqRecord);\n                    }\n                    if (records.has(key)) {\n                        newSeqRecord = records.get(key);\n                    }\n                    else {\n                        newSeqRecord = new KeyValueChangeRecord(key);\n                        records.set(key, newSeqRecord);\n                        newSeqRecord.currentValue = value;\n                        _this._addToAdditions(newSeqRecord);\n                    }\n                }\n                if (seqChanged) {\n                    if (_this._isInRemovals(newSeqRecord)) {\n                        _this._removeFromRemovals(newSeqRecord);\n                    }\n                    if (lastNewSeqRecord == null) {\n                        _this._mapHead = newSeqRecord;\n                    }\n                    else {\n                        lastNewSeqRecord._next = newSeqRecord;\n                    }\n                }\n                lastOldSeqRecord = oldSeqRecord;\n                lastNewSeqRecord = newSeqRecord;\n                oldSeqRecord = oldSeqRecord === null ? null : oldSeqRecord._next;\n            });\n            this._truncate(lastOldSeqRecord, oldSeqRecord);\n            return this.isDirty;\n        };\n        /** @internal */\n        DefaultKeyValueDiffer.prototype._reset = function () {\n            if (this.isDirty) {\n                var record;\n                // Record the state of the mapping\n                for (record = this._previousMapHead = this._mapHead; record !== null; record = record._next) {\n                    record._nextPrevious = record._next;\n                }\n                for (record = this._changesHead; record !== null; record = record._nextChanged) {\n                    record.previousValue = record.currentValue;\n                }\n                for (record = this._additionsHead; record != null; record = record._nextAdded) {\n                    record.previousValue = record.currentValue;\n                }\n                // todo(vicb) once assert is supported\n                // assert(() {\n                //  var r = _changesHead;\n                //  while (r != null) {\n                //    var nextRecord = r._nextChanged;\n                //    r._nextChanged = null;\n                //    r = nextRecord;\n                //  }\n                //\n                //  r = _additionsHead;\n                //  while (r != null) {\n                //    var nextRecord = r._nextAdded;\n                //    r._nextAdded = null;\n                //    r = nextRecord;\n                //  }\n                //\n                //  r = _removalsHead;\n                //  while (r != null) {\n                //    var nextRecord = r._nextRemoved;\n                //    r._nextRemoved = null;\n                //    r = nextRecord;\n                //  }\n                //\n                //  return true;\n                //});\n                this._changesHead = this._changesTail = null;\n                this._additionsHead = this._additionsTail = null;\n                this._removalsHead = this._removalsTail = null;\n            }\n        };\n        /** @internal */\n        DefaultKeyValueDiffer.prototype._truncate = function (lastRecord, record) {\n            while (record !== null) {\n                if (lastRecord === null) {\n                    this._mapHead = null;\n                }\n                else {\n                    lastRecord._next = null;\n                }\n                var nextRecord = record._next;\n                // todo(vicb) assert\n                // assert((() {\n                //  record._next = null;\n                //  return true;\n                //}));\n                this._addToRemovals(record);\n                lastRecord = record;\n                record = nextRecord;\n            }\n            for (var rec = this._removalsHead; rec !== null; rec = rec._nextRemoved) {\n                rec.previousValue = rec.currentValue;\n                rec.currentValue = null;\n                this._records.delete(rec.key);\n            }\n        };\n        /** @internal */\n        DefaultKeyValueDiffer.prototype._isInRemovals = function (record) {\n            return record === this._removalsHead || record._nextRemoved !== null ||\n                record._prevRemoved !== null;\n        };\n        /** @internal */\n        DefaultKeyValueDiffer.prototype._addToRemovals = function (record) {\n            // todo(vicb) assert\n            // assert(record._next == null);\n            // assert(record._nextAdded == null);\n            // assert(record._nextChanged == null);\n            // assert(record._nextRemoved == null);\n            // assert(record._prevRemoved == null);\n            if (this._removalsHead === null) {\n                this._removalsHead = this._removalsTail = record;\n            }\n            else {\n                this._removalsTail._nextRemoved = record;\n                record._prevRemoved = this._removalsTail;\n                this._removalsTail = record;\n            }\n        };\n        /** @internal */\n        DefaultKeyValueDiffer.prototype._removeFromSeq = function (prev, record) {\n            var next = record._next;\n            if (prev === null) {\n                this._mapHead = next;\n            }\n            else {\n                prev._next = next;\n            }\n            // todo(vicb) assert\n            // assert((() {\n            //  record._next = null;\n            //  return true;\n            //})());\n        };\n        /** @internal */\n        DefaultKeyValueDiffer.prototype._removeFromRemovals = function (record) {\n            // todo(vicb) assert\n            // assert(record._next == null);\n            // assert(record._nextAdded == null);\n            // assert(record._nextChanged == null);\n            var prev = record._prevRemoved;\n            var next = record._nextRemoved;\n            if (prev === null) {\n                this._removalsHead = next;\n            }\n            else {\n                prev._nextRemoved = next;\n            }\n            if (next === null) {\n                this._removalsTail = prev;\n            }\n            else {\n                next._prevRemoved = prev;\n            }\n            record._prevRemoved = record._nextRemoved = null;\n        };\n        /** @internal */\n        DefaultKeyValueDiffer.prototype._addToAdditions = function (record) {\n            // todo(vicb): assert\n            // assert(record._next == null);\n            // assert(record._nextAdded == null);\n            // assert(record._nextChanged == null);\n            // assert(record._nextRemoved == null);\n            // assert(record._prevRemoved == null);\n            if (this._additionsHead === null) {\n                this._additionsHead = this._additionsTail = record;\n            }\n            else {\n                this._additionsTail._nextAdded = record;\n                this._additionsTail = record;\n            }\n        };\n        /** @internal */\n        DefaultKeyValueDiffer.prototype._addToChanges = function (record) {\n            // todo(vicb) assert\n            // assert(record._nextAdded == null);\n            // assert(record._nextChanged == null);\n            // assert(record._nextRemoved == null);\n            // assert(record._prevRemoved == null);\n            if (this._changesHead === null) {\n                this._changesHead = this._changesTail = record;\n            }\n            else {\n                this._changesTail._nextChanged = record;\n                this._changesTail = record;\n            }\n        };\n        DefaultKeyValueDiffer.prototype.toString = function () {\n            var items = [];\n            var previous = [];\n            var changes = [];\n            var additions = [];\n            var removals = [];\n            var record;\n            for (record = this._mapHead; record !== null; record = record._next) {\n                items.push(stringify(record));\n            }\n            for (record = this._previousMapHead; record !== null; record = record._nextPrevious) {\n                previous.push(stringify(record));\n            }\n            for (record = this._changesHead; record !== null; record = record._nextChanged) {\n                changes.push(stringify(record));\n            }\n            for (record = this._additionsHead; record !== null; record = record._nextAdded) {\n                additions.push(stringify(record));\n            }\n            for (record = this._removalsHead; record !== null; record = record._nextRemoved) {\n                removals.push(stringify(record));\n            }\n            return 'map: ' + items.join(', ') + '\\n' +\n                'previous: ' + previous.join(', ') + '\\n' +\n                'additions: ' + additions.join(', ') + '\\n' +\n                'changes: ' + changes.join(', ') + '\\n' +\n                'removals: ' + removals.join(', ') + '\\n';\n        };\n        /** @internal */\n        DefaultKeyValueDiffer.prototype._forEach = function (obj /** TODO #9100 */, fn) {\n            if (obj instanceof Map) {\n                obj.forEach(fn);\n            }\n            else {\n                StringMapWrapper.forEach(obj, fn);\n            }\n        };\n        return DefaultKeyValueDiffer;\n    }());\n    /**\n     * @stable\n     */\n    var KeyValueChangeRecord = (function () {\n        function KeyValueChangeRecord(key) {\n            this.key = key;\n            this.previousValue = null;\n            this.currentValue = null;\n            /** @internal */\n            this._nextPrevious = null;\n            /** @internal */\n            this._next = null;\n            /** @internal */\n            this._nextAdded = null;\n            /** @internal */\n            this._nextRemoved = null;\n            /** @internal */\n            this._prevRemoved = null;\n            /** @internal */\n            this._nextChanged = null;\n        }\n        KeyValueChangeRecord.prototype.toString = function () {\n            return looseIdentical(this.previousValue, this.currentValue) ?\n                stringify(this.key) :\n                (stringify(this.key) + '[' + stringify(this.previousValue) + '->' +\n                    stringify(this.currentValue) + ']');\n        };\n        return KeyValueChangeRecord;\n    }());\n    /**\n     * A repository of different iterable diffing strategies used by NgFor, NgClass, and others.\n     * @ts2dart_const\n     * @stable\n     */\n    var IterableDiffers = (function () {\n        /*@ts2dart_const*/\n        function IterableDiffers(factories) {\n            this.factories = factories;\n        }\n        IterableDiffers.create = function (factories, parent) {\n            if (isPresent(parent)) {\n                var copied = ListWrapper.clone(parent.factories);\n                factories = factories.concat(copied);\n                return new IterableDiffers(factories);\n            }\n            else {\n                return new IterableDiffers(factories);\n            }\n        };\n        /**\n         * Takes an array of {@link IterableDifferFactory} and returns a provider used to extend the\n         * inherited {@link IterableDiffers} instance with the provided factories and return a new\n         * {@link IterableDiffers} instance.\n         *\n         * The following example shows how to extend an existing list of factories,\n               * which will only be applied to the injector for this component and its children.\n               * This step is all that's required to make a new {@link IterableDiffer} available.\n         *\n         * ### Example\n         *\n         * ```\n         * @Component({\n         *   viewProviders: [\n         *     IterableDiffers.extend([new ImmutableListDiffer()])\n         *   ]\n         * })\n         * ```\n         */\n        IterableDiffers.extend = function (factories) {\n            return new Provider(IterableDiffers, {\n                useFactory: function (parent) {\n                    if (isBlank(parent)) {\n                        // Typically would occur when calling IterableDiffers.extend inside of dependencies passed\n                        // to\n                        // bootstrap(), which would override default pipes instead of extending them.\n                        throw new BaseException('Cannot extend IterableDiffers without a parent injector');\n                    }\n                    return IterableDiffers.create(factories, parent);\n                },\n                // Dependency technically isn't optional, but we can provide a better error message this way.\n                deps: [[IterableDiffers, new SkipSelfMetadata(), new OptionalMetadata()]]\n            });\n        };\n        IterableDiffers.prototype.find = function (iterable) {\n            var factory = this.factories.find(function (f) { return f.supports(iterable); });\n            if (isPresent(factory)) {\n                return factory;\n            }\n            else {\n                throw new BaseException(\"Cannot find a differ supporting object '\" + iterable + \"' of type '\" + getTypeNameForDebugging(iterable) + \"'\");\n            }\n        };\n        return IterableDiffers;\n    }());\n    /**\n     * A repository of different Map diffing strategies used by NgClass, NgStyle, and others.\n     * @ts2dart_const\n     * @stable\n     */\n    var KeyValueDiffers = (function () {\n        /*@ts2dart_const*/\n        function KeyValueDiffers(factories) {\n            this.factories = factories;\n        }\n        KeyValueDiffers.create = function (factories, parent) {\n            if (isPresent(parent)) {\n                var copied = ListWrapper.clone(parent.factories);\n                factories = factories.concat(copied);\n                return new KeyValueDiffers(factories);\n            }\n            else {\n                return new KeyValueDiffers(factories);\n            }\n        };\n        /**\n         * Takes an array of {@link KeyValueDifferFactory} and returns a provider used to extend the\n         * inherited {@link KeyValueDiffers} instance with the provided factories and return a new\n         * {@link KeyValueDiffers} instance.\n         *\n         * The following example shows how to extend an existing list of factories,\n               * which will only be applied to the injector for this component and its children.\n               * This step is all that's required to make a new {@link KeyValueDiffer} available.\n         *\n         * ### Example\n         *\n         * ```\n         * @Component({\n         *   viewProviders: [\n         *     KeyValueDiffers.extend([new ImmutableMapDiffer()])\n         *   ]\n         * })\n         * ```\n         */\n        KeyValueDiffers.extend = function (factories) {\n            return new Provider(KeyValueDiffers, {\n                useFactory: function (parent) {\n                    if (isBlank(parent)) {\n                        // Typically would occur when calling KeyValueDiffers.extend inside of dependencies passed\n                        // to\n                        // bootstrap(), which would override default pipes instead of extending them.\n                        throw new BaseException('Cannot extend KeyValueDiffers without a parent injector');\n                    }\n                    return KeyValueDiffers.create(factories, parent);\n                },\n                // Dependency technically isn't optional, but we can provide a better error message this way.\n                deps: [[KeyValueDiffers, new SkipSelfMetadata(), new OptionalMetadata()]]\n            });\n        };\n        KeyValueDiffers.prototype.find = function (kv) {\n            var factory = this.factories.find(function (f) { return f.supports(kv); });\n            if (isPresent(factory)) {\n                return factory;\n            }\n            else {\n                throw new BaseException(\"Cannot find a differ supporting object '\" + kv + \"'\");\n            }\n        };\n        return KeyValueDiffers;\n    }());\n    var uninitialized = new Object();\n    function devModeEqual(a, b) {\n        if (isListLikeIterable(a) && isListLikeIterable(b)) {\n            return areIterablesEqual(a, b, devModeEqual);\n        }\n        else if (!isListLikeIterable(a) && !isPrimitive(a) && !isListLikeIterable(b) && !isPrimitive(b)) {\n            return true;\n        }\n        else {\n            return looseIdentical(a, b);\n        }\n    }\n    /**\n     * Indicates that the result of a {@link PipeMetadata} transformation has changed even though the\n     * reference\n     * has not changed.\n     *\n     * The wrapped value will be unwrapped by change detection, and the unwrapped value will be stored.\n     *\n     * Example:\n     *\n     * ```\n     * if (this._latestValue === this._latestReturnedValue) {\n     *    return this._latestReturnedValue;\n     *  } else {\n     *    this._latestReturnedValue = this._latestValue;\n     *    return WrappedValue.wrap(this._latestValue); // this will force update\n     *  }\n     * ```\n     * @stable\n     */\n    var WrappedValue = (function () {\n        function WrappedValue(wrapped) {\n            this.wrapped = wrapped;\n        }\n        WrappedValue.wrap = function (value) { return new WrappedValue(value); };\n        return WrappedValue;\n    }());\n    /**\n     * Helper class for unwrapping WrappedValue s\n     */\n    var ValueUnwrapper = (function () {\n        function ValueUnwrapper() {\n            this.hasWrappedValue = false;\n        }\n        ValueUnwrapper.prototype.unwrap = function (value) {\n            if (value instanceof WrappedValue) {\n                this.hasWrappedValue = true;\n                return value.wrapped;\n            }\n            return value;\n        };\n        ValueUnwrapper.prototype.reset = function () { this.hasWrappedValue = false; };\n        return ValueUnwrapper;\n    }());\n    /**\n     * Represents a basic change from a previous to a new value.\n     * @stable\n     */\n    var SimpleChange = (function () {\n        function SimpleChange(previousValue, currentValue) {\n            this.previousValue = previousValue;\n            this.currentValue = currentValue;\n        }\n        /**\n         * Check whether the new value is the first value assigned.\n         */\n        SimpleChange.prototype.isFirstChange = function () { return this.previousValue === uninitialized; };\n        return SimpleChange;\n    }());\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * @stable\n     */\n    var ChangeDetectorRef = (function () {\n        function ChangeDetectorRef() {\n        }\n        return ChangeDetectorRef;\n    }());\n    /**\n     * Structural diffing for `Object`s and `Map`s.\n     */\n    var keyValDiff =\n    /*@ts2dart_const*/ [new DefaultKeyValueDifferFactory()];\n    /**\n     * Structural diffing for `Iterable` types such as `Array`s.\n     */\n    var iterableDiff =\n    /*@ts2dart_const*/ [new DefaultIterableDifferFactory()];\n    var defaultIterableDiffers = new IterableDiffers(iterableDiff);\n    var defaultKeyValueDiffers = new KeyValueDiffers(keyValDiff);\n    /**\n     * @experimental\n     */\n    var RenderComponentType = (function () {\n        function RenderComponentType(id, templateUrl, slotCount, encapsulation, styles) {\n            this.id = id;\n            this.templateUrl = templateUrl;\n            this.slotCount = slotCount;\n            this.encapsulation = encapsulation;\n            this.styles = styles;\n        }\n        return RenderComponentType;\n    }());\n    var RenderDebugInfo = (function () {\n        function RenderDebugInfo() {\n        }\n        Object.defineProperty(RenderDebugInfo.prototype, \"injector\", {\n            get: function () { return unimplemented(); },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(RenderDebugInfo.prototype, \"component\", {\n            get: function () { return unimplemented(); },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(RenderDebugInfo.prototype, \"providerTokens\", {\n            get: function () { return unimplemented(); },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(RenderDebugInfo.prototype, \"references\", {\n            get: function () { return unimplemented(); },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(RenderDebugInfo.prototype, \"context\", {\n            get: function () { return unimplemented(); },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(RenderDebugInfo.prototype, \"source\", {\n            get: function () { return unimplemented(); },\n            enumerable: true,\n            configurable: true\n        });\n        return RenderDebugInfo;\n    }());\n    /**\n     * @experimental\n     */\n    var Renderer = (function () {\n        function Renderer() {\n        }\n        return Renderer;\n    }());\n    /**\n     * Injectable service that provides a low-level interface for modifying the UI.\n     *\n     * Use this service to bypass Angular's templating and make custom UI changes that can't be\n     * expressed declaratively. For example if you need to set a property or an attribute whose name is\n     * not statically known, use {@link #setElementProperty} or {@link #setElementAttribute}\n     * respectively.\n     *\n     * If you are implementing a custom renderer, you must implement this interface.\n     *\n     * The default Renderer implementation is `DomRenderer`. Also available is `WebWorkerRenderer`.\n     * @experimental\n     */\n    var RootRenderer = (function () {\n        function RootRenderer() {\n        }\n        return RootRenderer;\n    }());\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * A SecurityContext marks a location that has dangerous security implications, e.g. a DOM property\n     * like `innerHTML` that could cause Cross Site Scripting (XSS) security bugs when improperly\n     * handled.\n     *\n     * See DomSanitizationService for more details on security in Angular applications.\n     *\n     * @stable\n     */\n    var SecurityContext;\n    (function (SecurityContext) {\n        SecurityContext[SecurityContext[\"NONE\"] = 0] = \"NONE\";\n        SecurityContext[SecurityContext[\"HTML\"] = 1] = \"HTML\";\n        SecurityContext[SecurityContext[\"STYLE\"] = 2] = \"STYLE\";\n        SecurityContext[SecurityContext[\"SCRIPT\"] = 3] = \"SCRIPT\";\n        SecurityContext[SecurityContext[\"URL\"] = 4] = \"URL\";\n        SecurityContext[SecurityContext[\"RESOURCE_URL\"] = 5] = \"RESOURCE_URL\";\n    })(SecurityContext || (SecurityContext = {}));\n    /**\n     * SanitizationService is used by the views to sanitize potentially dangerous values. This is a\n     * private API, use code should only refer to DomSanitizationService.\n     *\n     * @stable\n     */\n    var SanitizationService = (function () {\n        function SanitizationService() {\n        }\n        return SanitizationService;\n    }());\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * A wrapper around a native element inside of a View.\n     *\n     * An `ElementRef` is backed by a render-specific element. In the browser, this is usually a DOM\n     * element.\n     *\n     * @security Permitting direct access to the DOM can make your application more vulnerable to\n     * XSS attacks. Carefully review any use of `ElementRef` in your code. For more detail, see the\n     * [Security Guide](http://g.co/ng/security).\n     *\n     * @stable\n     */\n    // Note: We don't expose things like `Injector`, `ViewContainer`, ... here,\n    // i.e. users have to ask for what they need. With that, we can build better analysis tools\n    // and could do better codegen in the future.\n    var ElementRef = (function () {\n        function ElementRef(nativeElement) {\n            this.nativeElement = nativeElement;\n        }\n        return ElementRef;\n    }());\n    var trace;\n    var events;\n    function detectWTF() {\n        var wtf = global$1['wtf'];\n        if (wtf) {\n            trace = wtf['trace'];\n            if (trace) {\n                events = trace['events'];\n                return true;\n            }\n        }\n        return false;\n    }\n    function createScope(signature, flags) {\n        if (flags === void 0) { flags = null; }\n        return events.createScope(signature, flags);\n    }\n    function leave(scope, returnValue) {\n        trace.leaveScope(scope, returnValue);\n        return returnValue;\n    }\n    function startTimeRange(rangeType, action) {\n        return trace.beginTimeRange(rangeType, action);\n    }\n    function endTimeRange(range) {\n        trace.endTimeRange(range);\n    }\n    // Change exports to const once https://github.com/angular/ts2dart/issues/150\n    /**\n     * True if WTF is enabled.\n     */\n    var wtfEnabled = detectWTF();\n    function noopScope(arg0, arg1) {\n        return null;\n    }\n    /**\n     * Create trace scope.\n     *\n     * Scopes must be strictly nested and are analogous to stack frames, but\n     * do not have to follow the stack frames. Instead it is recommended that they follow logical\n     * nesting. You may want to use\n     * [Event\n     * Signatures](http://google.github.io/tracing-framework/instrumenting-code.html#custom-events)\n     * as they are defined in WTF.\n     *\n     * Used to mark scope entry. The return value is used to leave the scope.\n     *\n     *     var myScope = wtfCreateScope('MyClass#myMethod(ascii someVal)');\n     *\n     *     someMethod() {\n     *        var s = myScope('Foo'); // 'Foo' gets stored in tracing UI\n     *        // DO SOME WORK HERE\n     *        return wtfLeave(s, 123); // Return value 123\n     *     }\n     *\n     * Note, adding try-finally block around the work to ensure that `wtfLeave` gets called can\n     * negatively impact the performance of your application. For this reason we recommend that\n     * you don't add them to ensure that `wtfLeave` gets called. In production `wtfLeave` is a noop and\n     * so try-finally block has no value. When debugging perf issues, skipping `wtfLeave`, do to\n     * exception, will produce incorrect trace, but presence of exception signifies logic error which\n     * needs to be fixed before the app should be profiled. Add try-finally only when you expect that\n     * an exception is expected during normal execution while profiling.\n     *\n     * @experimental\n     */\n    var wtfCreateScope = wtfEnabled ? createScope : function (signature, flags) { return noopScope; };\n    /**\n     * Used to mark end of Scope.\n     *\n     * - `scope` to end.\n     * - `returnValue` (optional) to be passed to the WTF.\n     *\n     * Returns the `returnValue for easy chaining.\n     * @experimental\n     */\n    var wtfLeave = wtfEnabled ? leave : function (s, r) { return r; };\n    /**\n     * Used to mark Async start. Async are similar to scope but they don't have to be strictly nested.\n     * The return value is used in the call to [endAsync]. Async ranges only work if WTF has been\n     * enabled.\n     *\n     *     someMethod() {\n     *        var s = wtfStartTimeRange('HTTP:GET', 'some.url');\n     *        var future = new Future.delay(5).then((_) {\n     *          wtfEndTimeRange(s);\n     *        });\n     *     }\n     * @experimental\n     */\n    var wtfStartTimeRange = wtfEnabled ? startTimeRange : function (rangeType, action) { return null; };\n    /**\n     * Ends a async time range operation.\n     * [range] is the return value from [wtfStartTimeRange] Async ranges only work if WTF has been\n     * enabled.\n     * @experimental\n     */\n    var wtfEndTimeRange = wtfEnabled ? endTimeRange : function (r) { return null; };\n    /**\n     * Represents a container where one or more Views can be attached.\n     *\n     * The container can contain two kinds of Views. Host Views, created by instantiating a\n     * {@link Component} via {@link #createComponent}, and Embedded Views, created by instantiating an\n     * {@link TemplateRef Embedded Template} via {@link #createEmbeddedView}.\n     *\n     * The location of the View Container within the containing View is specified by the Anchor\n     * `element`. Each View Container can have only one Anchor Element and each Anchor Element can only\n     * have a single View Container.\n     *\n     * Root elements of Views attached to this container become siblings of the Anchor Element in\n     * the Rendered View.\n     *\n     * To access a `ViewContainerRef` of an Element, you can either place a {@link Directive} injected\n     * with `ViewContainerRef` on the Element, or you obtain it via a {@link ViewChild} query.\n     * @stable\n     */\n    var ViewContainerRef = (function () {\n        function ViewContainerRef() {\n        }\n        Object.defineProperty(ViewContainerRef.prototype, \"element\", {\n            /**\n             * Anchor element that specifies the location of this container in the containing View.\n             * <!-- TODO: rename to anchorElement -->\n             */\n            get: function () { return unimplemented(); },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(ViewContainerRef.prototype, \"injector\", {\n            get: function () { return unimplemented(); },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(ViewContainerRef.prototype, \"parentInjector\", {\n            get: function () { return unimplemented(); },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(ViewContainerRef.prototype, \"length\", {\n            /**\n             * Returns the number of Views currently attached to this container.\n             */\n            get: function () { return unimplemented(); },\n            enumerable: true,\n            configurable: true\n        });\n        ;\n        return ViewContainerRef;\n    }());\n    var ViewContainerRef_ = (function () {\n        function ViewContainerRef_(_element) {\n            this._element = _element;\n            /** @internal */\n            this._createComponentInContainerScope = wtfCreateScope('ViewContainerRef#createComponent()');\n            /** @internal */\n            this._insertScope = wtfCreateScope('ViewContainerRef#insert()');\n            /** @internal */\n            this._removeScope = wtfCreateScope('ViewContainerRef#remove()');\n            /** @internal */\n            this._detachScope = wtfCreateScope('ViewContainerRef#detach()');\n        }\n        ViewContainerRef_.prototype.get = function (index) { return this._element.nestedViews[index].ref; };\n        Object.defineProperty(ViewContainerRef_.prototype, \"length\", {\n            get: function () {\n                var views = this._element.nestedViews;\n                return isPresent(views) ? views.length : 0;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(ViewContainerRef_.prototype, \"element\", {\n            get: function () { return this._element.elementRef; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(ViewContainerRef_.prototype, \"injector\", {\n            get: function () { return this._element.injector; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(ViewContainerRef_.prototype, \"parentInjector\", {\n            get: function () { return this._element.parentInjector; },\n            enumerable: true,\n            configurable: true\n        });\n        // TODO(rado): profile and decide whether bounds checks should be added\n        // to the methods below.\n        ViewContainerRef_.prototype.createEmbeddedView = function (templateRef, context, index) {\n            if (context === void 0) { context = null; }\n            if (index === void 0) { index = -1; }\n            var viewRef = templateRef.createEmbeddedView(context);\n            this.insert(viewRef, index);\n            return viewRef;\n        };\n        ViewContainerRef_.prototype.createComponent = function (componentFactory, index, injector, projectableNodes) {\n            if (index === void 0) { index = -1; }\n            if (injector === void 0) { injector = null; }\n            if (projectableNodes === void 0) { projectableNodes = null; }\n            var s = this._createComponentInContainerScope();\n            var contextInjector = isPresent(injector) ? injector : this._element.parentInjector;\n            var componentRef = componentFactory.create(contextInjector, projectableNodes);\n            this.insert(componentRef.hostView, index);\n            return wtfLeave(s, componentRef);\n        };\n        // TODO(i): refactor insert+remove into move\n        ViewContainerRef_.prototype.insert = function (viewRef, index) {\n            if (index === void 0) { index = -1; }\n            var s = this._insertScope();\n            if (index == -1)\n                index = this.length;\n            var viewRef_ = viewRef;\n            this._element.attachView(viewRef_.internalView, index);\n            return wtfLeave(s, viewRef_);\n        };\n        ViewContainerRef_.prototype.indexOf = function (viewRef) {\n            return ListWrapper.indexOf(this._element.nestedViews, viewRef.internalView);\n        };\n        // TODO(i): rename to destroy\n        ViewContainerRef_.prototype.remove = function (index) {\n            if (index === void 0) { index = -1; }\n            var s = this._removeScope();\n            if (index == -1)\n                index = this.length - 1;\n            var view = this._element.detachView(index);\n            view.destroy();\n            // view is intentionally not returned to the client.\n            wtfLeave(s);\n        };\n        // TODO(i): refactor insert+remove into move\n        ViewContainerRef_.prototype.detach = function (index) {\n            if (index === void 0) { index = -1; }\n            var s = this._detachScope();\n            if (index == -1)\n                index = this.length - 1;\n            var view = this._element.detachView(index);\n            return wtfLeave(s, view.ref);\n        };\n        ViewContainerRef_.prototype.clear = function () {\n            for (var i = this.length - 1; i >= 0; i--) {\n                this.remove(i);\n            }\n        };\n        return ViewContainerRef_;\n    }());\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var ViewType;\n    (function (ViewType) {\n        // A view that contains the host element with bound component directive.\n        // Contains a COMPONENT view\n        ViewType[ViewType[\"HOST\"] = 0] = \"HOST\";\n        // The view of the component\n        // Can contain 0 to n EMBEDDED views\n        ViewType[ViewType[\"COMPONENT\"] = 1] = \"COMPONENT\";\n        // A view that is embedded into another View via a <template> element\n        // inside of a COMPONENT view\n        ViewType[ViewType[\"EMBEDDED\"] = 2] = \"EMBEDDED\";\n    })(ViewType || (ViewType = {}));\n    /**\n     * An AppElement is created for elements that have a ViewContainerRef,\n     * a nested component or a <template> element to keep data around\n     * that is needed for later instantiations.\n     */\n    var AppElement = (function () {\n        function AppElement(index, parentIndex, parentView, nativeElement) {\n            this.index = index;\n            this.parentIndex = parentIndex;\n            this.parentView = parentView;\n            this.nativeElement = nativeElement;\n            this.nestedViews = null;\n            this.componentView = null;\n        }\n        Object.defineProperty(AppElement.prototype, \"elementRef\", {\n            get: function () { return new ElementRef(this.nativeElement); },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(AppElement.prototype, \"vcRef\", {\n            get: function () { return new ViewContainerRef_(this); },\n            enumerable: true,\n            configurable: true\n        });\n        AppElement.prototype.initComponent = function (component, componentConstructorViewQueries, view) {\n            this.component = component;\n            this.componentConstructorViewQueries = componentConstructorViewQueries;\n            this.componentView = view;\n        };\n        Object.defineProperty(AppElement.prototype, \"parentInjector\", {\n            get: function () { return this.parentView.injector(this.parentIndex); },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(AppElement.prototype, \"injector\", {\n            get: function () { return this.parentView.injector(this.index); },\n            enumerable: true,\n            configurable: true\n        });\n        AppElement.prototype.mapNestedViews = function (nestedViewClass, callback) {\n            var result = [];\n            if (isPresent(this.nestedViews)) {\n                this.nestedViews.forEach(function (nestedView) {\n                    if (nestedView.clazz === nestedViewClass) {\n                        result.push(callback(nestedView));\n                    }\n                });\n            }\n            return result;\n        };\n        AppElement.prototype.attachView = function (view, viewIndex) {\n            if (view.type === ViewType.COMPONENT) {\n                throw new BaseException(\"Component views can't be moved!\");\n            }\n            var nestedViews = this.nestedViews;\n            if (nestedViews == null) {\n                nestedViews = [];\n                this.nestedViews = nestedViews;\n            }\n            ListWrapper.insert(nestedViews, viewIndex, view);\n            var refRenderNode;\n            if (viewIndex > 0) {\n                var prevView = nestedViews[viewIndex - 1];\n                refRenderNode = prevView.lastRootNode;\n            }\n            else {\n                refRenderNode = this.nativeElement;\n            }\n            if (isPresent(refRenderNode)) {\n                view.renderer.attachViewAfter(refRenderNode, view.flatRootNodes);\n            }\n            view.addToContentChildren(this);\n        };\n        AppElement.prototype.detachView = function (viewIndex) {\n            var view = ListWrapper.removeAt(this.nestedViews, viewIndex);\n            if (view.type === ViewType.COMPONENT) {\n                throw new BaseException(\"Component views can't be moved!\");\n            }\n            view.detach();\n            view.removeFromContentChildren(this);\n            return view;\n        };\n        return AppElement;\n    }());\n    /**\n     * An error thrown if application changes model breaking the top-down data flow.\n     *\n     * This exception is only thrown in dev mode.\n     *\n     * <!-- TODO: Add a link once the dev mode option is configurable -->\n     *\n     * ### Example\n     *\n     * ```typescript\n     * @Component({\n     *   selector: 'parent',\n     *   template: `\n     *     <child [prop]=\"parentProp\"></child>\n     *   `,\n     *   directives: [forwardRef(() => Child)]\n     * })\n     * class Parent {\n     *   parentProp = \"init\";\n     * }\n     *\n     * @Directive({selector: 'child', inputs: ['prop']})\n     * class Child {\n     *   constructor(public parent: Parent) {}\n     *\n     *   set prop(v) {\n     *     // this updates the parent property, which is disallowed during change detection\n     *     // this will result in ExpressionChangedAfterItHasBeenCheckedException\n     *     this.parent.parentProp = \"updated\";\n     *   }\n     * }\n     * ```\n     * @stable\n     */\n    var ExpressionChangedAfterItHasBeenCheckedException = (function (_super) {\n        __extends(ExpressionChangedAfterItHasBeenCheckedException, _super);\n        function ExpressionChangedAfterItHasBeenCheckedException(oldValue, currValue, context) {\n            _super.call(this, \"Expression has changed after it was checked. \" +\n                (\"Previous value: '\" + oldValue + \"'. Current value: '\" + currValue + \"'\"));\n        }\n        return ExpressionChangedAfterItHasBeenCheckedException;\n    }(BaseException));\n    /**\n     * Thrown when an exception was raised during view creation, change detection or destruction.\n     *\n     * This error wraps the original exception to attach additional contextual information that can\n     * be useful for debugging.\n     * @stable\n     */\n    var ViewWrappedException = (function (_super) {\n        __extends(ViewWrappedException, _super);\n        function ViewWrappedException(originalException, originalStack, context) {\n            _super.call(this, \"Error in \" + context.source, originalException, originalStack, context);\n        }\n        return ViewWrappedException;\n    }(WrappedException));\n    /**\n     * Thrown when a destroyed view is used.\n     *\n     * This error indicates a bug in the framework.\n     *\n     * This is an internal Angular error.\n     * @stable\n     */\n    var ViewDestroyedException = (function (_super) {\n        __extends(ViewDestroyedException, _super);\n        function ViewDestroyedException(details) {\n            _super.call(this, \"Attempt to use a destroyed view: \" + details);\n        }\n        return ViewDestroyedException;\n    }(BaseException));\n    var ViewUtils = (function () {\n        function ViewUtils(_renderer, _appId, sanitizer) {\n            this._renderer = _renderer;\n            this._appId = _appId;\n            this._nextCompTypeId = 0;\n            this.sanitizer = sanitizer;\n        }\n        /**\n         * Used by the generated code\n         */\n        ViewUtils.prototype.createRenderComponentType = function (templateUrl, slotCount, encapsulation, styles) {\n            return new RenderComponentType(this._appId + \"-\" + this._nextCompTypeId++, templateUrl, slotCount, encapsulation, styles);\n        };\n        /** @internal */\n        ViewUtils.prototype.renderComponent = function (renderComponentType) {\n            return this._renderer.renderComponent(renderComponentType);\n        };\n        return ViewUtils;\n    }());\n    /** @nocollapse */\n    ViewUtils.decorators = [\n        { type: Injectable },\n    ];\n    /** @nocollapse */\n    ViewUtils.ctorParameters = [\n        { type: RootRenderer, },\n        { type: undefined, decorators: [{ type: Inject, args: [APP_ID,] },] },\n        { type: SanitizationService, },\n    ];\n    function flattenNestedViewRenderNodes(nodes) {\n        return _flattenNestedViewRenderNodes(nodes, []);\n    }\n    function _flattenNestedViewRenderNodes(nodes, renderNodes) {\n        for (var i = 0; i < nodes.length; i++) {\n            var node = nodes[i];\n            if (node instanceof AppElement) {\n                var appEl = node;\n                renderNodes.push(appEl.nativeElement);\n                if (isPresent(appEl.nestedViews)) {\n                    for (var k = 0; k < appEl.nestedViews.length; k++) {\n                        _flattenNestedViewRenderNodes(appEl.nestedViews[k].rootNodesOrAppElements, renderNodes);\n                    }\n                }\n            }\n            else {\n                renderNodes.push(node);\n            }\n        }\n        return renderNodes;\n    }\n    var EMPTY_ARR = [];\n    function ensureSlotCount(projectableNodes, expectedSlotCount) {\n        var res;\n        if (isBlank(projectableNodes)) {\n            res = EMPTY_ARR;\n        }\n        else if (projectableNodes.length < expectedSlotCount) {\n            var givenSlotCount = projectableNodes.length;\n            res = ListWrapper.createFixedSize(expectedSlotCount);\n            for (var i = 0; i < expectedSlotCount; i++) {\n                res[i] = (i < givenSlotCount) ? projectableNodes[i] : EMPTY_ARR;\n            }\n        }\n        else {\n            res = projectableNodes;\n        }\n        return res;\n    }\n    var MAX_INTERPOLATION_VALUES = 9;\n    function interpolate(valueCount, c0, a1, c1, a2, c2, a3, c3, a4, c4, a5, c5, a6, c6, a7, c7, a8, c8, a9, c9) {\n        switch (valueCount) {\n            case 1:\n                return c0 + _toStringWithNull(a1) + c1;\n            case 2:\n                return c0 + _toStringWithNull(a1) + c1 + _toStringWithNull(a2) + c2;\n            case 3:\n                return c0 + _toStringWithNull(a1) + c1 + _toStringWithNull(a2) + c2 + _toStringWithNull(a3) +\n                    c3;\n            case 4:\n                return c0 + _toStringWithNull(a1) + c1 + _toStringWithNull(a2) + c2 + _toStringWithNull(a3) +\n                    c3 + _toStringWithNull(a4) + c4;\n            case 5:\n                return c0 + _toStringWithNull(a1) + c1 + _toStringWithNull(a2) + c2 + _toStringWithNull(a3) +\n                    c3 + _toStringWithNull(a4) + c4 + _toStringWithNull(a5) + c5;\n            case 6:\n                return c0 + _toStringWithNull(a1) + c1 + _toStringWithNull(a2) + c2 + _toStringWithNull(a3) +\n                    c3 + _toStringWithNull(a4) + c4 + _toStringWithNull(a5) + c5 + _toStringWithNull(a6) + c6;\n            case 7:\n                return c0 + _toStringWithNull(a1) + c1 + _toStringWithNull(a2) + c2 + _toStringWithNull(a3) +\n                    c3 + _toStringWithNull(a4) + c4 + _toStringWithNull(a5) + c5 + _toStringWithNull(a6) +\n                    c6 + _toStringWithNull(a7) + c7;\n            case 8:\n                return c0 + _toStringWithNull(a1) + c1 + _toStringWithNull(a2) + c2 + _toStringWithNull(a3) +\n                    c3 + _toStringWithNull(a4) + c4 + _toStringWithNull(a5) + c5 + _toStringWithNull(a6) +\n                    c6 + _toStringWithNull(a7) + c7 + _toStringWithNull(a8) + c8;\n            case 9:\n                return c0 + _toStringWithNull(a1) + c1 + _toStringWithNull(a2) + c2 + _toStringWithNull(a3) +\n                    c3 + _toStringWithNull(a4) + c4 + _toStringWithNull(a5) + c5 + _toStringWithNull(a6) +\n                    c6 + _toStringWithNull(a7) + c7 + _toStringWithNull(a8) + c8 + _toStringWithNull(a9) + c9;\n            default:\n                throw new BaseException(\"Does not support more than 9 expressions\");\n        }\n    }\n    function _toStringWithNull(v) {\n        return v != null ? v.toString() : '';\n    }\n    function checkBinding(throwOnChange, oldValue, newValue) {\n        if (throwOnChange) {\n            if (!devModeEqual(oldValue, newValue)) {\n                throw new ExpressionChangedAfterItHasBeenCheckedException(oldValue, newValue, null);\n            }\n            return false;\n        }\n        else {\n            return !looseIdentical(oldValue, newValue);\n        }\n    }\n    function castByValue(input, value) {\n        return input;\n    }\n    var EMPTY_ARRAY = [];\n    var EMPTY_MAP = {};\n    function pureProxy1(fn) {\n        var result;\n        var v0;\n        v0 = uninitialized;\n        return function (p0) {\n            if (!looseIdentical(v0, p0)) {\n                v0 = p0;\n                result = fn(p0);\n            }\n            return result;\n        };\n    }\n    function pureProxy2(fn) {\n        var result;\n        var v0 /** TODO #9100 */, v1;\n        v0 = v1 = uninitialized;\n        return function (p0, p1) {\n            if (!looseIdentical(v0, p0) || !looseIdentical(v1, p1)) {\n                v0 = p0;\n                v1 = p1;\n                result = fn(p0, p1);\n            }\n            return result;\n        };\n    }\n    function pureProxy3(fn) {\n        var result;\n        var v0 /** TODO #9100 */, v1 /** TODO #9100 */, v2;\n        v0 = v1 = v2 = uninitialized;\n        return function (p0, p1, p2) {\n            if (!looseIdentical(v0, p0) || !looseIdentical(v1, p1) || !looseIdentical(v2, p2)) {\n                v0 = p0;\n                v1 = p1;\n                v2 = p2;\n                result = fn(p0, p1, p2);\n            }\n            return result;\n        };\n    }\n    function pureProxy4(fn) {\n        var result;\n        var v0 /** TODO #9100 */, v1 /** TODO #9100 */, v2 /** TODO #9100 */, v3;\n        v0 = v1 = v2 = v3 = uninitialized;\n        return function (p0, p1, p2, p3) {\n            if (!looseIdentical(v0, p0) || !looseIdentical(v1, p1) || !looseIdentical(v2, p2) ||\n                !looseIdentical(v3, p3)) {\n                v0 = p0;\n                v1 = p1;\n                v2 = p2;\n                v3 = p3;\n                result = fn(p0, p1, p2, p3);\n            }\n            return result;\n        };\n    }\n    function pureProxy5(fn) {\n        var result;\n        var v0 /** TODO #9100 */, v1 /** TODO #9100 */, v2 /** TODO #9100 */, v3 /** TODO #9100 */, v4;\n        v0 = v1 = v2 = v3 = v4 = uninitialized;\n        return function (p0, p1, p2, p3, p4) {\n            if (!looseIdentical(v0, p0) || !looseIdentical(v1, p1) || !looseIdentical(v2, p2) ||\n                !looseIdentical(v3, p3) || !looseIdentical(v4, p4)) {\n                v0 = p0;\n                v1 = p1;\n                v2 = p2;\n                v3 = p3;\n                v4 = p4;\n                result = fn(p0, p1, p2, p3, p4);\n            }\n            return result;\n        };\n    }\n    function pureProxy6(fn) {\n        var result;\n        var v0 /** TODO #9100 */, v1 /** TODO #9100 */, v2 /** TODO #9100 */, v3 /** TODO #9100 */, v4 /** TODO #9100 */, v5;\n        v0 = v1 = v2 = v3 = v4 = v5 = uninitialized;\n        return function (p0, p1, p2, p3, p4, p5) {\n            if (!looseIdentical(v0, p0) || !looseIdentical(v1, p1) || !looseIdentical(v2, p2) ||\n                !looseIdentical(v3, p3) || !looseIdentical(v4, p4) || !looseIdentical(v5, p5)) {\n                v0 = p0;\n                v1 = p1;\n                v2 = p2;\n                v3 = p3;\n                v4 = p4;\n                v5 = p5;\n                result = fn(p0, p1, p2, p3, p4, p5);\n            }\n            return result;\n        };\n    }\n    function pureProxy7(fn) {\n        var result;\n        var v0 /** TODO #9100 */, v1 /** TODO #9100 */, v2 /** TODO #9100 */, v3 /** TODO #9100 */, v4 /** TODO #9100 */, v5 /** TODO #9100 */, v6;\n        v0 = v1 = v2 = v3 = v4 = v5 = v6 = uninitialized;\n        return function (p0, p1, p2, p3, p4, p5, p6) {\n            if (!looseIdentical(v0, p0) || !looseIdentical(v1, p1) || !looseIdentical(v2, p2) ||\n                !looseIdentical(v3, p3) || !looseIdentical(v4, p4) || !looseIdentical(v5, p5) ||\n                !looseIdentical(v6, p6)) {\n                v0 = p0;\n                v1 = p1;\n                v2 = p2;\n                v3 = p3;\n                v4 = p4;\n                v5 = p5;\n                v6 = p6;\n                result = fn(p0, p1, p2, p3, p4, p5, p6);\n            }\n            return result;\n        };\n    }\n    function pureProxy8(fn) {\n        var result;\n        var v0 /** TODO #9100 */, v1 /** TODO #9100 */, v2 /** TODO #9100 */, v3 /** TODO #9100 */, v4 /** TODO #9100 */, v5 /** TODO #9100 */, v6 /** TODO #9100 */, v7;\n        v0 = v1 = v2 = v3 = v4 = v5 = v6 = v7 = uninitialized;\n        return function (p0, p1, p2, p3, p4, p5, p6, p7) {\n            if (!looseIdentical(v0, p0) || !looseIdentical(v1, p1) || !looseIdentical(v2, p2) ||\n                !looseIdentical(v3, p3) || !looseIdentical(v4, p4) || !looseIdentical(v5, p5) ||\n                !looseIdentical(v6, p6) || !looseIdentical(v7, p7)) {\n                v0 = p0;\n                v1 = p1;\n                v2 = p2;\n                v3 = p3;\n                v4 = p4;\n                v5 = p5;\n                v6 = p6;\n                v7 = p7;\n                result = fn(p0, p1, p2, p3, p4, p5, p6, p7);\n            }\n            return result;\n        };\n    }\n    function pureProxy9(fn) {\n        var result;\n        var v0 /** TODO #9100 */, v1 /** TODO #9100 */, v2 /** TODO #9100 */, v3 /** TODO #9100 */, v4 /** TODO #9100 */, v5 /** TODO #9100 */, v6 /** TODO #9100 */, v7 /** TODO #9100 */, v8;\n        v0 = v1 = v2 = v3 = v4 = v5 = v6 = v7 = v8 = uninitialized;\n        return function (p0, p1, p2, p3, p4, p5, p6, p7, p8) {\n            if (!looseIdentical(v0, p0) || !looseIdentical(v1, p1) || !looseIdentical(v2, p2) ||\n                !looseIdentical(v3, p3) || !looseIdentical(v4, p4) || !looseIdentical(v5, p5) ||\n                !looseIdentical(v6, p6) || !looseIdentical(v7, p7) || !looseIdentical(v8, p8)) {\n                v0 = p0;\n                v1 = p1;\n                v2 = p2;\n                v3 = p3;\n                v4 = p4;\n                v5 = p5;\n                v6 = p6;\n                v7 = p7;\n                v8 = p8;\n                result = fn(p0, p1, p2, p3, p4, p5, p6, p7, p8);\n            }\n            return result;\n        };\n    }\n    function pureProxy10(fn) {\n        var result;\n        var v0 /** TODO #9100 */, v1 /** TODO #9100 */, v2 /** TODO #9100 */, v3 /** TODO #9100 */, v4 /** TODO #9100 */, v5 /** TODO #9100 */, v6 /** TODO #9100 */, v7 /** TODO #9100 */, v8 /** TODO #9100 */, v9;\n        v0 = v1 = v2 = v3 = v4 = v5 = v6 = v7 = v8 = v9 = uninitialized;\n        return function (p0, p1, p2, p3, p4, p5, p6, p7, p8, p9) {\n            if (!looseIdentical(v0, p0) || !looseIdentical(v1, p1) || !looseIdentical(v2, p2) ||\n                !looseIdentical(v3, p3) || !looseIdentical(v4, p4) || !looseIdentical(v5, p5) ||\n                !looseIdentical(v6, p6) || !looseIdentical(v7, p7) || !looseIdentical(v8, p8) ||\n                !looseIdentical(v9, p9)) {\n                v0 = p0;\n                v1 = p1;\n                v2 = p2;\n                v3 = p3;\n                v4 = p4;\n                v5 = p5;\n                v6 = p6;\n                v7 = p7;\n                v8 = p8;\n                v9 = p9;\n                result = fn(p0, p1, p2, p3, p4, p5, p6, p7, p8, p9);\n            }\n            return result;\n        };\n    }\n    /**\n     * Represents an instance of a Component created via a {@link ComponentFactory}.\n     *\n     * `ComponentRef` provides access to the Component Instance as well other objects related to this\n     * Component Instance and allows you to destroy the Component Instance via the {@link #destroy}\n     * method.\n     * @stable\n     */\n    var ComponentRef = (function () {\n        function ComponentRef() {\n        }\n        Object.defineProperty(ComponentRef.prototype, \"location\", {\n            /**\n             * Location of the Host Element of this Component Instance.\n             */\n            get: function () { return unimplemented(); },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(ComponentRef.prototype, \"injector\", {\n            /**\n             * The injector on which the component instance exists.\n             */\n            get: function () { return unimplemented(); },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(ComponentRef.prototype, \"instance\", {\n            /**\n             * The instance of the Component.\n             */\n            get: function () { return unimplemented(); },\n            enumerable: true,\n            configurable: true\n        });\n        ;\n        Object.defineProperty(ComponentRef.prototype, \"hostView\", {\n            /**\n             * The {@link ViewRef} of the Host View of this Component instance.\n             */\n            get: function () { return unimplemented(); },\n            enumerable: true,\n            configurable: true\n        });\n        ;\n        Object.defineProperty(ComponentRef.prototype, \"changeDetectorRef\", {\n            /**\n             * The {@link ChangeDetectorRef} of the Component instance.\n             */\n            get: function () { return unimplemented(); },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(ComponentRef.prototype, \"componentType\", {\n            /**\n             * The component type.\n             */\n            get: function () { return unimplemented(); },\n            enumerable: true,\n            configurable: true\n        });\n        return ComponentRef;\n    }());\n    var ComponentRef_ = (function (_super) {\n        __extends(ComponentRef_, _super);\n        function ComponentRef_(_hostElement, _componentType) {\n            _super.call(this);\n            this._hostElement = _hostElement;\n            this._componentType = _componentType;\n        }\n        Object.defineProperty(ComponentRef_.prototype, \"location\", {\n            get: function () { return this._hostElement.elementRef; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(ComponentRef_.prototype, \"injector\", {\n            get: function () { return this._hostElement.injector; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(ComponentRef_.prototype, \"instance\", {\n            get: function () { return this._hostElement.component; },\n            enumerable: true,\n            configurable: true\n        });\n        ;\n        Object.defineProperty(ComponentRef_.prototype, \"hostView\", {\n            get: function () { return this._hostElement.parentView.ref; },\n            enumerable: true,\n            configurable: true\n        });\n        ;\n        Object.defineProperty(ComponentRef_.prototype, \"changeDetectorRef\", {\n            get: function () { return this._hostElement.parentView.ref; },\n            enumerable: true,\n            configurable: true\n        });\n        ;\n        Object.defineProperty(ComponentRef_.prototype, \"componentType\", {\n            get: function () { return this._componentType; },\n            enumerable: true,\n            configurable: true\n        });\n        ComponentRef_.prototype.destroy = function () { this._hostElement.parentView.destroy(); };\n        ComponentRef_.prototype.onDestroy = function (callback) { this.hostView.onDestroy(callback); };\n        return ComponentRef_;\n    }(ComponentRef));\n    /**\n     * @experimental\n     * @ts2dart_const\n     */\n    var EMPTY_CONTEXT = new Object();\n    /**\n     * @stable\n     */\n    var ComponentFactory = (function () {\n        function ComponentFactory(selector, _viewFactory, _componentType) {\n            this.selector = selector;\n            this._viewFactory = _viewFactory;\n            this._componentType = _componentType;\n        }\n        Object.defineProperty(ComponentFactory.prototype, \"componentType\", {\n            get: function () { return this._componentType; },\n            enumerable: true,\n            configurable: true\n        });\n        /**\n         * Creates a new component.\n         */\n        ComponentFactory.prototype.create = function (injector, projectableNodes, rootSelectorOrNode) {\n            if (projectableNodes === void 0) { projectableNodes = null; }\n            if (rootSelectorOrNode === void 0) { rootSelectorOrNode = null; }\n            var vu = injector.get(ViewUtils);\n            if (isBlank(projectableNodes)) {\n                projectableNodes = [];\n            }\n            // Note: Host views don't need a declarationAppElement!\n            var hostView = this._viewFactory(vu, injector, null);\n            var hostElement = hostView.create(EMPTY_CONTEXT, projectableNodes, rootSelectorOrNode);\n            return new ComponentRef_(hostElement, this._componentType);\n        };\n        return ComponentFactory;\n    }());\n    /**\n     * Low-level service for loading {@link ComponentFactory}s, which\n     * can later be used to create and render a Component instance.\n     * @experimental\n     */\n    var ComponentResolver = (function () {\n        function ComponentResolver() {\n        }\n        return ComponentResolver;\n    }());\n    function _isComponentFactory(type) {\n        return type instanceof ComponentFactory;\n    }\n    var ReflectorComponentResolver = (function (_super) {\n        __extends(ReflectorComponentResolver, _super);\n        function ReflectorComponentResolver() {\n            _super.apply(this, arguments);\n        }\n        ReflectorComponentResolver.prototype.resolveComponent = function (component) {\n            if (isString(component)) {\n                return PromiseWrapper.reject(new BaseException(\"Cannot resolve component using '\" + component + \"'.\"), null);\n            }\n            var metadatas = reflector.annotations(component);\n            var componentFactory = metadatas.find(_isComponentFactory);\n            if (isBlank(componentFactory)) {\n                throw new BaseException(\"No precompiled component \" + stringify(component) + \" found\");\n            }\n            return PromiseWrapper.resolve(componentFactory);\n        };\n        ReflectorComponentResolver.prototype.clearCache = function () { };\n        return ReflectorComponentResolver;\n    }(ComponentResolver));\n    /** @nocollapse */\n    ReflectorComponentResolver.decorators = [\n        { type: Injectable },\n    ];\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * Stores error information; delivered via [NgZone.onError] stream.\n     * @deprecated\n     */\n    var NgZoneError = (function () {\n        function NgZoneError(error, stackTrace) {\n            this.error = error;\n            this.stackTrace = stackTrace;\n        }\n        return NgZoneError;\n    }());\n    var NgZoneImpl = (function () {\n        function NgZoneImpl(_a) {\n            var _this = this;\n            var trace = _a.trace, onEnter = _a.onEnter, onLeave = _a.onLeave, setMicrotask = _a.setMicrotask, setMacrotask = _a.setMacrotask, onError = _a.onError;\n            this.onEnter = onEnter;\n            this.onLeave = onLeave;\n            this.setMicrotask = setMicrotask;\n            this.setMacrotask = setMacrotask;\n            this.onError = onError;\n            if (Zone) {\n                this.outer = this.inner = Zone.current;\n                if (Zone['wtfZoneSpec']) {\n                    this.inner = this.inner.fork(Zone['wtfZoneSpec']);\n                }\n                if (trace && Zone['longStackTraceZoneSpec']) {\n                    this.inner = this.inner.fork(Zone['longStackTraceZoneSpec']);\n                }\n                this.inner = this.inner.fork({\n                    name: 'angular',\n                    properties: { 'isAngularZone': true },\n                    onInvokeTask: function (delegate, current, target, task, applyThis, applyArgs) {\n                        try {\n                            _this.onEnter();\n                            return delegate.invokeTask(target, task, applyThis, applyArgs);\n                        }\n                        finally {\n                            _this.onLeave();\n                        }\n                    },\n                    onInvoke: function (delegate, current, target, callback, applyThis, applyArgs, source) {\n                        try {\n                            _this.onEnter();\n                            return delegate.invoke(target, callback, applyThis, applyArgs, source);\n                        }\n                        finally {\n                            _this.onLeave();\n                        }\n                    },\n                    onHasTask: function (delegate, current, target, hasTaskState) {\n                        delegate.hasTask(target, hasTaskState);\n                        if (current == target) {\n                            // We are only interested in hasTask events which originate from our zone\n                            // (A child hasTask event is not interesting to us)\n                            if (hasTaskState.change == 'microTask') {\n                                _this.setMicrotask(hasTaskState.microTask);\n                            }\n                            else if (hasTaskState.change == 'macroTask') {\n                                _this.setMacrotask(hasTaskState.macroTask);\n                            }\n                        }\n                    },\n                    onHandleError: function (delegate, current, target, error) {\n                        delegate.handleError(target, error);\n                        _this.onError(new NgZoneError(error, error.stack));\n                        return false;\n                    }\n                });\n            }\n            else {\n                throw new Error('Angular requires Zone.js polyfill.');\n            }\n        }\n        NgZoneImpl.isInAngularZone = function () { return Zone.current.get('isAngularZone') === true; };\n        NgZoneImpl.prototype.runInner = function (fn) { return this.inner.run(fn); };\n        ;\n        NgZoneImpl.prototype.runInnerGuarded = function (fn) { return this.inner.runGuarded(fn); };\n        ;\n        NgZoneImpl.prototype.runOuter = function (fn) { return this.outer.run(fn); };\n        ;\n        return NgZoneImpl;\n    }());\n    /**\n     * An injectable service for executing work inside or outside of the Angular zone.\n     *\n     * The most common use of this service is to optimize performance when starting a work consisting of\n     * one or more asynchronous tasks that don't require UI updates or error handling to be handled by\n     * Angular. Such tasks can be kicked off via {@link #runOutsideAngular} and if needed, these tasks\n     * can reenter the Angular zone via {@link #run}.\n     *\n     * <!-- TODO: add/fix links to:\n     *   - docs explaining zones and the use of zones in Angular and change-detection\n     *   - link to runOutsideAngular/run (throughout this file!)\n     *   -->\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/lY9m8HLy7z06vDoUaSN2?p=preview))\n     * ```\n     * import {Component, View, NgZone} from '@angular/core';\n     * import {NgIf} from '@angular/common';\n     *\n     * @Component({\n     *   selector: 'ng-zone-demo'.\n     *   template: `\n     *     <h2>Demo: NgZone</h2>\n     *\n     *     <p>Progress: {{progress}}%</p>\n     *     <p *ngIf=\"progress >= 100\">Done processing {{label}} of Angular zone!</p>\n     *\n     *     <button (click)=\"processWithinAngularZone()\">Process within Angular zone</button>\n     *     <button (click)=\"processOutsideOfAngularZone()\">Process outside of Angular zone</button>\n     *   `,\n     *   directives: [NgIf]\n     * })\n     * export class NgZoneDemo {\n     *   progress: number = 0;\n     *   label: string;\n     *\n     *   constructor(private _ngZone: NgZone) {}\n     *\n     *   // Loop inside the Angular zone\n     *   // so the UI DOES refresh after each setTimeout cycle\n     *   processWithinAngularZone() {\n     *     this.label = 'inside';\n     *     this.progress = 0;\n     *     this._increaseProgress(() => console.log('Inside Done!'));\n     *   }\n     *\n     *   // Loop outside of the Angular zone\n     *   // so the UI DOES NOT refresh after each setTimeout cycle\n     *   processOutsideOfAngularZone() {\n     *     this.label = 'outside';\n     *     this.progress = 0;\n     *     this._ngZone.runOutsideAngular(() => {\n     *       this._increaseProgress(() => {\n     *       // reenter the Angular zone and display done\n     *       this._ngZone.run(() => {console.log('Outside Done!') });\n     *     }}));\n     *   }\n     *\n     *\n     *   _increaseProgress(doneCallback: () => void) {\n     *     this.progress += 1;\n     *     console.log(`Current progress: ${this.progress}%`);\n     *\n     *     if (this.progress < 100) {\n     *       window.setTimeout(() => this._increaseProgress(doneCallback)), 10)\n     *     } else {\n     *       doneCallback();\n     *     }\n     *   }\n     * }\n     * ```\n     * @experimental\n     */\n    var NgZone = (function () {\n        function NgZone(_a) {\n            var _this = this;\n            var _b = _a.enableLongStackTrace, enableLongStackTrace = _b === void 0 ? false : _b;\n            this._hasPendingMicrotasks = false;\n            this._hasPendingMacrotasks = false;\n            /** @internal */\n            this._isStable = true;\n            /** @internal */\n            this._nesting = 0;\n            /** @internal */\n            this._onUnstable = new EventEmitter(false);\n            /** @internal */\n            this._onMicrotaskEmpty = new EventEmitter(false);\n            /** @internal */\n            this._onStable = new EventEmitter(false);\n            /** @internal */\n            this._onErrorEvents = new EventEmitter(false);\n            this._zoneImpl = new NgZoneImpl({\n                trace: enableLongStackTrace,\n                onEnter: function () {\n                    // console.log('ZONE.enter', this._nesting, this._isStable);\n                    _this._nesting++;\n                    if (_this._isStable) {\n                        _this._isStable = false;\n                        _this._onUnstable.emit(null);\n                    }\n                },\n                onLeave: function () {\n                    _this._nesting--;\n                    // console.log('ZONE.leave', this._nesting, this._isStable);\n                    _this._checkStable();\n                },\n                setMicrotask: function (hasMicrotasks) {\n                    _this._hasPendingMicrotasks = hasMicrotasks;\n                    _this._checkStable();\n                },\n                setMacrotask: function (hasMacrotasks) { _this._hasPendingMacrotasks = hasMacrotasks; },\n                onError: function (error) { return _this._onErrorEvents.emit(error); }\n            });\n        }\n        NgZone.isInAngularZone = function () { return NgZoneImpl.isInAngularZone(); };\n        NgZone.assertInAngularZone = function () {\n            if (!NgZoneImpl.isInAngularZone()) {\n                throw new BaseException('Expected to be in Angular Zone, but it is not!');\n            }\n        };\n        NgZone.assertNotInAngularZone = function () {\n            if (NgZoneImpl.isInAngularZone()) {\n                throw new BaseException('Expected to not be in Angular Zone, but it is!');\n            }\n        };\n        NgZone.prototype._checkStable = function () {\n            var _this = this;\n            if (this._nesting == 0) {\n                if (!this._hasPendingMicrotasks && !this._isStable) {\n                    try {\n                        // console.log('ZONE.microtaskEmpty');\n                        this._nesting++;\n                        this._onMicrotaskEmpty.emit(null);\n                    }\n                    finally {\n                        this._nesting--;\n                        if (!this._hasPendingMicrotasks) {\n                            try {\n                                // console.log('ZONE.stable', this._nesting, this._isStable);\n                                this.runOutsideAngular(function () { return _this._onStable.emit(null); });\n                            }\n                            finally {\n                                this._isStable = true;\n                            }\n                        }\n                    }\n                }\n            }\n        };\n        ;\n        Object.defineProperty(NgZone.prototype, \"onUnstable\", {\n            /**\n             * Notifies when code enters Angular Zone. This gets fired first on VM Turn.\n             */\n            get: function () { return this._onUnstable; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(NgZone.prototype, \"onMicrotaskEmpty\", {\n            /**\n             * Notifies when there is no more microtasks enqueue in the current VM Turn.\n             * This is a hint for Angular to do change detection, which may enqueue more microtasks.\n             * For this reason this event can fire multiple times per VM Turn.\n             */\n            get: function () { return this._onMicrotaskEmpty; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(NgZone.prototype, \"onStable\", {\n            /**\n             * Notifies when the last `onMicrotaskEmpty` has run and there are no more microtasks, which\n             * implies we are about to relinquish VM turn.\n             * This event gets called just once.\n             */\n            get: function () { return this._onStable; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(NgZone.prototype, \"onError\", {\n            /**\n             * Notify that an error has been delivered.\n             */\n            get: function () { return this._onErrorEvents; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(NgZone.prototype, \"isStable\", {\n            /**\n             * Whether there are no outstanding microtasks or microtasks.\n             */\n            get: function () { return this._isStable; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(NgZone.prototype, \"hasPendingMicrotasks\", {\n            /**\n             * Whether there are any outstanding microtasks.\n             */\n            get: function () { return this._hasPendingMicrotasks; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(NgZone.prototype, \"hasPendingMacrotasks\", {\n            /**\n             * Whether there are any outstanding microtasks.\n             */\n            get: function () { return this._hasPendingMacrotasks; },\n            enumerable: true,\n            configurable: true\n        });\n        /**\n         * Executes the `fn` function synchronously within the Angular zone and returns value returned by\n         * the function.\n         *\n         * Running functions via `run` allows you to reenter Angular zone from a task that was executed\n         * outside of the Angular zone (typically started via {@link #runOutsideAngular}).\n         *\n         * Any future tasks or microtasks scheduled from within this function will continue executing from\n         * within the Angular zone.\n         *\n         * If a synchronous error happens it will be rethrown and not reported via `onError`.\n         */\n        NgZone.prototype.run = function (fn) { return this._zoneImpl.runInner(fn); };\n        /**\n         * Same as #run, except that synchronous errors are caught and forwarded\n         * via `onError` and not rethrown.\n         */\n        NgZone.prototype.runGuarded = function (fn) { return this._zoneImpl.runInnerGuarded(fn); };\n        /**\n         * Executes the `fn` function synchronously in Angular's parent zone and returns value returned by\n         * the function.\n         *\n         * Running functions via `runOutsideAngular` allows you to escape Angular's zone and do work that\n         * doesn't trigger Angular change-detection or is subject to Angular's error handling.\n         *\n         * Any future tasks or microtasks scheduled from within this function will continue executing from\n         * outside of the Angular zone.\n         *\n         * Use {@link #run} to reenter the Angular zone and do work that updates the application model.\n         */\n        NgZone.prototype.runOutsideAngular = function (fn) { return this._zoneImpl.runOuter(fn); };\n        return NgZone;\n    }());\n    var Testability = (function () {\n        function Testability(_ngZone) {\n            this._ngZone = _ngZone;\n            /** @internal */\n            this._pendingCount = 0;\n            /** @internal */\n            this._isZoneStable = true;\n            /**\n             * Whether any work was done since the last 'whenStable' callback. This is\n             * useful to detect if this could have potentially destabilized another\n             * component while it is stabilizing.\n             * @internal\n             */\n            this._didWork = false;\n            /** @internal */\n            this._callbacks = [];\n            this._watchAngularEvents();\n        }\n        /** @internal */\n        Testability.prototype._watchAngularEvents = function () {\n            var _this = this;\n            ObservableWrapper.subscribe(this._ngZone.onUnstable, function (_) {\n                _this._didWork = true;\n                _this._isZoneStable = false;\n            });\n            this._ngZone.runOutsideAngular(function () {\n                ObservableWrapper.subscribe(_this._ngZone.onStable, function (_) {\n                    NgZone.assertNotInAngularZone();\n                    scheduleMicroTask(function () {\n                        _this._isZoneStable = true;\n                        _this._runCallbacksIfReady();\n                    });\n                });\n            });\n        };\n        Testability.prototype.increasePendingRequestCount = function () {\n            this._pendingCount += 1;\n            this._didWork = true;\n            return this._pendingCount;\n        };\n        Testability.prototype.decreasePendingRequestCount = function () {\n            this._pendingCount -= 1;\n            if (this._pendingCount < 0) {\n                throw new BaseException('pending async requests below zero');\n            }\n            this._runCallbacksIfReady();\n            return this._pendingCount;\n        };\n        Testability.prototype.isStable = function () {\n            return this._isZoneStable && this._pendingCount == 0 && !this._ngZone.hasPendingMacrotasks;\n        };\n        /** @internal */\n        Testability.prototype._runCallbacksIfReady = function () {\n            var _this = this;\n            if (this.isStable()) {\n                // Schedules the call backs in a new frame so that it is always async.\n                scheduleMicroTask(function () {\n                    while (_this._callbacks.length !== 0) {\n                        (_this._callbacks.pop())(_this._didWork);\n                    }\n                    _this._didWork = false;\n                });\n            }\n            else {\n                // Not Ready\n                this._didWork = true;\n            }\n        };\n        Testability.prototype.whenStable = function (callback) {\n            this._callbacks.push(callback);\n            this._runCallbacksIfReady();\n        };\n        Testability.prototype.getPendingRequestCount = function () { return this._pendingCount; };\n        Testability.prototype.findBindings = function (using, provider, exactMatch) {\n            // TODO(juliemr): implement.\n            return [];\n        };\n        Testability.prototype.findProviders = function (using, provider, exactMatch) {\n            // TODO(juliemr): implement.\n            return [];\n        };\n        return Testability;\n    }());\n    /** @nocollapse */\n    Testability.decorators = [\n        { type: Injectable },\n    ];\n    /** @nocollapse */\n    Testability.ctorParameters = [\n        { type: NgZone, },\n    ];\n    var TestabilityRegistry = (function () {\n        function TestabilityRegistry() {\n            /** @internal */\n            this._applications = new Map$1();\n            _testabilityGetter.addToWindow(this);\n        }\n        TestabilityRegistry.prototype.registerApplication = function (token, testability) {\n            this._applications.set(token, testability);\n        };\n        TestabilityRegistry.prototype.getTestability = function (elem) { return this._applications.get(elem); };\n        TestabilityRegistry.prototype.getAllTestabilities = function () { return MapWrapper.values(this._applications); };\n        TestabilityRegistry.prototype.getAllRootElements = function () { return MapWrapper.keys(this._applications); };\n        TestabilityRegistry.prototype.findTestabilityInTree = function (elem, findInAncestors) {\n            if (findInAncestors === void 0) { findInAncestors = true; }\n            return _testabilityGetter.findTestabilityInTree(this, elem, findInAncestors);\n        };\n        return TestabilityRegistry;\n    }());\n    /** @nocollapse */\n    TestabilityRegistry.decorators = [\n        { type: Injectable },\n    ];\n    /** @nocollapse */\n    TestabilityRegistry.ctorParameters = [];\n    /* @ts2dart_const */\n    var _NoopGetTestability = (function () {\n        function _NoopGetTestability() {\n        }\n        _NoopGetTestability.prototype.addToWindow = function (registry) { };\n        _NoopGetTestability.prototype.findTestabilityInTree = function (registry, elem, findInAncestors) {\n            return null;\n        };\n        return _NoopGetTestability;\n    }());\n    /**\n     * Set the {@link GetTestability} implementation used by the Angular testing framework.\n     * @experimental\n     */\n    function setTestabilityGetter(getter) {\n        _testabilityGetter = getter;\n    }\n    var _testabilityGetter = new _NoopGetTestability();\n    /**\n     * Create an Angular zone.\n     * @experimental\n     */\n    function createNgZone() {\n        return new NgZone({ enableLongStackTrace: isDevMode() });\n    }\n    var _devMode = true;\n    var _runModeLocked = false;\n    var _platform;\n    var _inPlatformCreate = false;\n    /**\n     * Disable Angular's development mode, which turns off assertions and other\n     * checks within the framework.\n     *\n     * One important assertion this disables verifies that a change detection pass\n     * does not result in additional changes to any bindings (also known as\n     * unidirectional data flow).\n     *\n     * @experimental APIs related to application bootstrap are currently under review.\n     */\n    function enableProdMode() {\n        if (_runModeLocked) {\n            // Cannot use BaseException as that ends up importing from facade/lang.\n            throw new BaseException('Cannot enable prod mode after platform setup.');\n        }\n        _devMode = false;\n    }\n    /**\n     * Returns whether Angular is in development mode.\n     * This can only be read after `lockRunMode` has been called.\n     *\n     * By default, this is true, unless a user calls `enableProdMode`.\n     *\n     * @experimental APIs related to application bootstrap are currently under review.\n     */\n    function isDevMode() {\n        if (!_runModeLocked) {\n            throw new BaseException(\"Dev mode can't be read before bootstrap!\");\n        }\n        return _devMode;\n    }\n    /**\n     * Locks the run mode of Angular. After this has been called,\n     * it can't be changed any more. I.e. `isDevMode()` will always\n     * return the same value.\n     *\n     * @experimental APIs related to application bootstrap are currently under review.\n     */\n    function lockRunMode() {\n        _runModeLocked = true;\n    }\n    /**\n     * Creates a platform.\n     * Platforms have to be eagerly created via this function.\n     *\n     * @experimental APIs related to application bootstrap are currently under review.\n     */\n    function createPlatform(injector) {\n        if (_inPlatformCreate) {\n            throw new BaseException('Already creating a platform...');\n        }\n        if (isPresent(_platform) && !_platform.disposed) {\n            throw new BaseException('There can be only one platform. Destroy the previous one to create a new one.');\n        }\n        lockRunMode();\n        _inPlatformCreate = true;\n        try {\n            _platform = injector.get(PlatformRef);\n        }\n        finally {\n            _inPlatformCreate = false;\n        }\n        return _platform;\n    }\n    /**\n     * Checks that there currently is a platform\n     * which contains the given token as a provider.\n     *\n     * @experimental APIs related to application bootstrap are currently under review.\n     */\n    function assertPlatform(requiredToken) {\n        var platform = getPlatform();\n        if (isBlank(platform)) {\n            throw new BaseException('No platform exists!');\n        }\n        if (isPresent(platform) && isBlank(platform.injector.get(requiredToken, null))) {\n            throw new BaseException('A platform with a different configuration has been created. Please destroy it first.');\n        }\n        return platform;\n    }\n    /**\n     * Dispose the existing platform.\n     *\n     * @experimental APIs related to application bootstrap are currently under review.\n     */\n    function disposePlatform() {\n        if (isPresent(_platform) && !_platform.disposed) {\n            _platform.dispose();\n        }\n    }\n    /**\n     * Returns the current platform.\n     *\n     * @experimental APIs related to application bootstrap are currently under review.\n     */\n    function getPlatform() {\n        return isPresent(_platform) && !_platform.disposed ? _platform : null;\n    }\n    /**\n     * Shortcut for ApplicationRef.bootstrap.\n     * Requires a platform to be created first.\n     *\n     * @experimental APIs related to application bootstrap are currently under review.\n     */\n    function coreBootstrap(componentFactory, injector) {\n        var appRef = injector.get(ApplicationRef);\n        return appRef.bootstrap(componentFactory);\n    }\n    /**\n     * Resolves the componentFactory for the given component,\n     * waits for asynchronous initializers and bootstraps the component.\n     * Requires a platform to be created first.\n     *\n     * @experimental APIs related to application bootstrap are currently under review.\n     */\n    function coreLoadAndBootstrap(componentType, injector) {\n        var appRef = injector.get(ApplicationRef);\n        return appRef.run(function () {\n            var componentResolver = injector.get(ComponentResolver);\n            return PromiseWrapper\n                .all([componentResolver.resolveComponent(componentType), appRef.waitForAsyncInitializers()])\n                .then(function (arr) { return appRef.bootstrap(arr[0]); });\n        });\n    }\n    /**\n     * The Angular platform is the entry point for Angular on a web page. Each page\n     * has exactly one platform, and services (such as reflection) which are common\n     * to every Angular application running on the page are bound in its scope.\n     *\n     * A page's platform is initialized implicitly when {@link bootstrap}() is called, or\n     * explicitly by calling {@link createPlatform}().\n     *\n     * @experimental APIs related to application bootstrap are currently under review.\n     */\n    var PlatformRef = (function () {\n        function PlatformRef() {\n        }\n        Object.defineProperty(PlatformRef.prototype, \"injector\", {\n            /**\n             * Retrieve the platform {@link Injector}, which is the parent injector for\n             * every Angular application on the page and provides singleton providers.\n             */\n            get: function () { throw unimplemented(); },\n            enumerable: true,\n            configurable: true\n        });\n        ;\n        Object.defineProperty(PlatformRef.prototype, \"disposed\", {\n            get: function () { throw unimplemented(); },\n            enumerable: true,\n            configurable: true\n        });\n        return PlatformRef;\n    }());\n    var PlatformRef_ = (function (_super) {\n        __extends(PlatformRef_, _super);\n        function PlatformRef_(_injector) {\n            _super.call(this);\n            this._injector = _injector;\n            /** @internal */\n            this._applications = [];\n            /** @internal */\n            this._disposeListeners = [];\n            this._disposed = false;\n            if (!_inPlatformCreate) {\n                throw new BaseException('Platforms have to be created via `createPlatform`!');\n            }\n            var inits = _injector.get(PLATFORM_INITIALIZER, null);\n            if (isPresent(inits))\n                inits.forEach(function (init) { return init(); });\n        }\n        PlatformRef_.prototype.registerDisposeListener = function (dispose) { this._disposeListeners.push(dispose); };\n        Object.defineProperty(PlatformRef_.prototype, \"injector\", {\n            get: function () { return this._injector; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(PlatformRef_.prototype, \"disposed\", {\n            get: function () { return this._disposed; },\n            enumerable: true,\n            configurable: true\n        });\n        PlatformRef_.prototype.addApplication = function (appRef) { this._applications.push(appRef); };\n        PlatformRef_.prototype.dispose = function () {\n            ListWrapper.clone(this._applications).forEach(function (app) { return app.dispose(); });\n            this._disposeListeners.forEach(function (dispose) { return dispose(); });\n            this._disposed = true;\n        };\n        /** @internal */\n        PlatformRef_.prototype._applicationDisposed = function (app) { ListWrapper.remove(this._applications, app); };\n        return PlatformRef_;\n    }(PlatformRef));\n    /** @nocollapse */\n    PlatformRef_.decorators = [\n        { type: Injectable },\n    ];\n    /** @nocollapse */\n    PlatformRef_.ctorParameters = [\n        { type: Injector, },\n    ];\n    /**\n     * A reference to an Angular application running on a page.\n     *\n     * For more about Angular applications, see the documentation for {@link bootstrap}.\n     *\n     * @experimental APIs related to application bootstrap are currently under review.\n     */\n    var ApplicationRef = (function () {\n        function ApplicationRef() {\n        }\n        Object.defineProperty(ApplicationRef.prototype, \"injector\", {\n            /**\n             * Retrieve the application {@link Injector}.\n             */\n            get: function () { return unimplemented(); },\n            enumerable: true,\n            configurable: true\n        });\n        ;\n        Object.defineProperty(ApplicationRef.prototype, \"zone\", {\n            /**\n             * Retrieve the application {@link NgZone}.\n             */\n            get: function () { return unimplemented(); },\n            enumerable: true,\n            configurable: true\n        });\n        ;\n        Object.defineProperty(ApplicationRef.prototype, \"componentTypes\", {\n            /**\n             * Get a list of component types registered to this application.\n             */\n            get: function () { return unimplemented(); },\n            enumerable: true,\n            configurable: true\n        });\n        ;\n        return ApplicationRef;\n    }());\n    var ApplicationRef_ = (function (_super) {\n        __extends(ApplicationRef_, _super);\n        function ApplicationRef_(_platform, _zone, _injector) {\n            var _this = this;\n            _super.call(this);\n            this._platform = _platform;\n            this._zone = _zone;\n            this._injector = _injector;\n            /** @internal */\n            this._bootstrapListeners = [];\n            /** @internal */\n            this._disposeListeners = [];\n            /** @internal */\n            this._rootComponents = [];\n            /** @internal */\n            this._rootComponentTypes = [];\n            /** @internal */\n            this._changeDetectorRefs = [];\n            /** @internal */\n            this._runningTick = false;\n            /** @internal */\n            this._enforceNoNewChanges = false;\n            var zone = _injector.get(NgZone);\n            this._enforceNoNewChanges = isDevMode();\n            zone.run(function () { _this._exceptionHandler = _injector.get(ExceptionHandler); });\n            this._asyncInitDonePromise = this.run(function () {\n                var inits = _injector.get(APP_INITIALIZER, null);\n                var asyncInitResults = [];\n                var asyncInitDonePromise;\n                if (isPresent(inits)) {\n                    for (var i = 0; i < inits.length; i++) {\n                        var initResult = inits[i]();\n                        if (isPromise(initResult)) {\n                            asyncInitResults.push(initResult);\n                        }\n                    }\n                }\n                if (asyncInitResults.length > 0) {\n                    asyncInitDonePromise =\n                        PromiseWrapper.all(asyncInitResults).then(function (_) { return _this._asyncInitDone = true; });\n                    _this._asyncInitDone = false;\n                }\n                else {\n                    _this._asyncInitDone = true;\n                    asyncInitDonePromise = PromiseWrapper.resolve(true);\n                }\n                return asyncInitDonePromise;\n            });\n            ObservableWrapper.subscribe(zone.onError, function (error) {\n                _this._exceptionHandler.call(error.error, error.stackTrace);\n            });\n            ObservableWrapper.subscribe(this._zone.onMicrotaskEmpty, function (_) { _this._zone.run(function () { _this.tick(); }); });\n        }\n        ApplicationRef_.prototype.registerBootstrapListener = function (listener) {\n            this._bootstrapListeners.push(listener);\n        };\n        ApplicationRef_.prototype.registerDisposeListener = function (dispose) { this._disposeListeners.push(dispose); };\n        ApplicationRef_.prototype.registerChangeDetector = function (changeDetector) {\n            this._changeDetectorRefs.push(changeDetector);\n        };\n        ApplicationRef_.prototype.unregisterChangeDetector = function (changeDetector) {\n            ListWrapper.remove(this._changeDetectorRefs, changeDetector);\n        };\n        ApplicationRef_.prototype.waitForAsyncInitializers = function () { return this._asyncInitDonePromise; };\n        ApplicationRef_.prototype.run = function (callback) {\n            var _this = this;\n            var zone = this.injector.get(NgZone);\n            var result;\n            // Note: Don't use zone.runGuarded as we want to know about\n            // the thrown exception!\n            // Note: the completer needs to be created outside\n            // of `zone.run` as Dart swallows rejected promises\n            // via the onError callback of the promise.\n            var completer = PromiseWrapper.completer();\n            zone.run(function () {\n                try {\n                    result = callback();\n                    if (isPromise(result)) {\n                        PromiseWrapper.then(result, function (ref) { completer.resolve(ref); }, function (err, stackTrace) {\n                            completer.reject(err, stackTrace);\n                            _this._exceptionHandler.call(err, stackTrace);\n                        });\n                    }\n                }\n                catch (e) {\n                    _this._exceptionHandler.call(e, e.stack);\n                    throw e;\n                }\n            });\n            return isPromise(result) ? completer.promise : result;\n        };\n        ApplicationRef_.prototype.bootstrap = function (componentFactory) {\n            var _this = this;\n            if (!this._asyncInitDone) {\n                throw new BaseException('Cannot bootstrap as there are still asynchronous initializers running. Wait for them using waitForAsyncInitializers().');\n            }\n            return this.run(function () {\n                _this._rootComponentTypes.push(componentFactory.componentType);\n                var compRef = componentFactory.create(_this._injector, [], componentFactory.selector);\n                compRef.onDestroy(function () { _this._unloadComponent(compRef); });\n                var testability = compRef.injector.get(Testability, null);\n                if (isPresent(testability)) {\n                    compRef.injector.get(TestabilityRegistry)\n                        .registerApplication(compRef.location.nativeElement, testability);\n                }\n                _this._loadComponent(compRef);\n                var c = _this._injector.get(Console);\n                if (isDevMode()) {\n                    var prodDescription = IS_DART ? 'Production mode is disabled in Dart.' :\n                        'Call enableProdMode() to enable the production mode.';\n                    c.log(\"Angular 2 is running in the development mode. \" + prodDescription);\n                }\n                return compRef;\n            });\n        };\n        /** @internal */\n        ApplicationRef_.prototype._loadComponent = function (componentRef) {\n            this._changeDetectorRefs.push(componentRef.changeDetectorRef);\n            this.tick();\n            this._rootComponents.push(componentRef);\n            this._bootstrapListeners.forEach(function (listener) { return listener(componentRef); });\n        };\n        /** @internal */\n        ApplicationRef_.prototype._unloadComponent = function (componentRef) {\n            if (!ListWrapper.contains(this._rootComponents, componentRef)) {\n                return;\n            }\n            this.unregisterChangeDetector(componentRef.changeDetectorRef);\n            ListWrapper.remove(this._rootComponents, componentRef);\n        };\n        Object.defineProperty(ApplicationRef_.prototype, \"injector\", {\n            get: function () { return this._injector; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(ApplicationRef_.prototype, \"zone\", {\n            get: function () { return this._zone; },\n            enumerable: true,\n            configurable: true\n        });\n        ApplicationRef_.prototype.tick = function () {\n            if (this._runningTick) {\n                throw new BaseException('ApplicationRef.tick is called recursively');\n            }\n            var s = ApplicationRef_._tickScope();\n            try {\n                this._runningTick = true;\n                this._changeDetectorRefs.forEach(function (detector) { return detector.detectChanges(); });\n                if (this._enforceNoNewChanges) {\n                    this._changeDetectorRefs.forEach(function (detector) { return detector.checkNoChanges(); });\n                }\n            }\n            finally {\n                this._runningTick = false;\n                wtfLeave(s);\n            }\n        };\n        ApplicationRef_.prototype.dispose = function () {\n            // TODO(alxhub): Dispose of the NgZone.\n            ListWrapper.clone(this._rootComponents).forEach(function (ref) { return ref.destroy(); });\n            this._disposeListeners.forEach(function (dispose) { return dispose(); });\n            this._platform._applicationDisposed(this);\n        };\n        Object.defineProperty(ApplicationRef_.prototype, \"componentTypes\", {\n            get: function () { return this._rootComponentTypes; },\n            enumerable: true,\n            configurable: true\n        });\n        return ApplicationRef_;\n    }(ApplicationRef));\n    /** @internal */\n    ApplicationRef_._tickScope = wtfCreateScope('ApplicationRef#tick()');\n    /** @nocollapse */\n    ApplicationRef_.decorators = [\n        { type: Injectable },\n    ];\n    /** @nocollapse */\n    ApplicationRef_.ctorParameters = [\n        { type: PlatformRef_, },\n        { type: NgZone, },\n        { type: Injector, },\n    ];\n    var PLATFORM_CORE_PROVIDERS =\n    /*@ts2dart_const*/ [\n        PlatformRef_,\n        /*@ts2dart_const*/ (\n        /* @ts2dart_Provider */ { provide: PlatformRef, useExisting: PlatformRef_ })\n    ];\n    var APPLICATION_CORE_PROVIDERS = [\n        /* @ts2dart_Provider */ { provide: NgZone, useFactory: createNgZone, deps: [] },\n        ApplicationRef_,\n        /* @ts2dart_Provider */ { provide: ApplicationRef, useExisting: ApplicationRef_ },\n    ];\n    /**\n     * Low-level service for running the angular compiler duirng runtime\n     * to create {@link ComponentFactory}s, which\n     * can later be used to create and render a Component instance.\n     * @stable\n     */\n    var Compiler = (function () {\n        function Compiler() {\n        }\n        /**\n         * Loads the template and styles of a component and returns the associated `ComponentFactory`.\n         */\n        Compiler.prototype.compileComponentAsync = function (component) {\n            throw new BaseException(\"Runtime compiler is not loaded. Tried to compile \" + stringify(component));\n        };\n        /**\n         * Compiles the given component. All templates have to be either inline or compiled via\n         * `compileComponentAsync` before.\n         */\n        Compiler.prototype.compileComponentSync = function (component) {\n            throw new BaseException(\"Runtime compiler is not loaded. Tried to compile \" + stringify(component));\n        };\n        /**\n         * Clears all caches\n         */\n        Compiler.prototype.clearCache = function () { };\n        /**\n         * Clears the cache for the given component.\n         */\n        Compiler.prototype.clearCacheFor = function (compType) { };\n        return Compiler;\n    }());\n    /**\n     * @stable\n     */\n    var NoComponentFactoryError = (function (_super) {\n        __extends(NoComponentFactoryError, _super);\n        function NoComponentFactoryError(component) {\n            _super.call(this, \"No component factory found for \" + stringify(component));\n            this.component = component;\n        }\n        return NoComponentFactoryError;\n    }(BaseException));\n    var _NullComponentFactoryResolver = (function () {\n        function _NullComponentFactoryResolver() {\n        }\n        _NullComponentFactoryResolver.prototype.resolveComponentFactory = function (component) {\n            throw new NoComponentFactoryError(component);\n        };\n        return _NullComponentFactoryResolver;\n    }());\n    /**\n     * @stable\n     */\n    var ComponentFactoryResolver = (function () {\n        function ComponentFactoryResolver() {\n        }\n        return ComponentFactoryResolver;\n    }());\n    ComponentFactoryResolver.NULL = new _NullComponentFactoryResolver();\n    var CodegenComponentFactoryResolver = (function () {\n        function CodegenComponentFactoryResolver(factories, _parent) {\n            this._parent = _parent;\n            this._factories = new Map();\n            for (var i = 0; i < factories.length; i++) {\n                var factory = factories[i];\n                this._factories.set(factory.componentType, factory);\n            }\n        }\n        CodegenComponentFactoryResolver.prototype.resolveComponentFactory = function (component) {\n            var result = this._factories.get(component);\n            if (!result) {\n                result = this._parent.resolveComponentFactory(component);\n            }\n            return result;\n        };\n        return CodegenComponentFactoryResolver;\n    }());\n    /**\n     * Use ComponentResolver and ViewContainerRef directly.\n     *\n     * @deprecated\n     */\n    var DynamicComponentLoader = (function () {\n        function DynamicComponentLoader() {\n        }\n        return DynamicComponentLoader;\n    }());\n    var DynamicComponentLoader_ = (function (_super) {\n        __extends(DynamicComponentLoader_, _super);\n        function DynamicComponentLoader_(_compiler) {\n            _super.call(this);\n            this._compiler = _compiler;\n        }\n        DynamicComponentLoader_.prototype.loadAsRoot = function (type, overrideSelectorOrNode, injector, onDispose, projectableNodes) {\n            return this._compiler.resolveComponent(type).then(function (componentFactory) {\n                var componentRef = componentFactory.create(injector, projectableNodes, isPresent(overrideSelectorOrNode) ? overrideSelectorOrNode : componentFactory.selector);\n                if (isPresent(onDispose)) {\n                    componentRef.onDestroy(onDispose);\n                }\n                return componentRef;\n            });\n        };\n        DynamicComponentLoader_.prototype.loadNextToLocation = function (type, location, providers, projectableNodes) {\n            if (providers === void 0) { providers = null; }\n            if (projectableNodes === void 0) { projectableNodes = null; }\n            return this._compiler.resolveComponent(type).then(function (componentFactory) {\n                var contextInjector = location.parentInjector;\n                var childInjector = isPresent(providers) && providers.length > 0 ?\n                    ReflectiveInjector.fromResolvedProviders(providers, contextInjector) :\n                    contextInjector;\n                return location.createComponent(componentFactory, location.length, childInjector, projectableNodes);\n            });\n        };\n        return DynamicComponentLoader_;\n    }(DynamicComponentLoader));\n    /** @nocollapse */\n    DynamicComponentLoader_.decorators = [\n        { type: Injectable },\n    ];\n    /** @nocollapse */\n    DynamicComponentLoader_.ctorParameters = [\n        { type: ComponentResolver, },\n    ];\n    /**\n     * An unmodifiable list of items that Angular keeps up to date when the state\n     * of the application changes.\n     *\n     * The type of object that {@link QueryMetadata} and {@link ViewQueryMetadata} provide.\n     *\n     * Implements an iterable interface, therefore it can be used in both ES6\n     * javascript `for (var i of items)` loops as well as in Angular templates with\n     * `*ngFor=\"let i of myList\"`.\n     *\n     * Changes can be observed by subscribing to the changes `Observable`.\n     *\n     * NOTE: In the future this class will implement an `Observable` interface.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/RX8sJnQYl9FWuSCWme5z?p=preview))\n     * ```typescript\n     * @Component({...})\n     * class Container {\n     *   @ViewChildren(Item) items:QueryList<Item>;\n     * }\n     * ```\n     * @stable\n     */\n    var QueryList = (function () {\n        function QueryList() {\n            this._dirty = true;\n            this._results = [];\n            this._emitter = new EventEmitter();\n        }\n        Object.defineProperty(QueryList.prototype, \"changes\", {\n            get: function () { return this._emitter; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(QueryList.prototype, \"length\", {\n            get: function () { return this._results.length; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(QueryList.prototype, \"first\", {\n            get: function () { return this._results[0]; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(QueryList.prototype, \"last\", {\n            get: function () { return this._results[this.length - 1]; },\n            enumerable: true,\n            configurable: true\n        });\n        /**\n         * See\n         * [Array.map](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map)\n         */\n        QueryList.prototype.map = function (fn) { return this._results.map(fn); };\n        /**\n         * See\n         * [Array.filter](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter)\n         */\n        QueryList.prototype.filter = function (fn) {\n            return this._results.filter(fn);\n        };\n        /**\n         * See\n         * [Array.reduce](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce)\n         */\n        QueryList.prototype.reduce = function (fn, init) {\n            return this._results.reduce(fn, init);\n        };\n        /**\n         * See\n         * [Array.forEach](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach)\n         */\n        QueryList.prototype.forEach = function (fn) { this._results.forEach(fn); };\n        /**\n         * See\n         * [Array.some](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some)\n         */\n        QueryList.prototype.some = function (fn) {\n            return this._results.some(fn);\n        };\n        QueryList.prototype.toArray = function () { return this._results.slice(); };\n        QueryList.prototype[getSymbolIterator()] = function () { return this._results[getSymbolIterator()](); };\n        QueryList.prototype.toString = function () { return this._results.toString(); };\n        QueryList.prototype.reset = function (res) {\n            this._results = ListWrapper.flatten(res);\n            this._dirty = false;\n        };\n        QueryList.prototype.notifyOnChanges = function () { this._emitter.emit(this); };\n        /** internal */\n        QueryList.prototype.setDirty = function () { this._dirty = true; };\n        Object.defineProperty(QueryList.prototype, \"dirty\", {\n            /** internal */\n            get: function () { return this._dirty; },\n            enumerable: true,\n            configurable: true\n        });\n        return QueryList;\n    }());\n    var _SEPARATOR = '#';\n    /**\n     * Component resolver that can load components lazily\n     * @experimental\n     */\n    var SystemJsComponentResolver = (function () {\n        function SystemJsComponentResolver(_resolver) {\n            this._resolver = _resolver;\n        }\n        SystemJsComponentResolver.prototype.resolveComponent = function (componentType) {\n            var _this = this;\n            if (isString(componentType)) {\n                var _a = componentType.split(_SEPARATOR), module = _a[0], component_1 = _a[1];\n                if (component_1 === void (0)) {\n                    // Use the default export when no component is specified\n                    component_1 = 'default';\n                }\n                return global$1\n                    .System.import(module)\n                    .then(function (module) { return _this._resolver.resolveComponent(module[component_1]); });\n            }\n            return this._resolver.resolveComponent(componentType);\n        };\n        SystemJsComponentResolver.prototype.clearCache = function () { };\n        return SystemJsComponentResolver;\n    }());\n    var FACTORY_MODULE_SUFFIX = '.ngfactory';\n    var FACTORY_CLASS_SUFFIX = 'NgFactory';\n    /**\n     * Component resolver that can load component factories lazily\n     * @experimental\n     */\n    var SystemJsCmpFactoryResolver = (function () {\n        function SystemJsCmpFactoryResolver() {\n        }\n        SystemJsCmpFactoryResolver.prototype.resolveComponent = function (componentType) {\n            if (isString(componentType)) {\n                var _a = componentType.split(_SEPARATOR), module = _a[0], factory_1 = _a[1];\n                return global$1\n                    .System.import(module + FACTORY_MODULE_SUFFIX)\n                    .then(function (module) { return module[factory_1 + FACTORY_CLASS_SUFFIX]; });\n            }\n            return Promise.resolve(null);\n        };\n        SystemJsCmpFactoryResolver.prototype.clearCache = function () { };\n        return SystemJsCmpFactoryResolver;\n    }());\n    var EMPTY_CONTEXT$1 = new Object();\n    /**\n     * Represents an Embedded Template that can be used to instantiate Embedded Views.\n     *\n     * You can access a `TemplateRef`, in two ways. Via a directive placed on a `<template>` element (or\n     * directive prefixed with `*`) and have the `TemplateRef` for this Embedded View injected into the\n     * constructor of the directive using the `TemplateRef` Token. Alternatively you can query for the\n     * `TemplateRef` from a Component or a Directive via {@link Query}.\n     *\n     * To instantiate Embedded Views based on a Template, use\n     * {@link ViewContainerRef#createEmbeddedView}, which will create the View and attach it to the\n     * View Container.\n     * @stable\n     */\n    var TemplateRef = (function () {\n        function TemplateRef() {\n        }\n        Object.defineProperty(TemplateRef.prototype, \"elementRef\", {\n            /**\n             * The location in the View where the Embedded View logically belongs to.\n             *\n             * The data-binding and injection contexts of Embedded Views created from this `TemplateRef`\n             * inherit from the contexts of this location.\n             *\n             * Typically new Embedded Views are attached to the View Container of this location, but in\n             * advanced use-cases, the View can be attached to a different container while keeping the\n             * data-binding and injection context from the original location.\n             *\n             */\n            // TODO(i): rename to anchor or location\n            get: function () { return null; },\n            enumerable: true,\n            configurable: true\n        });\n        return TemplateRef;\n    }());\n    var TemplateRef_ = (function (_super) {\n        __extends(TemplateRef_, _super);\n        function TemplateRef_(_appElement, _viewFactory) {\n            _super.call(this);\n            this._appElement = _appElement;\n            this._viewFactory = _viewFactory;\n        }\n        TemplateRef_.prototype.createEmbeddedView = function (context) {\n            var view = this._viewFactory(this._appElement.parentView.viewUtils, this._appElement.parentInjector, this._appElement);\n            if (isBlank(context)) {\n                context = EMPTY_CONTEXT$1;\n            }\n            view.create(context, null, null);\n            return view.ref;\n        };\n        Object.defineProperty(TemplateRef_.prototype, \"elementRef\", {\n            get: function () { return this._appElement.elementRef; },\n            enumerable: true,\n            configurable: true\n        });\n        return TemplateRef_;\n    }(TemplateRef));\n    /**\n     * @stable\n     */\n    var ViewRef = (function () {\n        function ViewRef() {\n        }\n        Object.defineProperty(ViewRef.prototype, \"destroyed\", {\n            get: function () { return unimplemented(); },\n            enumerable: true,\n            configurable: true\n        });\n        return ViewRef;\n    }());\n    /**\n     * Represents an Angular View.\n     *\n     * <!-- TODO: move the next two paragraphs to the dev guide -->\n     * A View is a fundamental building block of the application UI. It is the smallest grouping of\n     * Elements which are created and destroyed together.\n     *\n     * Properties of elements in a View can change, but the structure (number and order) of elements in\n     * a View cannot. Changing the structure of Elements can only be done by inserting, moving or\n     * removing nested Views via a {@link ViewContainerRef}. Each View can contain many View Containers.\n     * <!-- /TODO -->\n     *\n     * ### Example\n     *\n     * Given this template...\n     *\n     * ```\n     * Count: {{items.length}}\n     * <ul>\n     *   <li *ngFor=\"let  item of items\">{{item}}</li>\n     * </ul>\n     * ```\n     *\n     * We have two {@link TemplateRef}s:\n     *\n     * Outer {@link TemplateRef}:\n     * ```\n     * Count: {{items.length}}\n     * <ul>\n     *   <template ngFor let-item [ngForOf]=\"items\"></template>\n     * </ul>\n     * ```\n     *\n     * Inner {@link TemplateRef}:\n     * ```\n     *   <li>{{item}}</li>\n     * ```\n     *\n     * Notice that the original template is broken down into two separate {@link TemplateRef}s.\n     *\n     * The outer/inner {@link TemplateRef}s are then assembled into views like so:\n     *\n     * ```\n     * <!-- ViewRef: outer-0 -->\n     * Count: 2\n     * <ul>\n     *   <template view-container-ref></template>\n     *   <!-- ViewRef: inner-1 --><li>first</li><!-- /ViewRef: inner-1 -->\n     *   <!-- ViewRef: inner-2 --><li>second</li><!-- /ViewRef: inner-2 -->\n     * </ul>\n     * <!-- /ViewRef: outer-0 -->\n     * ```\n     * @experimental\n     */\n    var EmbeddedViewRef = (function (_super) {\n        __extends(EmbeddedViewRef, _super);\n        function EmbeddedViewRef() {\n            _super.apply(this, arguments);\n        }\n        Object.defineProperty(EmbeddedViewRef.prototype, \"context\", {\n            get: function () { return unimplemented(); },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(EmbeddedViewRef.prototype, \"rootNodes\", {\n            get: function () { return unimplemented(); },\n            enumerable: true,\n            configurable: true\n        });\n        ;\n        return EmbeddedViewRef;\n    }(ViewRef));\n    var ViewRef_ = (function () {\n        function ViewRef_(_view) {\n            this._view = _view;\n            this._view = _view;\n            this._originalMode = this._view.cdMode;\n        }\n        Object.defineProperty(ViewRef_.prototype, \"internalView\", {\n            get: function () { return this._view; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(ViewRef_.prototype, \"rootNodes\", {\n            get: function () { return this._view.flatRootNodes; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(ViewRef_.prototype, \"context\", {\n            get: function () { return this._view.context; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(ViewRef_.prototype, \"destroyed\", {\n            get: function () { return this._view.destroyed; },\n            enumerable: true,\n            configurable: true\n        });\n        ViewRef_.prototype.markForCheck = function () { this._view.markPathToRootAsCheckOnce(); };\n        ViewRef_.prototype.detach = function () { this._view.cdMode = ChangeDetectorStatus.Detached; };\n        ViewRef_.prototype.detectChanges = function () { this._view.detectChanges(false); };\n        ViewRef_.prototype.checkNoChanges = function () { this._view.detectChanges(true); };\n        ViewRef_.prototype.reattach = function () {\n            this._view.cdMode = this._originalMode;\n            this.markForCheck();\n        };\n        ViewRef_.prototype.onDestroy = function (callback) { this._view.disposables.push(callback); };\n        ViewRef_.prototype.destroy = function () { this._view.destroy(); };\n        return ViewRef_;\n    }());\n    var EventListener = (function () {\n        function EventListener(name, callback) {\n            this.name = name;\n            this.callback = callback;\n        }\n        ;\n        return EventListener;\n    }());\n    /**\n     * @experimental All debugging apis are currently experimental.\n     */\n    var DebugNode = (function () {\n        function DebugNode(nativeNode, parent, _debugInfo) {\n            this._debugInfo = _debugInfo;\n            this.nativeNode = nativeNode;\n            if (isPresent(parent) && parent instanceof DebugElement) {\n                parent.addChild(this);\n            }\n            else {\n                this.parent = null;\n            }\n            this.listeners = [];\n        }\n        Object.defineProperty(DebugNode.prototype, \"injector\", {\n            get: function () { return isPresent(this._debugInfo) ? this._debugInfo.injector : null; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(DebugNode.prototype, \"componentInstance\", {\n            get: function () {\n                return isPresent(this._debugInfo) ? this._debugInfo.component : null;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(DebugNode.prototype, \"context\", {\n            get: function () { return isPresent(this._debugInfo) ? this._debugInfo.context : null; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(DebugNode.prototype, \"references\", {\n            get: function () {\n                return isPresent(this._debugInfo) ? this._debugInfo.references : null;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(DebugNode.prototype, \"providerTokens\", {\n            get: function () {\n                return isPresent(this._debugInfo) ? this._debugInfo.providerTokens : null;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(DebugNode.prototype, \"source\", {\n            get: function () { return isPresent(this._debugInfo) ? this._debugInfo.source : null; },\n            enumerable: true,\n            configurable: true\n        });\n        /**\n         * Use injector.get(token) instead.\n         *\n         * @deprecated\n         */\n        DebugNode.prototype.inject = function (token) { return this.injector.get(token); };\n        return DebugNode;\n    }());\n    /**\n     * @experimental All debugging apis are currently experimental.\n     */\n    var DebugElement = (function (_super) {\n        __extends(DebugElement, _super);\n        function DebugElement(nativeNode, parent, _debugInfo) {\n            _super.call(this, nativeNode, parent, _debugInfo);\n            this.properties = {};\n            this.attributes = {};\n            this.classes = {};\n            this.styles = {};\n            this.childNodes = [];\n            this.nativeElement = nativeNode;\n        }\n        DebugElement.prototype.addChild = function (child) {\n            if (isPresent(child)) {\n                this.childNodes.push(child);\n                child.parent = this;\n            }\n        };\n        DebugElement.prototype.removeChild = function (child) {\n            var childIndex = this.childNodes.indexOf(child);\n            if (childIndex !== -1) {\n                child.parent = null;\n                this.childNodes.splice(childIndex, 1);\n            }\n        };\n        DebugElement.prototype.insertChildrenAfter = function (child, newChildren) {\n            var siblingIndex = this.childNodes.indexOf(child);\n            if (siblingIndex !== -1) {\n                var previousChildren = this.childNodes.slice(0, siblingIndex + 1);\n                var nextChildren = this.childNodes.slice(siblingIndex + 1);\n                this.childNodes =\n                    ListWrapper.concat(ListWrapper.concat(previousChildren, newChildren), nextChildren);\n                for (var i = 0; i < newChildren.length; ++i) {\n                    var newChild = newChildren[i];\n                    if (isPresent(newChild.parent)) {\n                        newChild.parent.removeChild(newChild);\n                    }\n                    newChild.parent = this;\n                }\n            }\n        };\n        DebugElement.prototype.query = function (predicate) {\n            var results = this.queryAll(predicate);\n            return results.length > 0 ? results[0] : null;\n        };\n        DebugElement.prototype.queryAll = function (predicate) {\n            var matches = [];\n            _queryElementChildren(this, predicate, matches);\n            return matches;\n        };\n        DebugElement.prototype.queryAllNodes = function (predicate) {\n            var matches = [];\n            _queryNodeChildren(this, predicate, matches);\n            return matches;\n        };\n        Object.defineProperty(DebugElement.prototype, \"children\", {\n            get: function () {\n                var children = [];\n                this.childNodes.forEach(function (node) {\n                    if (node instanceof DebugElement) {\n                        children.push(node);\n                    }\n                });\n                return children;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        DebugElement.prototype.triggerEventHandler = function (eventName, eventObj) {\n            this.listeners.forEach(function (listener) {\n                if (listener.name == eventName) {\n                    listener.callback(eventObj);\n                }\n            });\n        };\n        return DebugElement;\n    }(DebugNode));\n    /**\n     * @experimental\n     */\n    function asNativeElements(debugEls) {\n        return debugEls.map(function (el) { return el.nativeElement; });\n    }\n    function _queryElementChildren(element, predicate, matches) {\n        element.childNodes.forEach(function (node) {\n            if (node instanceof DebugElement) {\n                if (predicate(node)) {\n                    matches.push(node);\n                }\n                _queryElementChildren(node, predicate, matches);\n            }\n        });\n    }\n    function _queryNodeChildren(parentNode, predicate, matches) {\n        if (parentNode instanceof DebugElement) {\n            parentNode.childNodes.forEach(function (node) {\n                if (predicate(node)) {\n                    matches.push(node);\n                }\n                if (node instanceof DebugElement) {\n                    _queryNodeChildren(node, predicate, matches);\n                }\n            });\n        }\n    }\n    // Need to keep the nodes in a global Map so that multiple angular apps are supported.\n    var _nativeNodeToDebugNode = new Map();\n    /**\n     * @experimental\n     */\n    function getDebugNode(nativeNode) {\n        return _nativeNodeToDebugNode.get(nativeNode);\n    }\n    function indexDebugNode(node) {\n        _nativeNodeToDebugNode.set(node.nativeNode, node);\n    }\n    function removeDebugNodeFromIndex(node) {\n        _nativeNodeToDebugNode.delete(node.nativeNode);\n    }\n    /**\n       A token that can be provided when bootstrapping an application to make an array of directives\n      * available in every component of the application.\n      *\n      * ### Example\n      *\n      * ```typescript\n      * import {PLATFORM_DIRECTIVES} from '@angular/core';\n      * import {OtherDirective} from './myDirectives';\n      *\n      * @Component({\n      *   selector: 'my-component',\n      *   template: `\n      *     <!-- can use other directive even though the component does not list it in `directives` -->\n      *     <other-directive></other-directive>\n      *   `\n      * })\n      * export class MyComponent {\n      *   ...\n      * }\n      *\n      * bootstrap(MyComponent, [{provide: PLATFORM_DIRECTIVES, useValue: [OtherDirective],\n      multi:true}]);\n      * ```\n      * @stable\n      */\n    var PLATFORM_DIRECTIVES =\n    /*@ts2dart_const*/ new OpaqueToken('Platform Directives');\n    /**\n      * A token that can be provided when bootstraping an application to make an array of pipes\n      * available in every component of the application.\n      *\n      * ### Example\n      *\n      * ```typescript\n      * import {PLATFORM_PIPES} from '@angular/core';\n      * import {OtherPipe} from './myPipe';\n      *\n      * @Component({\n      *   selector: 'my-component',\n      *   template: `\n      *     {{123 | other-pipe}}\n      *   `\n      * })\n      * export class MyComponent {\n      *   ...\n      * }\n      *\n      * bootstrap(MyComponent, [{provide: PLATFORM_PIPES, useValue: [OtherPipe], multi:true}]);\n      * ```\n      * @stable\n      */\n    var PLATFORM_PIPES = new OpaqueToken('Platform Pipes');\n    function _reflector() {\n        return reflector;\n    }\n    // prevent missing use Dart warning.\n    /**\n     * A default set of providers which should be included in any Angular platform.\n     * @experimental\n     */\n    var PLATFORM_COMMON_PROVIDERS = [\n        PLATFORM_CORE_PROVIDERS,\n        /*@ts2dart_Provider*/ { provide: Reflector, useFactory: _reflector, deps: [] },\n        /*@ts2dart_Provider*/ { provide: ReflectorReader, useExisting: Reflector }, TestabilityRegistry,\n        Console\n    ];\n    // avoid unused import when Type union types are erased\n    /**\n     * A default set of providers which should be included in any Angular\n     * application, regardless of the platform it runs onto.\n     * @stable\n     */\n    var APPLICATION_COMMON_PROVIDERS =\n    /*@ts2dart_const*/ [\n        APPLICATION_CORE_PROVIDERS,\n        /* @ts2dart_Provider */ { provide: ComponentResolver, useClass: ReflectorComponentResolver },\n        { provide: ComponentFactoryResolver, useValue: ComponentFactoryResolver.NULL },\n        APP_ID_RANDOM_PROVIDER,\n        ViewUtils,\n        /* @ts2dart_Provider */ { provide: IterableDiffers, useValue: defaultIterableDiffers },\n        /* @ts2dart_Provider */ { provide: KeyValueDiffers, useValue: defaultKeyValueDiffers },\n        /* @ts2dart_Provider */ { provide: DynamicComponentLoader, useClass: DynamicComponentLoader_ },\n    ];\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var FILL_STYLE_FLAG = 'true'; // TODO (matsko): change to boolean\n    var ANY_STATE = '*';\n    var DEFAULT_STATE = '*';\n    var EMPTY_STATE = 'void';\n    /**\n     * @experimental Animation support is experimental.\n     */\n    var AnimationPlayer = (function () {\n        function AnimationPlayer() {\n        }\n        Object.defineProperty(AnimationPlayer.prototype, \"parentPlayer\", {\n            get: function () { throw new BaseException('NOT IMPLEMENTED: Base Class'); },\n            set: function (player) {\n                throw new BaseException('NOT IMPLEMENTED: Base Class');\n            },\n            enumerable: true,\n            configurable: true\n        });\n        return AnimationPlayer;\n    }());\n    var NoOpAnimationPlayer = (function () {\n        function NoOpAnimationPlayer() {\n            var _this = this;\n            this._subscriptions = [];\n            this.parentPlayer = null;\n            scheduleMicroTask(function () { return _this._onFinish(); });\n        }\n        /** @internal */\n        NoOpAnimationPlayer.prototype._onFinish = function () {\n            this._subscriptions.forEach(function (entry) { entry(); });\n            this._subscriptions = [];\n        };\n        NoOpAnimationPlayer.prototype.onDone = function (fn) { this._subscriptions.push(fn); };\n        NoOpAnimationPlayer.prototype.play = function () { };\n        NoOpAnimationPlayer.prototype.pause = function () { };\n        NoOpAnimationPlayer.prototype.restart = function () { };\n        NoOpAnimationPlayer.prototype.finish = function () { this._onFinish(); };\n        NoOpAnimationPlayer.prototype.destroy = function () { };\n        NoOpAnimationPlayer.prototype.reset = function () { };\n        NoOpAnimationPlayer.prototype.setPosition = function (p /** TODO #9100 */) { };\n        NoOpAnimationPlayer.prototype.getPosition = function () { return 0; };\n        return NoOpAnimationPlayer;\n    }());\n    var AnimationDriver = (function () {\n        function AnimationDriver() {\n        }\n        return AnimationDriver;\n    }());\n    var NoOpAnimationDriver = (function (_super) {\n        __extends(NoOpAnimationDriver, _super);\n        function NoOpAnimationDriver() {\n            _super.apply(this, arguments);\n        }\n        NoOpAnimationDriver.prototype.animate = function (element, startingStyles, keyframes, duration, delay, easing) {\n            return new NoOpAnimationPlayer();\n        };\n        return NoOpAnimationDriver;\n    }(AnimationDriver));\n    var Math$1 = global$1.Math;\n    var AnimationGroupPlayer = (function () {\n        function AnimationGroupPlayer(_players) {\n            var _this = this;\n            this._players = _players;\n            this._subscriptions = [];\n            this._finished = false;\n            this.parentPlayer = null;\n            var count = 0;\n            var total = this._players.length;\n            if (total == 0) {\n                scheduleMicroTask(function () { return _this._onFinish(); });\n            }\n            else {\n                this._players.forEach(function (player) {\n                    player.parentPlayer = _this;\n                    player.onDone(function () {\n                        if (++count >= total) {\n                            _this._onFinish();\n                        }\n                    });\n                });\n            }\n        }\n        AnimationGroupPlayer.prototype._onFinish = function () {\n            if (!this._finished) {\n                this._finished = true;\n                if (!isPresent(this.parentPlayer)) {\n                    this.destroy();\n                }\n                this._subscriptions.forEach(function (subscription) { return subscription(); });\n                this._subscriptions = [];\n            }\n        };\n        AnimationGroupPlayer.prototype.onDone = function (fn) { this._subscriptions.push(fn); };\n        AnimationGroupPlayer.prototype.play = function () { this._players.forEach(function (player) { return player.play(); }); };\n        AnimationGroupPlayer.prototype.pause = function () { this._players.forEach(function (player) { return player.pause(); }); };\n        AnimationGroupPlayer.prototype.restart = function () { this._players.forEach(function (player) { return player.restart(); }); };\n        AnimationGroupPlayer.prototype.finish = function () {\n            this._onFinish();\n            this._players.forEach(function (player) { return player.finish(); });\n        };\n        AnimationGroupPlayer.prototype.destroy = function () {\n            this._onFinish();\n            this._players.forEach(function (player) { return player.destroy(); });\n        };\n        AnimationGroupPlayer.prototype.reset = function () { this._players.forEach(function (player) { return player.reset(); }); };\n        AnimationGroupPlayer.prototype.setPosition = function (p /** TODO #9100 */) {\n            this._players.forEach(function (player) { player.setPosition(p); });\n        };\n        AnimationGroupPlayer.prototype.getPosition = function () {\n            var min = 0;\n            this._players.forEach(function (player) {\n                var p = player.getPosition();\n                min = Math$1.min(p, min);\n            });\n            return min;\n        };\n        return AnimationGroupPlayer;\n    }());\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var AnimationKeyframe = (function () {\n        function AnimationKeyframe(offset, styles) {\n            this.offset = offset;\n            this.styles = styles;\n        }\n        return AnimationKeyframe;\n    }());\n    var AnimationSequencePlayer = (function () {\n        function AnimationSequencePlayer(_players) {\n            var _this = this;\n            this._players = _players;\n            this._currentIndex = 0;\n            this._subscriptions = [];\n            this._finished = false;\n            this.parentPlayer = null;\n            this._players.forEach(function (player) { player.parentPlayer = _this; });\n            this._onNext(false);\n        }\n        AnimationSequencePlayer.prototype._onNext = function (start) {\n            var _this = this;\n            if (this._finished)\n                return;\n            if (this._players.length == 0) {\n                this._activePlayer = new NoOpAnimationPlayer();\n                scheduleMicroTask(function () { return _this._onFinish(); });\n            }\n            else if (this._currentIndex >= this._players.length) {\n                this._activePlayer = new NoOpAnimationPlayer();\n                this._onFinish();\n            }\n            else {\n                var player = this._players[this._currentIndex++];\n                player.onDone(function () { return _this._onNext(true); });\n                this._activePlayer = player;\n                if (start) {\n                    player.play();\n                }\n            }\n        };\n        AnimationSequencePlayer.prototype._onFinish = function () {\n            if (!this._finished) {\n                this._finished = true;\n                if (!isPresent(this.parentPlayer)) {\n                    this.destroy();\n                }\n                this._subscriptions.forEach(function (subscription) { return subscription(); });\n                this._subscriptions = [];\n            }\n        };\n        AnimationSequencePlayer.prototype.onDone = function (fn) { this._subscriptions.push(fn); };\n        AnimationSequencePlayer.prototype.play = function () { this._activePlayer.play(); };\n        AnimationSequencePlayer.prototype.pause = function () { this._activePlayer.pause(); };\n        AnimationSequencePlayer.prototype.restart = function () {\n            if (this._players.length > 0) {\n                this.reset();\n                this._players[0].restart();\n            }\n        };\n        AnimationSequencePlayer.prototype.reset = function () { this._players.forEach(function (player) { return player.reset(); }); };\n        AnimationSequencePlayer.prototype.finish = function () {\n            this._onFinish();\n            this._players.forEach(function (player) { return player.finish(); });\n        };\n        AnimationSequencePlayer.prototype.destroy = function () {\n            this._onFinish();\n            this._players.forEach(function (player) { return player.destroy(); });\n        };\n        AnimationSequencePlayer.prototype.setPosition = function (p /** TODO #9100 */) { this._players[0].setPosition(p); };\n        AnimationSequencePlayer.prototype.getPosition = function () { return this._players[0].getPosition(); };\n        return AnimationSequencePlayer;\n    }());\n    /**\n     * @experimental Animation support is experimental.\n     */\n    var AUTO_STYLE = '*';\n    /**\n     * Metadata representing the entry of animations.\n     * Instances of this class are provided via the animation DSL when the {@link trigger trigger\n     * animation function} is called.\n     *\n     * @experimental Animation support is experimental.\n     */\n    var AnimationEntryMetadata = (function () {\n        function AnimationEntryMetadata(name, definitions) {\n            this.name = name;\n            this.definitions = definitions;\n        }\n        return AnimationEntryMetadata;\n    }());\n    /**\n     * @experimental Animation support is experimental.\n     */\n    var AnimationStateMetadata = (function () {\n        function AnimationStateMetadata() {\n        }\n        return AnimationStateMetadata;\n    }());\n    /**\n     * Metadata representing the entry of animations.\n     * Instances of this class are provided via the animation DSL when the {@link state state animation\n     * function} is called.\n     *\n     * @experimental Animation support is experimental.\n     */\n    var AnimationStateDeclarationMetadata = (function (_super) {\n        __extends(AnimationStateDeclarationMetadata, _super);\n        function AnimationStateDeclarationMetadata(stateNameExpr, styles) {\n            _super.call(this);\n            this.stateNameExpr = stateNameExpr;\n            this.styles = styles;\n        }\n        return AnimationStateDeclarationMetadata;\n    }(AnimationStateMetadata));\n    /**\n     * Metadata representing the entry of animations.\n     * Instances of this class are provided via the animation DSL when the\n     * {@link transition transition animation function} is called.\n     *\n     * @experimental Animation support is experimental.\n     */\n    var AnimationStateTransitionMetadata = (function (_super) {\n        __extends(AnimationStateTransitionMetadata, _super);\n        function AnimationStateTransitionMetadata(stateChangeExpr, steps) {\n            _super.call(this);\n            this.stateChangeExpr = stateChangeExpr;\n            this.steps = steps;\n        }\n        return AnimationStateTransitionMetadata;\n    }(AnimationStateMetadata));\n    /**\n     * @experimental Animation support is experimental.\n     */\n    var AnimationMetadata = (function () {\n        function AnimationMetadata() {\n        }\n        return AnimationMetadata;\n    }());\n    /**\n     * Metadata representing the entry of animations.\n     * Instances of this class are provided via the animation DSL when the {@link keyframes keyframes\n     * animation function} is called.\n     *\n     * @experimental Animation support is experimental.\n     */\n    var AnimationKeyframesSequenceMetadata = (function (_super) {\n        __extends(AnimationKeyframesSequenceMetadata, _super);\n        function AnimationKeyframesSequenceMetadata(steps) {\n            _super.call(this);\n            this.steps = steps;\n        }\n        return AnimationKeyframesSequenceMetadata;\n    }(AnimationMetadata));\n    /**\n     * Metadata representing the entry of animations.\n     * Instances of this class are provided via the animation DSL when the {@link style style animation\n     * function} is called.\n     *\n     * @experimental Animation support is experimental.\n     */\n    var AnimationStyleMetadata = (function (_super) {\n        __extends(AnimationStyleMetadata, _super);\n        function AnimationStyleMetadata(styles, offset) {\n            if (offset === void 0) { offset = null; }\n            _super.call(this);\n            this.styles = styles;\n            this.offset = offset;\n        }\n        return AnimationStyleMetadata;\n    }(AnimationMetadata));\n    /**\n     * Metadata representing the entry of animations.\n     * Instances of this class are provided via the animation DSL when the {@link animate animate\n     * animation function} is called.\n     *\n     * @experimental Animation support is experimental.\n     */\n    var AnimationAnimateMetadata = (function (_super) {\n        __extends(AnimationAnimateMetadata, _super);\n        function AnimationAnimateMetadata(timings, styles) {\n            _super.call(this);\n            this.timings = timings;\n            this.styles = styles;\n        }\n        return AnimationAnimateMetadata;\n    }(AnimationMetadata));\n    /**\n     * @experimental Animation support is experimental.\n     */\n    var AnimationWithStepsMetadata = (function (_super) {\n        __extends(AnimationWithStepsMetadata, _super);\n        function AnimationWithStepsMetadata() {\n            _super.call(this);\n        }\n        Object.defineProperty(AnimationWithStepsMetadata.prototype, \"steps\", {\n            get: function () { throw new BaseException('NOT IMPLEMENTED: Base Class'); },\n            enumerable: true,\n            configurable: true\n        });\n        return AnimationWithStepsMetadata;\n    }(AnimationMetadata));\n    /**\n     * Metadata representing the entry of animations.\n     * Instances of this class are provided via the animation DSL when the {@link sequence sequence\n     * animation function} is called.\n     *\n     * @experimental Animation support is experimental.\n     */\n    var AnimationSequenceMetadata = (function (_super) {\n        __extends(AnimationSequenceMetadata, _super);\n        function AnimationSequenceMetadata(_steps) {\n            _super.call(this);\n            this._steps = _steps;\n        }\n        Object.defineProperty(AnimationSequenceMetadata.prototype, \"steps\", {\n            get: function () { return this._steps; },\n            enumerable: true,\n            configurable: true\n        });\n        return AnimationSequenceMetadata;\n    }(AnimationWithStepsMetadata));\n    /**\n     * Metadata representing the entry of animations.\n     * Instances of this class are provided via the animation DSL when the {@link group group animation\n     * function} is called.\n     *\n     * @experimental Animation support is experimental.\n     */\n    var AnimationGroupMetadata = (function (_super) {\n        __extends(AnimationGroupMetadata, _super);\n        function AnimationGroupMetadata(_steps) {\n            _super.call(this);\n            this._steps = _steps;\n        }\n        Object.defineProperty(AnimationGroupMetadata.prototype, \"steps\", {\n            get: function () { return this._steps; },\n            enumerable: true,\n            configurable: true\n        });\n        return AnimationGroupMetadata;\n    }(AnimationWithStepsMetadata));\n    /**\n     * `animate` is an animation-specific function that is designed to be used inside of Angular2's\n     * animation\n     * DSL language. If this information is new, please navigate to the\n     * {@link ComponentMetadata#animations-anchor component animations metadata\n     * page} to gain a better understanding of how animations in Angular2 are used.\n     *\n     * `animate` specifies an animation step that will apply the provided `styles` data for a given\n     * amount of\n     * time based on the provided `timing` expression value. Calls to `animate` are expected to be\n     * used within {@link sequence an animation sequence}, {@link group group}, or {@link transition\n     * transition}.\n     *\n     * ### Usage\n     *\n     * The `animate` function accepts two input parameters: `timing` and `styles`:\n     *\n     * - `timing` is a string based value that can be a combination of a duration with optional\n     * delay and easing values. The format for the expression breaks down to `duration delay easing`\n     * (therefore a value such as `1s 100ms ease-out` will be parse itself into `duration=1000,\n     * delay=100, easing=ease-out`.\n     * If a numeric value is provided then that will be used as the `duration` value in millisecond\n     * form.\n     * - `styles` is the style input data which can either be a call to {@link style style} or {@link\n     * keyframes keyframes}.\n     * If left empty then the styles from the destination state will be collected and used (this is\n     * useful when\n     * describing an animation step that will complete an animation by {@link\n     * transition#the-final-animate-call animating to the final state}).\n     *\n     * ```typescript\n     * // various functions for specifying timing data\n     * animate(500, style(...))\n     * animate(\"1s\", style(...))\n     * animate(\"100ms 0.5s\", style(...))\n     * animate(\"5s ease\", style(...))\n     * animate(\"5s 10ms cubic-bezier(.17,.67,.88,.1)\", style(...))\n     *\n     * // either style() of keyframes() can be used\n     * animate(500, style({ background: \"red\" }))\n     * animate(500, keyframes([\n     *   style({ background: \"blue\" })),\n     *   style({ background: \"red\" }))\n     * ])\n     * ```\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/Kez8XGWBxWue7qP7nNvF?p=preview))\n     *\n     * {@example core/animation/ts/dsl/animation_example.ts region='Component'}\n     *\n     * @experimental Animation support is experimental.\n     */\n    function animate(timing, styles) {\n        if (styles === void 0) { styles = null; }\n        var stylesEntry = styles;\n        if (!isPresent(stylesEntry)) {\n            var EMPTY_STYLE = {};\n            stylesEntry = new AnimationStyleMetadata([EMPTY_STYLE], 1);\n        }\n        return new AnimationAnimateMetadata(timing, stylesEntry);\n    }\n    /**\n     * `group` is an animation-specific function that is designed to be used inside of Angular2's\n     * animation\n     * DSL language. If this information is new, please navigate to the\n     * {@link ComponentMetadata#animations-anchor component animations metadata\n     * page} to gain a better understanding of how animations in Angular2 are used.\n     *\n     * `group` specifies a list of animation steps that are all run in parallel. Grouped animations\n     * are useful when a series of styles must be animated/closed off\n     * at different statrting/ending times.\n     *\n     * The `group` function can either be used within a {@link sequence sequence} or a {@link transition\n     * transition}\n     * and it will only continue to the next instruction once all of the inner animation steps\n     * have completed.\n     *\n     * ### Usage\n     *\n     * The `steps` data that is passed into the `group` animation function can either consist\n     * of {@link style style} or {@link animate animate} function calls. Each call to `style()` or\n     * `animate()`\n     * within a group will be executed instantly (use {@link keyframes keyframes} or a\n     * {@link animate#usage animate() with a delay value} to offset styles to be applied at a later\n     * time).\n     *\n     * ```typescript\n     * group([\n     *   animate(\"1s\", { background: \"black\" }))\n     *   animate(\"2s\", { color: \"white\" }))\n     * ])\n     * ```\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/Kez8XGWBxWue7qP7nNvF?p=preview))\n     *\n     * {@example core/animation/ts/dsl/animation_example.ts region='Component'}\n     *\n     * @experimental Animation support is experimental.\n     */\n    function group(steps) {\n        return new AnimationGroupMetadata(steps);\n    }\n    /**\n     * `sequence` is an animation-specific function that is designed to be used inside of Angular2's\n     * animation\n     * DSL language. If this information is new, please navigate to the\n     * {@link ComponentMetadata#animations-anchor component animations metadata\n     * page} to gain a better understanding of how animations in Angular2 are used.\n     *\n     * `sequence` Specifies a list of animation steps that are run one by one. (`sequence` is used\n     * by default when an array is passed as animation data into {@link transition transition}.)\n     *\n     * The `sequence` function can either be used within a {@link group group} or a {@link transition\n     * transition}\n     * and it will only continue to the next instruction once each of the inner animation steps\n     * have completed.\n     *\n     * To perform animation styling in parallel with other animation steps then\n     * have a look at the {@link group group} animation function.\n     *\n     * ### Usage\n     *\n     * The `steps` data that is passed into the `sequence` animation function can either consist\n     * of {@link style style} or {@link animate animate} function calls. A call to `style()` will apply\n     * the\n     * provided styling data immediately while a call to `animate()` will apply its styling\n     * data over a given time depending on its timing data.\n     *\n     * ```typescript\n     * sequence([\n     *   style({ opacity: 0 })),\n     *   animate(\"1s\", { opacity: 1 }))\n     * ])\n     * ```\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/Kez8XGWBxWue7qP7nNvF?p=preview))\n     *\n     * {@example core/animation/ts/dsl/animation_example.ts region='Component'}\n     *\n     * @experimental Animation support is experimental.\n     */\n    function sequence(steps) {\n        return new AnimationSequenceMetadata(steps);\n    }\n    /**\n     * `style` is an animation-specific function that is designed to be used inside of Angular2's\n     * animation\n     * DSL language. If this information is new, please navigate to the\n     * {@link ComponentMetadata#animations-anchor component animations metadata\n     * page} to gain a better understanding of how animations in Angular2 are used.\n     *\n     * `style` declares a key/value object containing CSS properties/styles that can then\n     * be used for {@link state animation states}, within an {@link sequence animation sequence}, or as\n     * styling data for both {@link animate animate} and {@link keyframes keyframes}.\n     *\n     * ### Usage\n     *\n     * `style` takes in a key/value string map as data and expects one or more CSS property/value\n     * pairs to be defined.\n     *\n     * ```typescript\n     * // string values are used for css properties\n     * style({ background: \"red\", color: \"blue\" })\n     *\n     * // numerical (pixel) values are also supported\n     * style({ width: 100, height: 0 })\n     * ```\n     *\n     * #### Auto-styles (using `*`)\n     *\n     * When an asterix (`*`) character is used as a value then it will be detected from the element\n     * being animated\n     * and applied as animation data when the animation starts.\n     *\n     * This feature proves useful for a state depending on layout and/or environment factors; in such\n     * cases\n     * the styles are calculated just before the animation starts.\n     *\n     * ```typescript\n     * // the steps below will animate from 0 to the\n     * // actual height of the element\n     * style({ height: 0 }),\n     * animate(\"1s\", style({ height: \"*\" }))\n     * ```\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/Kez8XGWBxWue7qP7nNvF?p=preview))\n     *\n     * {@example core/animation/ts/dsl/animation_example.ts region='Component'}\n     *\n     * @experimental Animation support is experimental.\n     */\n    function style(tokens) {\n        var input;\n        var offset = null;\n        if (isString(tokens)) {\n            input = [tokens];\n        }\n        else {\n            if (isArray(tokens)) {\n                input = tokens;\n            }\n            else {\n                input = [tokens];\n            }\n            input.forEach(function (entry) {\n                var entryOffset = entry['offset'];\n                if (isPresent(entryOffset)) {\n                    offset = offset == null ? NumberWrapper.parseFloat(entryOffset) : offset;\n                }\n            });\n        }\n        return new AnimationStyleMetadata(input, offset);\n    }\n    /**\n     * `state` is an animation-specific function that is designed to be used inside of Angular2's\n     * animation\n     * DSL language. If this information is new, please navigate to the\n     * {@link ComponentMetadata#animations-anchor component animations metadata\n     * page} to gain a better understanding of how animations in Angular2 are used.\n     *\n     * `state` declares an animation state within the given trigger. When a state is\n     * active within a component then its associated styles will persist on\n     * the element that the trigger is attached to (even when the animation ends).\n     *\n     * To animate between states, have a look at the animation {@link transition transition}\n     * DSL function. To register states to an animation trigger please have a look\n     * at the {@link trigger trigger} function.\n     *\n     * #### The `void` state\n     *\n     * The `void` state value is a reserved word that angular uses to determine when the element is not\n     * apart\n     * of the application anymore (e.g. when an `ngIf` evaluates to false then the state of the\n     * associated element\n     * is void).\n     *\n     * #### The `*` (default) state\n     *\n     * The `*` state (when styled) is a fallback state that will be used if\n     * the state that is being animated is not declared within the trigger.\n     *\n     * ### Usage\n     *\n     * `state` will declare an animation state with its associated styles\n     * within the given trigger.\n     *\n     * - `stateNameExpr` can be one or more state names separated by commas.\n     * - `styles` refers to the {@link style styling data} that will be persisted on the element once\n     * the state\n     * has been reached.\n     *\n     * ```typescript\n     * // \"void\" is a reserved name for a state and is used to represent\n     * // the state in which an element is detached from from the application.\n     * state(\"void\", style({ height: 0 }))\n     *\n     * // user-defined states\n     * state(\"closed\", style({ height: 0 }))\n     * state(\"open, visible\", style({ height: \"*\" }))\n     * ```\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/Kez8XGWBxWue7qP7nNvF?p=preview))\n     *\n     * {@example core/animation/ts/dsl/animation_example.ts region='Component'}\n     *\n     * @experimental Animation support is experimental.\n     */\n    function state(stateNameExpr, styles) {\n        return new AnimationStateDeclarationMetadata(stateNameExpr, styles);\n    }\n    /**\n     * `keyframes` is an animation-specific function that is designed to be used inside of Angular2's\n     * animation\n     * DSL language. If this information is new, please navigate to the\n     * {@link ComponentMetadata#animations-anchor component animations metadata\n     * page} to gain a better understanding of how animations in Angular2 are used.\n     *\n     * `keyframes` specifies a collection of {@link style style} entries each optionally characterized\n     * by an `offset` value.\n     *\n     * ### Usage\n     *\n     * The `keyframes` animation function is designed to be used alongside the {@link animate animate}\n     * animation function. Instead of applying animations from where they are\n     * currently to their destination, keyframes can describe how each style entry is applied\n     * and at what point within the animation arc (much like CSS Keyframe Animations do).\n     *\n     * For each `style()` entry an `offset` value can be set. Doing so allows to specifiy at\n     * what percentage of the animate time the styles will be applied.\n     *\n     * ```typescript\n     * // the provided offset values describe when each backgroundColor value is applied.\n     * animate(\"5s\", keyframes([\n     *   style({ backgroundColor: \"red\", offset: 0 }),\n     *   style({ backgroundColor: \"blue\", offset: 0.2 }),\n     *   style({ backgroundColor: \"orange\", offset: 0.3 }),\n     *   style({ backgroundColor: \"black\", offset: 1 })\n     * ]))\n     * ```\n     *\n     * Alternatively, if there are no `offset` values used within the style entries then the offsets\n     * will\n     * be calculated automatically.\n     *\n     * ```typescript\n     * animate(\"5s\", keyframes([\n     *   style({ backgroundColor: \"red\" }) // offset = 0\n     *   style({ backgroundColor: \"blue\" }) // offset = 0.33\n     *   style({ backgroundColor: \"orange\" }) // offset = 0.66\n     *   style({ backgroundColor: \"black\" }) // offset = 1\n     * ]))\n     * ```\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/Kez8XGWBxWue7qP7nNvF?p=preview))\n     *\n     * {@example core/animation/ts/dsl/animation_example.ts region='Component'}\n     *\n     * @experimental Animation support is experimental.\n     */\n    function keyframes(steps) {\n        return new AnimationKeyframesSequenceMetadata(steps);\n    }\n    /**\n     * `transition` is an animation-specific function that is designed to be used inside of Angular2's\n     * animation\n     * DSL language. If this information is new, please navigate to the\n     * {@link ComponentMetadata#animations-anchor component animations metadata\n     * page} to gain a better understanding of how animations in Angular2 are used.\n     *\n     * `transition` declares the {@link sequence sequence of animation steps} that will be run when the\n     * provided\n     * `stateChangeExpr` value is satisfied. The `stateChangeExpr` consists of a `state1 => state2`\n     * which consists\n     * of two known states (use an asterix (`*`) to refer to a dynamic starting and/or ending state).\n     *\n     * Animation transitions are placed within an {@link trigger animation trigger}. For an transition\n     * to animate to\n     * a state value and persist its styles then one or more {@link state animation states} is expected\n     * to be defined.\n     *\n     * ### Usage\n     *\n     * An animation transition is kicked off the `stateChangeExpr` predicate evaluates to true based on\n     * what the\n     * previous state is and what the current state has become. In other words, if a transition is\n     * defined that\n     * matches the old/current state criteria then the associated animation will be triggered.\n     *\n     * ```typescript\n     * // all transition/state changes are defined within an animation trigger\n     * trigger(\"myAnimationTrigger\", [\n     *   // if a state is defined then its styles will be persisted when the\n     *   // animation has fully completed itself\n     *   state(\"on\", style({ background: \"green\" })),\n     *   state(\"off\", style({ background: \"grey\" })),\n     *\n     *   // a transition animation that will be kicked off when the state value\n     *   // bound to \"myAnimationTrigger\" changes from \"on\" to \"off\"\n     *   transition(\"on => off\", animate(500)),\n     *\n     *   // it is also possible to do run the same animation for both directions\n     *   transition(\"on <=> off\", animate(500)),\n     *\n     *   // or to define multiple states pairs separated by commas\n     *   transition(\"on => off, off => void\", animate(500)),\n     *\n     *   // this is a catch-all state change for when an element is inserted into\n     *   // the page and the destination state is unknown\n     *   transition(\"void => *\", [\n     *     style({ opacity: 0 }),\n     *     animate(500)\n     *   ]),\n     *\n     *   // this will capture a state change between any states\n     *   transition(\"* => *\", animate(\"1s 0s\")),\n     * ])\n     * ```\n     *\n     * The template associated with this component will make use of the `myAnimationTrigger`\n     * animation trigger by binding to an element within its template code.\n     *\n     * ```html\n     * <!-- somewhere inside of my-component-tpl.html -->\n     * <div @myAnimationTrigger=\"myStatusExp\">...</div>\n     * ```\n     *\n     * #### The final `animate` call\n     *\n     * If the final step within the transition steps is a call to `animate()` that **only**\n     * uses a timing value with **no style data** then it will be automatically used as the final\n     * animation\n     * arc for the element to animate itself to the final state. This involves an automatic mix of\n     * adding/removing CSS styles so that the element will be in the exact state it should be for the\n     * applied state to be presented correctly.\n     *\n     * ```\n     * // start off by hiding the element, but make sure that it animates properly to whatever state\n     * // is currently active for \"myAnimationTrigger\"\n     * transition(\"void => *\", [\n     *   style({ opacity: 0 }),\n     *   animate(500)\n     * ])\n     * ```\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/Kez8XGWBxWue7qP7nNvF?p=preview))\n     *\n     * {@example core/animation/ts/dsl/animation_example.ts region='Component'}\n     *\n     * @experimental Animation support is experimental.\n     */\n    function transition(stateChangeExpr, steps) {\n        var animationData = isArray(steps) ? new AnimationSequenceMetadata(steps) :\n            steps;\n        return new AnimationStateTransitionMetadata(stateChangeExpr, animationData);\n    }\n    /**\n     * `trigger` is an animation-specific function that is designed to be used inside of Angular2's\n     * animation\n     * DSL language. If this information is new, please navigate to the\n     * {@link ComponentMetadata#animations-anchor component animations metadata\n     * page} to gain a better understanding of how animations in Angular2 are used.\n     *\n     * `trigger` Creates an animation trigger which will a list of {@link state state} and {@link\n     * transition transition}\n     * entries that will be evaluated when the expression bound to the trigger changes.\n     *\n     * Triggers are registered within the component annotation data under the\n     * {@link ComponentMetadata#animations-anchor animations section}. An animation trigger can\n     * be placed on an element within a template by referencing the name of the\n     * trigger followed by the expression value that the trigger is bound to\n     * (in the form of `@triggerName=\"expression\"`.\n     *\n     * ### Usage\n     *\n     * `trigger` will create an animation trigger reference based on the provided `name` value.\n     * The provided `animation` value is expected to be an array consisting of {@link state state} and\n     * {@link transition transition}\n     * declarations.\n     *\n     * ```typescript\n     * @Component({\n     *   selector: 'my-component',\n     *   templateUrl: 'my-component-tpl.html',\n     *   animations: [\n     *     trigger(\"myAnimationTrigger\", [\n     *       state(...),\n     *       state(...),\n     *       transition(...),\n     *       transition(...)\n     *     ])\n     *   ]\n     * })\n     * class MyComponent {\n     *   myStatusExp = \"something\";\n     * }\n     * ```\n     *\n     * The template associated with this component will make use of the `myAnimationTrigger`\n     * animation trigger by binding to an element within its template code.\n     *\n     * ```html\n     * <!-- somewhere inside of my-component-tpl.html -->\n     * <div @myAnimationTrigger=\"myStatusExp\">...</div>\n     * ```\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/Kez8XGWBxWue7qP7nNvF?p=preview))\n     *\n     * {@example core/animation/ts/dsl/animation_example.ts region='Component'}\n     *\n     * @experimental Animation support is experimental.\n     */\n    function trigger(name, animation) {\n        return new AnimationEntryMetadata(name, animation);\n    }\n    function prepareFinalAnimationStyles(previousStyles, newStyles, nullValue) {\n        if (nullValue === void 0) { nullValue = null; }\n        var finalStyles = {};\n        StringMapWrapper.forEach(newStyles, function (value, prop) {\n            finalStyles[prop] = value == AUTO_STYLE ? nullValue : value.toString();\n        });\n        StringMapWrapper.forEach(previousStyles, function (value, prop) {\n            if (!isPresent(finalStyles[prop])) {\n                finalStyles[prop] = nullValue;\n            }\n        });\n        return finalStyles;\n    }\n    function balanceAnimationKeyframes(collectedStyles, finalStateStyles, keyframes) {\n        var limit = keyframes.length - 1;\n        var firstKeyframe = keyframes[0];\n        // phase 1: copy all the styles from the first keyframe into the lookup map\n        var flatenedFirstKeyframeStyles = flattenStyles(firstKeyframe.styles.styles);\n        var extraFirstKeyframeStyles = {};\n        var hasExtraFirstStyles = false;\n        StringMapWrapper.forEach(collectedStyles, function (value, prop) {\n            // if the style is already defined in the first keyframe then\n            // we do not replace it.\n            if (!flatenedFirstKeyframeStyles[prop]) {\n                flatenedFirstKeyframeStyles[prop] = value;\n                extraFirstKeyframeStyles[prop] = value;\n                hasExtraFirstStyles = true;\n            }\n        });\n        var keyframeCollectedStyles = StringMapWrapper.merge({}, flatenedFirstKeyframeStyles);\n        // phase 2: normalize the final keyframe\n        var finalKeyframe = keyframes[limit];\n        ListWrapper.insert(finalKeyframe.styles.styles, 0, finalStateStyles);\n        var flatenedFinalKeyframeStyles = flattenStyles(finalKeyframe.styles.styles);\n        var extraFinalKeyframeStyles = {};\n        var hasExtraFinalStyles = false;\n        StringMapWrapper.forEach(keyframeCollectedStyles, function (value, prop) {\n            if (!isPresent(flatenedFinalKeyframeStyles[prop])) {\n                extraFinalKeyframeStyles[prop] = AUTO_STYLE;\n                hasExtraFinalStyles = true;\n            }\n        });\n        if (hasExtraFinalStyles) {\n            finalKeyframe.styles.styles.push(extraFinalKeyframeStyles);\n        }\n        StringMapWrapper.forEach(flatenedFinalKeyframeStyles, function (value, prop) {\n            if (!isPresent(flatenedFirstKeyframeStyles[prop])) {\n                extraFirstKeyframeStyles[prop] = AUTO_STYLE;\n                hasExtraFirstStyles = true;\n            }\n        });\n        if (hasExtraFirstStyles) {\n            firstKeyframe.styles.styles.push(extraFirstKeyframeStyles);\n        }\n        return keyframes;\n    }\n    function clearStyles(styles) {\n        var finalStyles = {};\n        StringMapWrapper.keys(styles).forEach(function (key) { finalStyles[key] = null; });\n        return finalStyles;\n    }\n    function collectAndResolveStyles(collection, styles) {\n        return styles.map(function (entry) {\n            var stylesObj = {};\n            StringMapWrapper.forEach(entry, function (value, prop) {\n                if (value == FILL_STYLE_FLAG) {\n                    value = collection[prop];\n                    if (!isPresent(value)) {\n                        value = AUTO_STYLE;\n                    }\n                }\n                collection[prop] = value;\n                stylesObj[prop] = value;\n            });\n            return stylesObj;\n        });\n    }\n    function renderStyles(element, renderer, styles) {\n        StringMapWrapper.forEach(styles, function (value, prop) { renderer.setElementStyle(element, prop, value); });\n    }\n    function flattenStyles(styles) {\n        var finalStyles = {};\n        styles.forEach(function (entry) {\n            StringMapWrapper.forEach(entry, function (value, prop) { finalStyles[prop] = value; });\n        });\n        return finalStyles;\n    }\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var AnimationStyles = (function () {\n        function AnimationStyles(styles) {\n            this.styles = styles;\n        }\n        return AnimationStyles;\n    }());\n    var DebugDomRootRenderer = (function () {\n        function DebugDomRootRenderer(_delegate) {\n            this._delegate = _delegate;\n        }\n        DebugDomRootRenderer.prototype.renderComponent = function (componentProto) {\n            return new DebugDomRenderer(this._delegate.renderComponent(componentProto));\n        };\n        return DebugDomRootRenderer;\n    }());\n    var DebugDomRenderer = (function () {\n        function DebugDomRenderer(_delegate) {\n            this._delegate = _delegate;\n        }\n        DebugDomRenderer.prototype.selectRootElement = function (selectorOrNode, debugInfo) {\n            var nativeEl = this._delegate.selectRootElement(selectorOrNode, debugInfo);\n            var debugEl = new DebugElement(nativeEl, null, debugInfo);\n            indexDebugNode(debugEl);\n            return nativeEl;\n        };\n        DebugDomRenderer.prototype.createElement = function (parentElement, name, debugInfo) {\n            var nativeEl = this._delegate.createElement(parentElement, name, debugInfo);\n            var debugEl = new DebugElement(nativeEl, getDebugNode(parentElement), debugInfo);\n            debugEl.name = name;\n            indexDebugNode(debugEl);\n            return nativeEl;\n        };\n        DebugDomRenderer.prototype.createViewRoot = function (hostElement) { return this._delegate.createViewRoot(hostElement); };\n        DebugDomRenderer.prototype.createTemplateAnchor = function (parentElement, debugInfo) {\n            var comment = this._delegate.createTemplateAnchor(parentElement, debugInfo);\n            var debugEl = new DebugNode(comment, getDebugNode(parentElement), debugInfo);\n            indexDebugNode(debugEl);\n            return comment;\n        };\n        DebugDomRenderer.prototype.createText = function (parentElement, value, debugInfo) {\n            var text = this._delegate.createText(parentElement, value, debugInfo);\n            var debugEl = new DebugNode(text, getDebugNode(parentElement), debugInfo);\n            indexDebugNode(debugEl);\n            return text;\n        };\n        DebugDomRenderer.prototype.projectNodes = function (parentElement, nodes) {\n            var debugParent = getDebugNode(parentElement);\n            if (isPresent(debugParent) && debugParent instanceof DebugElement) {\n                var debugElement_1 = debugParent;\n                nodes.forEach(function (node) { debugElement_1.addChild(getDebugNode(node)); });\n            }\n            this._delegate.projectNodes(parentElement, nodes);\n        };\n        DebugDomRenderer.prototype.attachViewAfter = function (node, viewRootNodes) {\n            var debugNode = getDebugNode(node);\n            if (isPresent(debugNode)) {\n                var debugParent = debugNode.parent;\n                if (viewRootNodes.length > 0 && isPresent(debugParent)) {\n                    var debugViewRootNodes = [];\n                    viewRootNodes.forEach(function (rootNode) { return debugViewRootNodes.push(getDebugNode(rootNode)); });\n                    debugParent.insertChildrenAfter(debugNode, debugViewRootNodes);\n                }\n            }\n            this._delegate.attachViewAfter(node, viewRootNodes);\n        };\n        DebugDomRenderer.prototype.detachView = function (viewRootNodes) {\n            viewRootNodes.forEach(function (node) {\n                var debugNode = getDebugNode(node);\n                if (isPresent(debugNode) && isPresent(debugNode.parent)) {\n                    debugNode.parent.removeChild(debugNode);\n                }\n            });\n            this._delegate.detachView(viewRootNodes);\n        };\n        DebugDomRenderer.prototype.destroyView = function (hostElement, viewAllNodes) {\n            viewAllNodes.forEach(function (node) { removeDebugNodeFromIndex(getDebugNode(node)); });\n            this._delegate.destroyView(hostElement, viewAllNodes);\n        };\n        DebugDomRenderer.prototype.listen = function (renderElement, name, callback) {\n            var debugEl = getDebugNode(renderElement);\n            if (isPresent(debugEl)) {\n                debugEl.listeners.push(new EventListener(name, callback));\n            }\n            return this._delegate.listen(renderElement, name, callback);\n        };\n        DebugDomRenderer.prototype.listenGlobal = function (target, name, callback) {\n            return this._delegate.listenGlobal(target, name, callback);\n        };\n        DebugDomRenderer.prototype.setElementProperty = function (renderElement, propertyName, propertyValue) {\n            var debugEl = getDebugNode(renderElement);\n            if (isPresent(debugEl) && debugEl instanceof DebugElement) {\n                debugEl.properties[propertyName] = propertyValue;\n            }\n            this._delegate.setElementProperty(renderElement, propertyName, propertyValue);\n        };\n        DebugDomRenderer.prototype.setElementAttribute = function (renderElement, attributeName, attributeValue) {\n            var debugEl = getDebugNode(renderElement);\n            if (isPresent(debugEl) && debugEl instanceof DebugElement) {\n                debugEl.attributes[attributeName] = attributeValue;\n            }\n            this._delegate.setElementAttribute(renderElement, attributeName, attributeValue);\n        };\n        DebugDomRenderer.prototype.setBindingDebugInfo = function (renderElement, propertyName, propertyValue) {\n            this._delegate.setBindingDebugInfo(renderElement, propertyName, propertyValue);\n        };\n        DebugDomRenderer.prototype.setElementClass = function (renderElement, className, isAdd) {\n            var debugEl = getDebugNode(renderElement);\n            if (isPresent(debugEl) && debugEl instanceof DebugElement) {\n                debugEl.classes[className] = isAdd;\n            }\n            this._delegate.setElementClass(renderElement, className, isAdd);\n        };\n        DebugDomRenderer.prototype.setElementStyle = function (renderElement, styleName, styleValue) {\n            var debugEl = getDebugNode(renderElement);\n            if (isPresent(debugEl) && debugEl instanceof DebugElement) {\n                debugEl.styles[styleName] = styleValue;\n            }\n            this._delegate.setElementStyle(renderElement, styleName, styleValue);\n        };\n        DebugDomRenderer.prototype.invokeElementMethod = function (renderElement, methodName, args) {\n            this._delegate.invokeElementMethod(renderElement, methodName, args);\n        };\n        DebugDomRenderer.prototype.setText = function (renderNode, text) { this._delegate.setText(renderNode, text); };\n        DebugDomRenderer.prototype.animate = function (element, startingStyles, keyframes, duration, delay, easing) {\n            return this._delegate.animate(element, startingStyles, keyframes, duration, delay, easing);\n        };\n        return DebugDomRenderer;\n    }());\n    /* @ts2dart_const */\n    var StaticNodeDebugInfo = (function () {\n        function StaticNodeDebugInfo(providerTokens, componentToken, refTokens) {\n            this.providerTokens = providerTokens;\n            this.componentToken = componentToken;\n            this.refTokens = refTokens;\n        }\n        return StaticNodeDebugInfo;\n    }());\n    var DebugContext = (function () {\n        function DebugContext(_view, _nodeIndex, _tplRow, _tplCol) {\n            this._view = _view;\n            this._nodeIndex = _nodeIndex;\n            this._tplRow = _tplRow;\n            this._tplCol = _tplCol;\n        }\n        Object.defineProperty(DebugContext.prototype, \"_staticNodeInfo\", {\n            get: function () {\n                return isPresent(this._nodeIndex) ? this._view.staticNodeDebugInfos[this._nodeIndex] : null;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(DebugContext.prototype, \"context\", {\n            get: function () { return this._view.context; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(DebugContext.prototype, \"component\", {\n            get: function () {\n                var staticNodeInfo = this._staticNodeInfo;\n                if (isPresent(staticNodeInfo) && isPresent(staticNodeInfo.componentToken)) {\n                    return this.injector.get(staticNodeInfo.componentToken);\n                }\n                return null;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(DebugContext.prototype, \"componentRenderElement\", {\n            get: function () {\n                var componentView = this._view;\n                while (isPresent(componentView.declarationAppElement) &&\n                    componentView.type !== ViewType.COMPONENT) {\n                    componentView = componentView.declarationAppElement.parentView;\n                }\n                return isPresent(componentView.declarationAppElement) ?\n                    componentView.declarationAppElement.nativeElement :\n                    null;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(DebugContext.prototype, \"injector\", {\n            get: function () { return this._view.injector(this._nodeIndex); },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(DebugContext.prototype, \"renderNode\", {\n            get: function () {\n                if (isPresent(this._nodeIndex) && isPresent(this._view.allNodes)) {\n                    return this._view.allNodes[this._nodeIndex];\n                }\n                else {\n                    return null;\n                }\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(DebugContext.prototype, \"providerTokens\", {\n            get: function () {\n                var staticNodeInfo = this._staticNodeInfo;\n                return isPresent(staticNodeInfo) ? staticNodeInfo.providerTokens : null;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(DebugContext.prototype, \"source\", {\n            get: function () {\n                return this._view.componentType.templateUrl + \":\" + this._tplRow + \":\" + this._tplCol;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(DebugContext.prototype, \"references\", {\n            get: function () {\n                var _this = this;\n                var varValues = {};\n                var staticNodeInfo = this._staticNodeInfo;\n                if (isPresent(staticNodeInfo)) {\n                    var refs = staticNodeInfo.refTokens;\n                    StringMapWrapper.forEach(refs, function (refToken /** TODO #9100 */, refName /** TODO #9100 */) {\n                        var varValue;\n                        if (isBlank(refToken)) {\n                            varValue =\n                                isPresent(_this._view.allNodes) ? _this._view.allNodes[_this._nodeIndex] : null;\n                        }\n                        else {\n                            varValue = _this._view.injectorGet(refToken, _this._nodeIndex, null);\n                        }\n                        varValues[refName] = varValue;\n                    });\n                }\n                return varValues;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        return DebugContext;\n    }());\n    var _UNDEFINED = new Object();\n    var ElementInjector = (function (_super) {\n        __extends(ElementInjector, _super);\n        function ElementInjector(_view, _nodeIndex) {\n            _super.call(this);\n            this._view = _view;\n            this._nodeIndex = _nodeIndex;\n        }\n        ElementInjector.prototype.get = function (token, notFoundValue) {\n            if (notFoundValue === void 0) { notFoundValue = THROW_IF_NOT_FOUND; }\n            var result = _UNDEFINED;\n            if (result === _UNDEFINED) {\n                result = this._view.injectorGet(token, this._nodeIndex, _UNDEFINED);\n            }\n            if (result === _UNDEFINED) {\n                result = this._view.parentInjector.get(token, notFoundValue);\n            }\n            return result;\n        };\n        return ElementInjector;\n    }(Injector));\n    var ActiveAnimationPlayersMap = (function () {\n        function ActiveAnimationPlayersMap() {\n            this._map = new Map$1();\n            this._allPlayers = [];\n        }\n        Object.defineProperty(ActiveAnimationPlayersMap.prototype, \"length\", {\n            get: function () { return this.getAllPlayers().length; },\n            enumerable: true,\n            configurable: true\n        });\n        ActiveAnimationPlayersMap.prototype.find = function (element, animationName) {\n            var playersByAnimation = this._map.get(element);\n            if (isPresent(playersByAnimation)) {\n                return playersByAnimation[animationName];\n            }\n        };\n        ActiveAnimationPlayersMap.prototype.findAllPlayersByElement = function (element) {\n            var players = [];\n            StringMapWrapper.forEach(this._map.get(element), function (player /** TODO #9100 */) { return players.push(player); });\n            return players;\n        };\n        ActiveAnimationPlayersMap.prototype.set = function (element, animationName, player) {\n            var playersByAnimation = this._map.get(element);\n            if (!isPresent(playersByAnimation)) {\n                playersByAnimation = {};\n            }\n            var existingEntry = playersByAnimation[animationName];\n            if (isPresent(existingEntry)) {\n                this.remove(element, animationName);\n            }\n            playersByAnimation[animationName] = player;\n            this._allPlayers.push(player);\n            this._map.set(element, playersByAnimation);\n        };\n        ActiveAnimationPlayersMap.prototype.getAllPlayers = function () { return this._allPlayers; };\n        ActiveAnimationPlayersMap.prototype.remove = function (element, animationName) {\n            var playersByAnimation = this._map.get(element);\n            if (isPresent(playersByAnimation)) {\n                var player = playersByAnimation[animationName];\n                delete playersByAnimation[animationName];\n                var index = this._allPlayers.indexOf(player);\n                ListWrapper.removeAt(this._allPlayers, index);\n                if (StringMapWrapper.isEmpty(playersByAnimation)) {\n                    this._map.delete(element);\n                }\n            }\n        };\n        return ActiveAnimationPlayersMap;\n    }());\n    var _scope_check = wtfCreateScope(\"AppView#check(ascii id)\");\n    /**\n     * Cost of making objects: http://jsperf.com/instantiate-size-of-object\n     *\n     */\n    var AppView = (function () {\n        function AppView(clazz, componentType, type, viewUtils, parentInjector, declarationAppElement, cdMode) {\n            this.clazz = clazz;\n            this.componentType = componentType;\n            this.type = type;\n            this.viewUtils = viewUtils;\n            this.parentInjector = parentInjector;\n            this.declarationAppElement = declarationAppElement;\n            this.cdMode = cdMode;\n            this.contentChildren = [];\n            this.viewChildren = [];\n            this.viewContainerElement = null;\n            this.numberOfChecks = 0;\n            this.activeAnimationPlayers = new ActiveAnimationPlayersMap();\n            this.ref = new ViewRef_(this);\n            if (type === ViewType.COMPONENT || type === ViewType.HOST) {\n                this.renderer = viewUtils.renderComponent(componentType);\n            }\n            else {\n                this.renderer = declarationAppElement.parentView.renderer;\n            }\n        }\n        Object.defineProperty(AppView.prototype, \"destroyed\", {\n            get: function () { return this.cdMode === ChangeDetectorStatus.Destroyed; },\n            enumerable: true,\n            configurable: true\n        });\n        AppView.prototype.cancelActiveAnimation = function (element, animationName, removeAllAnimations) {\n            if (removeAllAnimations === void 0) { removeAllAnimations = false; }\n            if (removeAllAnimations) {\n                this.activeAnimationPlayers.findAllPlayersByElement(element).forEach(function (player) { return player.destroy(); });\n            }\n            else {\n                var player = this.activeAnimationPlayers.find(element, animationName);\n                if (isPresent(player)) {\n                    player.destroy();\n                }\n            }\n        };\n        AppView.prototype.registerAndStartAnimation = function (element, animationName, player) {\n            var _this = this;\n            this.activeAnimationPlayers.set(element, animationName, player);\n            player.onDone(function () { _this.activeAnimationPlayers.remove(element, animationName); });\n            player.play();\n        };\n        AppView.prototype.create = function (context, givenProjectableNodes, rootSelectorOrNode) {\n            this.context = context;\n            var projectableNodes;\n            switch (this.type) {\n                case ViewType.COMPONENT:\n                    projectableNodes = ensureSlotCount(givenProjectableNodes, this.componentType.slotCount);\n                    break;\n                case ViewType.EMBEDDED:\n                    projectableNodes = this.declarationAppElement.parentView.projectableNodes;\n                    break;\n                case ViewType.HOST:\n                    // Note: Don't ensure the slot count for the projectableNodes as we store\n                    // them only for the contained component view (which will later check the slot count...)\n                    projectableNodes = givenProjectableNodes;\n                    break;\n            }\n            this._hasExternalHostElement = isPresent(rootSelectorOrNode);\n            this.projectableNodes = projectableNodes;\n            return this.createInternal(rootSelectorOrNode);\n        };\n        /**\n         * Overwritten by implementations.\n         * Returns the AppElement for the host element for ViewType.HOST.\n         */\n        AppView.prototype.createInternal = function (rootSelectorOrNode) { return null; };\n        AppView.prototype.init = function (rootNodesOrAppElements, allNodes, disposables, subscriptions) {\n            this.rootNodesOrAppElements = rootNodesOrAppElements;\n            this.allNodes = allNodes;\n            this.disposables = disposables;\n            this.subscriptions = subscriptions;\n            if (this.type === ViewType.COMPONENT) {\n                // Note: the render nodes have been attached to their host element\n                // in the ViewFactory already.\n                this.declarationAppElement.parentView.viewChildren.push(this);\n                this.dirtyParentQueriesInternal();\n            }\n        };\n        AppView.prototype.selectOrCreateHostElement = function (elementName, rootSelectorOrNode, debugInfo) {\n            var hostElement;\n            if (isPresent(rootSelectorOrNode)) {\n                hostElement = this.renderer.selectRootElement(rootSelectorOrNode, debugInfo);\n            }\n            else {\n                hostElement = this.renderer.createElement(null, elementName, debugInfo);\n            }\n            return hostElement;\n        };\n        AppView.prototype.injectorGet = function (token, nodeIndex, notFoundResult) {\n            return this.injectorGetInternal(token, nodeIndex, notFoundResult);\n        };\n        /**\n         * Overwritten by implementations\n         */\n        AppView.prototype.injectorGetInternal = function (token, nodeIndex, notFoundResult) {\n            return notFoundResult;\n        };\n        AppView.prototype.injector = function (nodeIndex) {\n            if (isPresent(nodeIndex)) {\n                return new ElementInjector(this, nodeIndex);\n            }\n            else {\n                return this.parentInjector;\n            }\n        };\n        AppView.prototype.destroy = function () {\n            if (this._hasExternalHostElement) {\n                this.renderer.detachView(this.flatRootNodes);\n            }\n            else if (isPresent(this.viewContainerElement)) {\n                this.viewContainerElement.detachView(this.viewContainerElement.nestedViews.indexOf(this));\n            }\n            this._destroyRecurse();\n        };\n        AppView.prototype._destroyRecurse = function () {\n            if (this.cdMode === ChangeDetectorStatus.Destroyed) {\n                return;\n            }\n            var children = this.contentChildren;\n            for (var i = 0; i < children.length; i++) {\n                children[i]._destroyRecurse();\n            }\n            children = this.viewChildren;\n            for (var i = 0; i < children.length; i++) {\n                children[i]._destroyRecurse();\n            }\n            this.destroyLocal();\n            this.cdMode = ChangeDetectorStatus.Destroyed;\n        };\n        AppView.prototype.destroyLocal = function () {\n            var _this = this;\n            var hostElement = this.type === ViewType.COMPONENT ? this.declarationAppElement.nativeElement : null;\n            for (var i = 0; i < this.disposables.length; i++) {\n                this.disposables[i]();\n            }\n            for (var i = 0; i < this.subscriptions.length; i++) {\n                ObservableWrapper.dispose(this.subscriptions[i]);\n            }\n            this.destroyInternal();\n            this.dirtyParentQueriesInternal();\n            if (this.activeAnimationPlayers.length == 0) {\n                this.renderer.destroyView(hostElement, this.allNodes);\n            }\n            else {\n                var player = new AnimationGroupPlayer(this.activeAnimationPlayers.getAllPlayers());\n                player.onDone(function () { _this.renderer.destroyView(hostElement, _this.allNodes); });\n            }\n        };\n        /**\n         * Overwritten by implementations\n         */\n        AppView.prototype.destroyInternal = function () { };\n        /**\n         * Overwritten by implementations\n         */\n        AppView.prototype.detachInternal = function () { };\n        AppView.prototype.detach = function () {\n            var _this = this;\n            this.detachInternal();\n            if (this.activeAnimationPlayers.length == 0) {\n                this.renderer.detachView(this.flatRootNodes);\n            }\n            else {\n                var player = new AnimationGroupPlayer(this.activeAnimationPlayers.getAllPlayers());\n                player.onDone(function () { _this.renderer.detachView(_this.flatRootNodes); });\n            }\n        };\n        Object.defineProperty(AppView.prototype, \"changeDetectorRef\", {\n            get: function () { return this.ref; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(AppView.prototype, \"parent\", {\n            get: function () {\n                return isPresent(this.declarationAppElement) ? this.declarationAppElement.parentView : null;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(AppView.prototype, \"flatRootNodes\", {\n            get: function () { return flattenNestedViewRenderNodes(this.rootNodesOrAppElements); },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(AppView.prototype, \"lastRootNode\", {\n            get: function () {\n                var lastNode = this.rootNodesOrAppElements.length > 0 ?\n                    this.rootNodesOrAppElements[this.rootNodesOrAppElements.length - 1] :\n                    null;\n                return _findLastRenderNode(lastNode);\n            },\n            enumerable: true,\n            configurable: true\n        });\n        /**\n         * Overwritten by implementations\n         */\n        AppView.prototype.dirtyParentQueriesInternal = function () { };\n        AppView.prototype.detectChanges = function (throwOnChange) {\n            var s = _scope_check(this.clazz);\n            if (this.cdMode === ChangeDetectorStatus.Checked ||\n                this.cdMode === ChangeDetectorStatus.Errored)\n                return;\n            if (this.cdMode === ChangeDetectorStatus.Destroyed) {\n                this.throwDestroyedError('detectChanges');\n            }\n            this.detectChangesInternal(throwOnChange);\n            if (this.cdMode === ChangeDetectorStatus.CheckOnce)\n                this.cdMode = ChangeDetectorStatus.Checked;\n            this.numberOfChecks++;\n            wtfLeave(s);\n        };\n        /**\n         * Overwritten by implementations\n         */\n        AppView.prototype.detectChangesInternal = function (throwOnChange) {\n            this.detectContentChildrenChanges(throwOnChange);\n            this.detectViewChildrenChanges(throwOnChange);\n        };\n        AppView.prototype.detectContentChildrenChanges = function (throwOnChange) {\n            for (var i = 0; i < this.contentChildren.length; ++i) {\n                var child = this.contentChildren[i];\n                if (child.cdMode === ChangeDetectorStatus.Detached)\n                    continue;\n                child.detectChanges(throwOnChange);\n            }\n        };\n        AppView.prototype.detectViewChildrenChanges = function (throwOnChange) {\n            for (var i = 0; i < this.viewChildren.length; ++i) {\n                var child = this.viewChildren[i];\n                if (child.cdMode === ChangeDetectorStatus.Detached)\n                    continue;\n                child.detectChanges(throwOnChange);\n            }\n        };\n        AppView.prototype.addToContentChildren = function (renderAppElement) {\n            renderAppElement.parentView.contentChildren.push(this);\n            this.viewContainerElement = renderAppElement;\n            this.dirtyParentQueriesInternal();\n        };\n        AppView.prototype.removeFromContentChildren = function (renderAppElement) {\n            ListWrapper.remove(renderAppElement.parentView.contentChildren, this);\n            this.dirtyParentQueriesInternal();\n            this.viewContainerElement = null;\n        };\n        AppView.prototype.markAsCheckOnce = function () { this.cdMode = ChangeDetectorStatus.CheckOnce; };\n        AppView.prototype.markPathToRootAsCheckOnce = function () {\n            var c = this;\n            while (isPresent(c) && c.cdMode !== ChangeDetectorStatus.Detached) {\n                if (c.cdMode === ChangeDetectorStatus.Checked) {\n                    c.cdMode = ChangeDetectorStatus.CheckOnce;\n                }\n                var parentEl = c.type === ViewType.COMPONENT ? c.declarationAppElement : c.viewContainerElement;\n                c = isPresent(parentEl) ? parentEl.parentView : null;\n            }\n        };\n        AppView.prototype.eventHandler = function (cb) { return cb; };\n        AppView.prototype.throwDestroyedError = function (details) { throw new ViewDestroyedException(details); };\n        return AppView;\n    }());\n    var DebugAppView = (function (_super) {\n        __extends(DebugAppView, _super);\n        function DebugAppView(clazz, componentType, type, viewUtils, parentInjector, declarationAppElement, cdMode, staticNodeDebugInfos) {\n            _super.call(this, clazz, componentType, type, viewUtils, parentInjector, declarationAppElement, cdMode);\n            this.staticNodeDebugInfos = staticNodeDebugInfos;\n            this._currentDebugContext = null;\n        }\n        DebugAppView.prototype.create = function (context, givenProjectableNodes, rootSelectorOrNode) {\n            this._resetDebug();\n            try {\n                return _super.prototype.create.call(this, context, givenProjectableNodes, rootSelectorOrNode);\n            }\n            catch (e) {\n                this._rethrowWithContext(e, e.stack);\n                throw e;\n            }\n        };\n        DebugAppView.prototype.injectorGet = function (token, nodeIndex, notFoundResult) {\n            this._resetDebug();\n            try {\n                return _super.prototype.injectorGet.call(this, token, nodeIndex, notFoundResult);\n            }\n            catch (e) {\n                this._rethrowWithContext(e, e.stack);\n                throw e;\n            }\n        };\n        DebugAppView.prototype.detach = function () {\n            this._resetDebug();\n            try {\n                _super.prototype.detach.call(this);\n            }\n            catch (e) {\n                this._rethrowWithContext(e, e.stack);\n                throw e;\n            }\n        };\n        DebugAppView.prototype.destroyLocal = function () {\n            this._resetDebug();\n            try {\n                _super.prototype.destroyLocal.call(this);\n            }\n            catch (e) {\n                this._rethrowWithContext(e, e.stack);\n                throw e;\n            }\n        };\n        DebugAppView.prototype.detectChanges = function (throwOnChange) {\n            this._resetDebug();\n            try {\n                _super.prototype.detectChanges.call(this, throwOnChange);\n            }\n            catch (e) {\n                this._rethrowWithContext(e, e.stack);\n                throw e;\n            }\n        };\n        DebugAppView.prototype._resetDebug = function () { this._currentDebugContext = null; };\n        DebugAppView.prototype.debug = function (nodeIndex, rowNum, colNum) {\n            return this._currentDebugContext = new DebugContext(this, nodeIndex, rowNum, colNum);\n        };\n        DebugAppView.prototype._rethrowWithContext = function (e, stack) {\n            if (!(e instanceof ViewWrappedException)) {\n                if (!(e instanceof ExpressionChangedAfterItHasBeenCheckedException)) {\n                    this.cdMode = ChangeDetectorStatus.Errored;\n                }\n                if (isPresent(this._currentDebugContext)) {\n                    throw new ViewWrappedException(e, stack, this._currentDebugContext);\n                }\n            }\n        };\n        DebugAppView.prototype.eventHandler = function (cb) {\n            var _this = this;\n            var superHandler = _super.prototype.eventHandler.call(this, cb);\n            return function (event /** TODO #9100 */) {\n                _this._resetDebug();\n                try {\n                    return superHandler(event);\n                }\n                catch (e) {\n                    _this._rethrowWithContext(e, e.stack);\n                    throw e;\n                }\n            };\n        };\n        return DebugAppView;\n    }(AppView));\n    function _findLastRenderNode(node) {\n        var lastNode;\n        if (node instanceof AppElement) {\n            var appEl = node;\n            lastNode = appEl.nativeElement;\n            if (isPresent(appEl.nestedViews)) {\n                // Note: Views might have no root nodes at all!\n                for (var i = appEl.nestedViews.length - 1; i >= 0; i--) {\n                    var nestedView = appEl.nestedViews[i];\n                    if (nestedView.rootNodesOrAppElements.length > 0) {\n                        lastNode = _findLastRenderNode(nestedView.rootNodesOrAppElements[nestedView.rootNodesOrAppElements.length - 1]);\n                    }\n                }\n            }\n        }\n        else {\n            lastNode = node;\n        }\n        return lastNode;\n    }\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * This is here because DART requires it. It is noop in JS.\n     */\n    function wtfInit() { }\n    var __core_private__ = {\n        isDefaultChangeDetectionStrategy: isDefaultChangeDetectionStrategy,\n        ChangeDetectorStatus: ChangeDetectorStatus,\n        CHANGE_DETECTION_STRATEGY_VALUES: CHANGE_DETECTION_STRATEGY_VALUES,\n        constructDependencies: constructDependencies,\n        LifecycleHooks: LifecycleHooks,\n        LIFECYCLE_HOOKS_VALUES: LIFECYCLE_HOOKS_VALUES,\n        ReflectorReader: ReflectorReader,\n        ReflectorComponentResolver: ReflectorComponentResolver,\n        CodegenComponentFactoryResolver: CodegenComponentFactoryResolver,\n        AppElement: AppElement,\n        AppView: AppView,\n        DebugAppView: DebugAppView,\n        ViewType: ViewType,\n        MAX_INTERPOLATION_VALUES: MAX_INTERPOLATION_VALUES,\n        checkBinding: checkBinding,\n        flattenNestedViewRenderNodes: flattenNestedViewRenderNodes,\n        interpolate: interpolate,\n        ViewUtils: ViewUtils,\n        VIEW_ENCAPSULATION_VALUES: VIEW_ENCAPSULATION_VALUES,\n        DebugContext: DebugContext,\n        StaticNodeDebugInfo: StaticNodeDebugInfo,\n        devModeEqual: devModeEqual,\n        uninitialized: uninitialized,\n        ValueUnwrapper: ValueUnwrapper,\n        RenderDebugInfo: RenderDebugInfo,\n        SecurityContext: SecurityContext,\n        SanitizationService: SanitizationService,\n        TemplateRef_: TemplateRef_,\n        wtfInit: wtfInit,\n        ReflectionCapabilities: ReflectionCapabilities,\n        makeDecorator: makeDecorator,\n        DebugDomRootRenderer: DebugDomRootRenderer,\n        createProvider: createProvider,\n        isProviderLiteral: isProviderLiteral,\n        EMPTY_ARRAY: EMPTY_ARRAY,\n        EMPTY_MAP: EMPTY_MAP,\n        pureProxy1: pureProxy1,\n        pureProxy2: pureProxy2,\n        pureProxy3: pureProxy3,\n        pureProxy4: pureProxy4,\n        pureProxy5: pureProxy5,\n        pureProxy6: pureProxy6,\n        pureProxy7: pureProxy7,\n        pureProxy8: pureProxy8,\n        pureProxy9: pureProxy9,\n        pureProxy10: pureProxy10,\n        castByValue: castByValue,\n        Console: Console,\n        reflector: reflector,\n        Reflector: Reflector,\n        NoOpAnimationPlayer: NoOpAnimationPlayer,\n        AnimationPlayer: AnimationPlayer,\n        NoOpAnimationDriver: NoOpAnimationDriver,\n        AnimationDriver: AnimationDriver,\n        AnimationSequencePlayer: AnimationSequencePlayer,\n        AnimationGroupPlayer: AnimationGroupPlayer,\n        AnimationKeyframe: AnimationKeyframe,\n        prepareFinalAnimationStyles: prepareFinalAnimationStyles,\n        balanceAnimationKeyframes: balanceAnimationKeyframes,\n        flattenStyles: flattenStyles,\n        clearStyles: clearStyles,\n        renderStyles: renderStyles,\n        collectAndResolveStyles: collectAndResolveStyles,\n        AnimationStyles: AnimationStyles,\n        ANY_STATE: ANY_STATE,\n        DEFAULT_STATE: DEFAULT_STATE,\n        EMPTY_STATE: EMPTY_STATE,\n        FILL_STYLE_FLAG: FILL_STYLE_FLAG\n    };\n    exports.createPlatform = createPlatform;\n    exports.assertPlatform = assertPlatform;\n    exports.disposePlatform = disposePlatform;\n    exports.getPlatform = getPlatform;\n    exports.coreBootstrap = coreBootstrap;\n    exports.coreLoadAndBootstrap = coreLoadAndBootstrap;\n    exports.createNgZone = createNgZone;\n    exports.PlatformRef = PlatformRef;\n    exports.ApplicationRef = ApplicationRef;\n    exports.enableProdMode = enableProdMode;\n    exports.lockRunMode = lockRunMode;\n    exports.isDevMode = isDevMode;\n    exports.APP_ID = APP_ID;\n    exports.APP_INITIALIZER = APP_INITIALIZER;\n    exports.PACKAGE_ROOT_URL = PACKAGE_ROOT_URL;\n    exports.PLATFORM_INITIALIZER = PLATFORM_INITIALIZER;\n    exports.DebugElement = DebugElement;\n    exports.DebugNode = DebugNode;\n    exports.asNativeElements = asNativeElements;\n    exports.getDebugNode = getDebugNode;\n    exports.wtfCreateScope = wtfCreateScope;\n    exports.wtfLeave = wtfLeave;\n    exports.wtfStartTimeRange = wtfStartTimeRange;\n    exports.wtfEndTimeRange = wtfEndTimeRange;\n    exports.Type = Type;\n    exports.EventEmitter = EventEmitter;\n    exports.ExceptionHandler = ExceptionHandler;\n    exports.WrappedException = WrappedException;\n    exports.BaseException = BaseException;\n    exports.AnimationPlayer = AnimationPlayer;\n    exports.Component = Component;\n    exports.Directive = Directive;\n    exports.Attribute = Attribute;\n    exports.Query = Query;\n    exports.ContentChildren = ContentChildren;\n    exports.ContentChild = ContentChild;\n    exports.ViewChildren = ViewChildren;\n    exports.ViewChild = ViewChild;\n    exports.ViewQuery = ViewQuery;\n    exports.Pipe = Pipe;\n    exports.Input = Input;\n    exports.Output = Output;\n    exports.HostBinding = HostBinding;\n    exports.HostListener = HostListener;\n    exports.AttributeMetadata = AttributeMetadata;\n    exports.ContentChildMetadata = ContentChildMetadata;\n    exports.ContentChildrenMetadata = ContentChildrenMetadata;\n    exports.QueryMetadata = QueryMetadata;\n    exports.ViewChildMetadata = ViewChildMetadata;\n    exports.ViewChildrenMetadata = ViewChildrenMetadata;\n    exports.ViewQueryMetadata = ViewQueryMetadata;\n    exports.ComponentMetadata = ComponentMetadata;\n    exports.DirectiveMetadata = DirectiveMetadata;\n    exports.HostBindingMetadata = HostBindingMetadata;\n    exports.HostListenerMetadata = HostListenerMetadata;\n    exports.InputMetadata = InputMetadata;\n    exports.OutputMetadata = OutputMetadata;\n    exports.PipeMetadata = PipeMetadata;\n    exports.AfterContentChecked = AfterContentChecked;\n    exports.AfterContentInit = AfterContentInit;\n    exports.AfterViewChecked = AfterViewChecked;\n    exports.AfterViewInit = AfterViewInit;\n    exports.DoCheck = DoCheck;\n    exports.OnChanges = OnChanges;\n    exports.OnDestroy = OnDestroy;\n    exports.OnInit = OnInit;\n    exports.ViewMetadata = ViewMetadata;\n    exports.Class = Class;\n    exports.HostMetadata = HostMetadata;\n    exports.InjectMetadata = InjectMetadata;\n    exports.InjectableMetadata = InjectableMetadata;\n    exports.OptionalMetadata = OptionalMetadata;\n    exports.SelfMetadata = SelfMetadata;\n    exports.SkipSelfMetadata = SkipSelfMetadata;\n    exports.forwardRef = forwardRef;\n    exports.resolveForwardRef = resolveForwardRef;\n    exports.Injector = Injector;\n    exports.ReflectiveInjector = ReflectiveInjector;\n    exports.Binding = Binding;\n    exports.ProviderBuilder = ProviderBuilder;\n    exports.bind = bind;\n    exports.Provider = Provider;\n    exports.provide = provide;\n    exports.ResolvedReflectiveFactory = ResolvedReflectiveFactory;\n    exports.ReflectiveKey = ReflectiveKey;\n    exports.NoProviderError = NoProviderError;\n    exports.AbstractProviderError = AbstractProviderError;\n    exports.CyclicDependencyError = CyclicDependencyError;\n    exports.InstantiationError = InstantiationError;\n    exports.InvalidProviderError = InvalidProviderError;\n    exports.NoAnnotationError = NoAnnotationError;\n    exports.OutOfBoundsError = OutOfBoundsError;\n    exports.OpaqueToken = OpaqueToken;\n    exports.Inject = Inject;\n    exports.Optional = Optional;\n    exports.Injectable = Injectable;\n    exports.Self = Self;\n    exports.Host = Host;\n    exports.SkipSelf = SkipSelf;\n    exports.NgZone = NgZone;\n    exports.NgZoneError = NgZoneError;\n    exports.RenderComponentType = RenderComponentType;\n    exports.Renderer = Renderer;\n    exports.RootRenderer = RootRenderer;\n    exports.Compiler = Compiler;\n    exports.ComponentFactory = ComponentFactory;\n    exports.ComponentRef = ComponentRef;\n    exports.ComponentFactoryResolver = ComponentFactoryResolver;\n    exports.NoComponentFactoryError = NoComponentFactoryError;\n    exports.ComponentResolver = ComponentResolver;\n    exports.DynamicComponentLoader = DynamicComponentLoader;\n    exports.ElementRef = ElementRef;\n    exports.ExpressionChangedAfterItHasBeenCheckedException = ExpressionChangedAfterItHasBeenCheckedException;\n    exports.QueryList = QueryList;\n    exports.SystemJsCmpFactoryResolver = SystemJsCmpFactoryResolver;\n    exports.SystemJsComponentResolver = SystemJsComponentResolver;\n    exports.TemplateRef = TemplateRef;\n    exports.ViewContainerRef = ViewContainerRef;\n    exports.EmbeddedViewRef = EmbeddedViewRef;\n    exports.ViewRef = ViewRef;\n    exports.Testability = Testability;\n    exports.TestabilityRegistry = TestabilityRegistry;\n    exports.setTestabilityGetter = setTestabilityGetter;\n    exports.ChangeDetectorRef = ChangeDetectorRef;\n    exports.CollectionChangeRecord = CollectionChangeRecord;\n    exports.DefaultIterableDiffer = DefaultIterableDiffer;\n    exports.IterableDiffers = IterableDiffers;\n    exports.KeyValueChangeRecord = KeyValueChangeRecord;\n    exports.KeyValueDiffers = KeyValueDiffers;\n    exports.SimpleChange = SimpleChange;\n    exports.WrappedValue = WrappedValue;\n    exports.PLATFORM_DIRECTIVES = PLATFORM_DIRECTIVES;\n    exports.PLATFORM_PIPES = PLATFORM_PIPES;\n    exports.PLATFORM_COMMON_PROVIDERS = PLATFORM_COMMON_PROVIDERS;\n    exports.APPLICATION_COMMON_PROVIDERS = APPLICATION_COMMON_PROVIDERS;\n    exports.__core_private__ = __core_private__;\n    exports.AUTO_STYLE = AUTO_STYLE;\n    exports.AnimationEntryMetadata = AnimationEntryMetadata;\n    exports.AnimationStateMetadata = AnimationStateMetadata;\n    exports.AnimationStateDeclarationMetadata = AnimationStateDeclarationMetadata;\n    exports.AnimationStateTransitionMetadata = AnimationStateTransitionMetadata;\n    exports.AnimationMetadata = AnimationMetadata;\n    exports.AnimationKeyframesSequenceMetadata = AnimationKeyframesSequenceMetadata;\n    exports.AnimationStyleMetadata = AnimationStyleMetadata;\n    exports.AnimationAnimateMetadata = AnimationAnimateMetadata;\n    exports.AnimationWithStepsMetadata = AnimationWithStepsMetadata;\n    exports.AnimationSequenceMetadata = AnimationSequenceMetadata;\n    exports.AnimationGroupMetadata = AnimationGroupMetadata;\n    exports.animate = animate;\n    exports.group = group;\n    exports.sequence = sequence;\n    exports.style = style;\n    exports.state = state;\n    exports.keyframes = keyframes;\n    exports.transition = transition;\n    exports.trigger = trigger;\n}));\n"]}