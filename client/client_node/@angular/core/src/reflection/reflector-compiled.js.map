{"version":3,"sources":["reflector.js"],"names":[],"mappings":"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","file":"reflector-compiled.js","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar collection_1 = require('../facade/collection');\nvar exceptions_1 = require('../facade/exceptions');\nvar lang_1 = require('../facade/lang');\nvar reflector_reader_1 = require('./reflector_reader');\n/**\n * Reflective information about a symbol, including annotations, interfaces, and other metadata.\n */\nvar ReflectionInfo = (function () {\n    function ReflectionInfo(annotations, parameters, factory, interfaces, propMetadata) {\n        this.annotations = annotations;\n        this.parameters = parameters;\n        this.factory = factory;\n        this.interfaces = interfaces;\n        this.propMetadata = propMetadata;\n    }\n    return ReflectionInfo;\n}());\nexports.ReflectionInfo = ReflectionInfo;\n/**\n * Provides access to reflection data about symbols. Used internally by Angular\n * to power dependency injection and compilation.\n */\nvar Reflector = (function (_super) {\n    __extends(Reflector, _super);\n    function Reflector(reflectionCapabilities) {\n        _super.call(this);\n        /** @internal */\n        this._injectableInfo = new collection_1.Map();\n        /** @internal */\n        this._getters = new collection_1.Map();\n        /** @internal */\n        this._setters = new collection_1.Map();\n        /** @internal */\n        this._methods = new collection_1.Map();\n        this._usedKeys = null;\n        this.reflectionCapabilities = reflectionCapabilities;\n    }\n    Reflector.prototype.updateCapabilities = function (caps) { this.reflectionCapabilities = caps; };\n    Reflector.prototype.isReflectionEnabled = function () { return this.reflectionCapabilities.isReflectionEnabled(); };\n    /**\n     * Causes `this` reflector to track keys used to access\n     * {@link ReflectionInfo} objects.\n     */\n    Reflector.prototype.trackUsage = function () { this._usedKeys = new collection_1.Set(); };\n    /**\n     * Lists types for which reflection information was not requested since\n     * {@link #trackUsage} was called. This list could later be audited as\n     * potential dead code.\n     */\n    Reflector.prototype.listUnusedKeys = function () {\n        var _this = this;\n        if (this._usedKeys == null) {\n            throw new exceptions_1.BaseException('Usage tracking is disabled');\n        }\n        var allTypes = collection_1.MapWrapper.keys(this._injectableInfo);\n        return allTypes.filter(function (key) { return !collection_1.SetWrapper.has(_this._usedKeys, key); });\n    };\n    Reflector.prototype.registerFunction = function (func, funcInfo) {\n        this._injectableInfo.set(func, funcInfo);\n    };\n    Reflector.prototype.registerType = function (type, typeInfo) {\n        this._injectableInfo.set(type, typeInfo);\n    };\n    Reflector.prototype.registerGetters = function (getters) { _mergeMaps(this._getters, getters); };\n    Reflector.prototype.registerSetters = function (setters) { _mergeMaps(this._setters, setters); };\n    Reflector.prototype.registerMethods = function (methods) { _mergeMaps(this._methods, methods); };\n    Reflector.prototype.factory = function (type) {\n        if (this._containsReflectionInfo(type)) {\n            var res = this._getReflectionInfo(type).factory;\n            return lang_1.isPresent(res) ? res : null;\n        }\n        else {\n            return this.reflectionCapabilities.factory(type);\n        }\n    };\n    Reflector.prototype.parameters = function (typeOrFunc) {\n        if (this._injectableInfo.has(typeOrFunc)) {\n            var res = this._getReflectionInfo(typeOrFunc).parameters;\n            return lang_1.isPresent(res) ? res : [];\n        }\n        else {\n            return this.reflectionCapabilities.parameters(typeOrFunc);\n        }\n    };\n    Reflector.prototype.annotations = function (typeOrFunc) {\n        if (this._injectableInfo.has(typeOrFunc)) {\n            var res = this._getReflectionInfo(typeOrFunc).annotations;\n            return lang_1.isPresent(res) ? res : [];\n        }\n        else {\n            return this.reflectionCapabilities.annotations(typeOrFunc);\n        }\n    };\n    Reflector.prototype.propMetadata = function (typeOrFunc) {\n        if (this._injectableInfo.has(typeOrFunc)) {\n            var res = this._getReflectionInfo(typeOrFunc).propMetadata;\n            return lang_1.isPresent(res) ? res : {};\n        }\n        else {\n            return this.reflectionCapabilities.propMetadata(typeOrFunc);\n        }\n    };\n    Reflector.prototype.interfaces = function (type) {\n        if (this._injectableInfo.has(type)) {\n            var res = this._getReflectionInfo(type).interfaces;\n            return lang_1.isPresent(res) ? res : [];\n        }\n        else {\n            return this.reflectionCapabilities.interfaces(type);\n        }\n    };\n    Reflector.prototype.hasLifecycleHook = function (type, lcInterface, lcProperty) {\n        var interfaces = this.interfaces(type);\n        if (interfaces.indexOf(lcInterface) !== -1) {\n            return true;\n        }\n        else {\n            return this.reflectionCapabilities.hasLifecycleHook(type, lcInterface, lcProperty);\n        }\n    };\n    Reflector.prototype.getter = function (name) {\n        if (this._getters.has(name)) {\n            return this._getters.get(name);\n        }\n        else {\n            return this.reflectionCapabilities.getter(name);\n        }\n    };\n    Reflector.prototype.setter = function (name) {\n        if (this._setters.has(name)) {\n            return this._setters.get(name);\n        }\n        else {\n            return this.reflectionCapabilities.setter(name);\n        }\n    };\n    Reflector.prototype.method = function (name) {\n        if (this._methods.has(name)) {\n            return this._methods.get(name);\n        }\n        else {\n            return this.reflectionCapabilities.method(name);\n        }\n    };\n    /** @internal */\n    Reflector.prototype._getReflectionInfo = function (typeOrFunc) {\n        if (lang_1.isPresent(this._usedKeys)) {\n            this._usedKeys.add(typeOrFunc);\n        }\n        return this._injectableInfo.get(typeOrFunc);\n    };\n    /** @internal */\n    Reflector.prototype._containsReflectionInfo = function (typeOrFunc) { return this._injectableInfo.has(typeOrFunc); };\n    Reflector.prototype.importUri = function (type) { return this.reflectionCapabilities.importUri(type); };\n    return Reflector;\n}(reflector_reader_1.ReflectorReader));\nexports.Reflector = Reflector;\nfunction _mergeMaps(target, config) {\n    collection_1.StringMapWrapper.forEach(config, function (v, k) { return target.set(k, v); });\n}\n//# sourceMappingURL=reflector.js.map"]}