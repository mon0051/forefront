{"version":3,"sources":["reflective_exceptions.js"],"names":[],"mappings":"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","file":"reflective_exceptions-compiled.js","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar collection_1 = require('../facade/collection');\nvar exceptions_1 = require('../facade/exceptions');\nvar lang_1 = require('../facade/lang');\nfunction findFirstClosedCycle(keys) {\n    var res = [];\n    for (var i = 0; i < keys.length; ++i) {\n        if (collection_1.ListWrapper.contains(res, keys[i])) {\n            res.push(keys[i]);\n            return res;\n        }\n        res.push(keys[i]);\n    }\n    return res;\n}\nfunction constructResolvingPath(keys) {\n    if (keys.length > 1) {\n        var reversed = findFirstClosedCycle(collection_1.ListWrapper.reversed(keys));\n        var tokenStrs = reversed.map(function (k) { return lang_1.stringify(k.token); });\n        return ' (' + tokenStrs.join(' -> ') + ')';\n    }\n    return '';\n}\n/**\n * Base class for all errors arising from misconfigured providers.\n * @stable\n */\nvar AbstractProviderError = (function (_super) {\n    __extends(AbstractProviderError, _super);\n    function AbstractProviderError(injector, key, constructResolvingMessage) {\n        _super.call(this, 'DI Exception');\n        this.keys = [key];\n        this.injectors = [injector];\n        this.constructResolvingMessage = constructResolvingMessage;\n        this.message = this.constructResolvingMessage(this.keys);\n    }\n    AbstractProviderError.prototype.addKey = function (injector, key) {\n        this.injectors.push(injector);\n        this.keys.push(key);\n        this.message = this.constructResolvingMessage(this.keys);\n    };\n    Object.defineProperty(AbstractProviderError.prototype, \"context\", {\n        get: function () { return this.injectors[this.injectors.length - 1].debugContext(); },\n        enumerable: true,\n        configurable: true\n    });\n    return AbstractProviderError;\n}(exceptions_1.BaseException));\nexports.AbstractProviderError = AbstractProviderError;\n/**\n * Thrown when trying to retrieve a dependency by `Key` from {@link Injector}, but the\n * {@link Injector} does not have a {@link Provider} for {@link Key}.\n *\n * ### Example ([live demo](http://plnkr.co/edit/vq8D3FRB9aGbnWJqtEPE?p=preview))\n *\n * ```typescript\n * class A {\n *   constructor(b:B) {}\n * }\n *\n * expect(() => Injector.resolveAndCreate([A])).toThrowError();\n * ```\n * @stable\n */\nvar NoProviderError = (function (_super) {\n    __extends(NoProviderError, _super);\n    function NoProviderError(injector, key) {\n        _super.call(this, injector, key, function (keys) {\n            var first = lang_1.stringify(collection_1.ListWrapper.first(keys).token);\n            return \"No provider for \" + first + \"!\" + constructResolvingPath(keys);\n        });\n    }\n    return NoProviderError;\n}(AbstractProviderError));\nexports.NoProviderError = NoProviderError;\n/**\n * Thrown when dependencies form a cycle.\n *\n * ### Example ([live demo](http://plnkr.co/edit/wYQdNos0Tzql3ei1EV9j?p=info))\n *\n * ```typescript\n * var injector = Injector.resolveAndCreate([\n *   {provide: \"one\", useFactory: (two) => \"two\", deps: [[new Inject(\"two\")]]},\n *   {provide: \"two\", useFactory: (one) => \"one\", deps: [[new Inject(\"one\")]]}\n * ]);\n *\n * expect(() => injector.get(\"one\")).toThrowError();\n * ```\n *\n * Retrieving `A` or `B` throws a `CyclicDependencyError` as the graph above cannot be constructed.\n * @stable\n */\nvar CyclicDependencyError = (function (_super) {\n    __extends(CyclicDependencyError, _super);\n    function CyclicDependencyError(injector, key) {\n        _super.call(this, injector, key, function (keys) {\n            return \"Cannot instantiate cyclic dependency!\" + constructResolvingPath(keys);\n        });\n    }\n    return CyclicDependencyError;\n}(AbstractProviderError));\nexports.CyclicDependencyError = CyclicDependencyError;\n/**\n * Thrown when a constructing type returns with an Error.\n *\n * The `InstantiationError` class contains the original error plus the dependency graph which caused\n * this object to be instantiated.\n *\n * ### Example ([live demo](http://plnkr.co/edit/7aWYdcqTQsP0eNqEdUAf?p=preview))\n *\n * ```typescript\n * class A {\n *   constructor() {\n *     throw new Error('message');\n *   }\n * }\n *\n * var injector = Injector.resolveAndCreate([A]);\n\n * try {\n *   injector.get(A);\n * } catch (e) {\n *   expect(e instanceof InstantiationError).toBe(true);\n *   expect(e.originalException.message).toEqual(\"message\");\n *   expect(e.originalStack).toBeDefined();\n * }\n * ```\n * @stable\n */\nvar InstantiationError = (function (_super) {\n    __extends(InstantiationError, _super);\n    function InstantiationError(injector, originalException, originalStack, key) {\n        _super.call(this, 'DI Exception', originalException, originalStack, null);\n        this.keys = [key];\n        this.injectors = [injector];\n    }\n    InstantiationError.prototype.addKey = function (injector, key) {\n        this.injectors.push(injector);\n        this.keys.push(key);\n    };\n    Object.defineProperty(InstantiationError.prototype, \"wrapperMessage\", {\n        get: function () {\n            var first = lang_1.stringify(collection_1.ListWrapper.first(this.keys).token);\n            return \"Error during instantiation of \" + first + \"!\" + constructResolvingPath(this.keys) + \".\";\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(InstantiationError.prototype, \"causeKey\", {\n        get: function () { return this.keys[0]; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(InstantiationError.prototype, \"context\", {\n        get: function () { return this.injectors[this.injectors.length - 1].debugContext(); },\n        enumerable: true,\n        configurable: true\n    });\n    return InstantiationError;\n}(exceptions_1.WrappedException));\nexports.InstantiationError = InstantiationError;\n/**\n * Thrown when an object other then {@link Provider} (or `Type`) is passed to {@link Injector}\n * creation.\n *\n * ### Example ([live demo](http://plnkr.co/edit/YatCFbPAMCL0JSSQ4mvH?p=preview))\n *\n * ```typescript\n * expect(() => Injector.resolveAndCreate([\"not a type\"])).toThrowError();\n * ```\n * @stable\n */\nvar InvalidProviderError = (function (_super) {\n    __extends(InvalidProviderError, _super);\n    function InvalidProviderError(provider) {\n        _super.call(this, \"Invalid provider - only instances of Provider and Type are allowed, got: \" + provider);\n    }\n    return InvalidProviderError;\n}(exceptions_1.BaseException));\nexports.InvalidProviderError = InvalidProviderError;\n/**\n * Thrown when the class has no annotation information.\n *\n * Lack of annotation information prevents the {@link Injector} from determining which dependencies\n * need to be injected into the constructor.\n *\n * ### Example ([live demo](http://plnkr.co/edit/rHnZtlNS7vJOPQ6pcVkm?p=preview))\n *\n * ```typescript\n * class A {\n *   constructor(b) {}\n * }\n *\n * expect(() => Injector.resolveAndCreate([A])).toThrowError();\n * ```\n *\n * This error is also thrown when the class not marked with {@link Injectable} has parameter types.\n *\n * ```typescript\n * class B {}\n *\n * class A {\n *   constructor(b:B) {} // no information about the parameter types of A is available at runtime.\n * }\n *\n * expect(() => Injector.resolveAndCreate([A,B])).toThrowError();\n * ```\n * @stable\n */\nvar NoAnnotationError = (function (_super) {\n    __extends(NoAnnotationError, _super);\n    function NoAnnotationError(typeOrFunc, params) {\n        _super.call(this, NoAnnotationError._genMessage(typeOrFunc, params));\n    }\n    NoAnnotationError._genMessage = function (typeOrFunc, params) {\n        var signature = [];\n        for (var i = 0, ii = params.length; i < ii; i++) {\n            var parameter = params[i];\n            if (lang_1.isBlank(parameter) || parameter.length == 0) {\n                signature.push('?');\n            }\n            else {\n                signature.push(parameter.map(lang_1.stringify).join(' '));\n            }\n        }\n        return 'Cannot resolve all parameters for \\'' + lang_1.stringify(typeOrFunc) + '\\'(' +\n            signature.join(', ') + '). ' +\n            'Make sure that all the parameters are decorated with Inject or have valid type annotations and that \\'' +\n            lang_1.stringify(typeOrFunc) + '\\' is decorated with Injectable.';\n    };\n    return NoAnnotationError;\n}(exceptions_1.BaseException));\nexports.NoAnnotationError = NoAnnotationError;\n/**\n * Thrown when getting an object by index.\n *\n * ### Example ([live demo](http://plnkr.co/edit/bRs0SX2OTQiJzqvjgl8P?p=preview))\n *\n * ```typescript\n * class A {}\n *\n * var injector = Injector.resolveAndCreate([A]);\n *\n * expect(() => injector.getAt(100)).toThrowError();\n * ```\n * @stable\n */\nvar OutOfBoundsError = (function (_super) {\n    __extends(OutOfBoundsError, _super);\n    function OutOfBoundsError(index) {\n        _super.call(this, \"Index \" + index + \" is out-of-bounds.\");\n    }\n    return OutOfBoundsError;\n}(exceptions_1.BaseException));\nexports.OutOfBoundsError = OutOfBoundsError;\n// TODO: add a working example after alpha38 is released\n/**\n * Thrown when a multi provider and a regular provider are bound to the same token.\n *\n * ### Example\n *\n * ```typescript\n * expect(() => Injector.resolveAndCreate([\n *   new Provider(\"Strings\", {useValue: \"string1\", multi: true}),\n *   new Provider(\"Strings\", {useValue: \"string2\", multi: false})\n * ])).toThrowError();\n * ```\n */\nvar MixingMultiProvidersWithRegularProvidersError = (function (_super) {\n    __extends(MixingMultiProvidersWithRegularProvidersError, _super);\n    function MixingMultiProvidersWithRegularProvidersError(provider1, provider2) {\n        _super.call(this, 'Cannot mix multi providers and regular providers, got: ' + provider1.toString() + ' ' +\n            provider2.toString());\n    }\n    return MixingMultiProvidersWithRegularProvidersError;\n}(exceptions_1.BaseException));\nexports.MixingMultiProvidersWithRegularProvidersError = MixingMultiProvidersWithRegularProvidersError;\n//# sourceMappingURL=reflective_exceptions.js.map"]}