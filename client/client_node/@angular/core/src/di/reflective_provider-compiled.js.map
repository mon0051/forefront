{"version":3,"sources":["reflective_provider.js"],"names":[],"mappings":"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","file":"reflective_provider-compiled.js","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\"use strict\";\nvar lang_1 = require('../facade/lang');\nvar collection_1 = require('../facade/collection');\nvar reflection_1 = require('../reflection/reflection');\nvar reflective_key_1 = require('./reflective_key');\nvar metadata_1 = require('./metadata');\nvar reflective_exceptions_1 = require('./reflective_exceptions');\nvar forward_ref_1 = require('./forward_ref');\nvar provider_1 = require('./provider');\nvar provider_util_1 = require('./provider_util');\n/**\n * `Dependency` is used by the framework to extend DI.\n * This is internal to Angular and should not be used directly.\n */\nvar ReflectiveDependency = (function () {\n    function ReflectiveDependency(key, optional, lowerBoundVisibility, upperBoundVisibility, properties) {\n        this.key = key;\n        this.optional = optional;\n        this.lowerBoundVisibility = lowerBoundVisibility;\n        this.upperBoundVisibility = upperBoundVisibility;\n        this.properties = properties;\n    }\n    ReflectiveDependency.fromKey = function (key) {\n        return new ReflectiveDependency(key, false, null, null, []);\n    };\n    return ReflectiveDependency;\n}());\nexports.ReflectiveDependency = ReflectiveDependency;\nvar _EMPTY_LIST = [];\nvar ResolvedReflectiveProvider_ = (function () {\n    function ResolvedReflectiveProvider_(key, resolvedFactories, multiProvider) {\n        this.key = key;\n        this.resolvedFactories = resolvedFactories;\n        this.multiProvider = multiProvider;\n    }\n    Object.defineProperty(ResolvedReflectiveProvider_.prototype, \"resolvedFactory\", {\n        get: function () { return this.resolvedFactories[0]; },\n        enumerable: true,\n        configurable: true\n    });\n    return ResolvedReflectiveProvider_;\n}());\nexports.ResolvedReflectiveProvider_ = ResolvedReflectiveProvider_;\n/**\n * An internal resolved representation of a factory function created by resolving {@link Provider}.\n * @experimental\n */\nvar ResolvedReflectiveFactory = (function () {\n    function ResolvedReflectiveFactory(\n        /**\n         * Factory function which can return an instance of an object represented by a key.\n         */\n        factory, \n        /**\n         * Arguments (dependencies) to the `factory` function.\n         */\n        dependencies) {\n        this.factory = factory;\n        this.dependencies = dependencies;\n    }\n    return ResolvedReflectiveFactory;\n}());\nexports.ResolvedReflectiveFactory = ResolvedReflectiveFactory;\n/**\n * Resolve a single provider.\n */\nfunction resolveReflectiveFactory(provider) {\n    var factoryFn;\n    var resolvedDeps;\n    if (lang_1.isPresent(provider.useClass)) {\n        var useClass = forward_ref_1.resolveForwardRef(provider.useClass);\n        factoryFn = reflection_1.reflector.factory(useClass);\n        resolvedDeps = _dependenciesFor(useClass);\n    }\n    else if (lang_1.isPresent(provider.useExisting)) {\n        factoryFn = function (aliasInstance) { return aliasInstance; };\n        resolvedDeps = [ReflectiveDependency.fromKey(reflective_key_1.ReflectiveKey.get(provider.useExisting))];\n    }\n    else if (lang_1.isPresent(provider.useFactory)) {\n        factoryFn = provider.useFactory;\n        resolvedDeps = constructDependencies(provider.useFactory, provider.dependencies);\n    }\n    else {\n        factoryFn = function () { return provider.useValue; };\n        resolvedDeps = _EMPTY_LIST;\n    }\n    return new ResolvedReflectiveFactory(factoryFn, resolvedDeps);\n}\nexports.resolveReflectiveFactory = resolveReflectiveFactory;\n/**\n * Converts the {@link Provider} into {@link ResolvedProvider}.\n *\n * {@link Injector} internally only uses {@link ResolvedProvider}, {@link Provider} contains\n * convenience provider syntax.\n */\nfunction resolveReflectiveProvider(provider) {\n    return new ResolvedReflectiveProvider_(reflective_key_1.ReflectiveKey.get(provider.token), [resolveReflectiveFactory(provider)], provider.multi);\n}\nexports.resolveReflectiveProvider = resolveReflectiveProvider;\n/**\n * Resolve a list of Providers.\n */\nfunction resolveReflectiveProviders(providers) {\n    var normalized = _normalizeProviders(providers, []);\n    var resolved = normalized.map(resolveReflectiveProvider);\n    return collection_1.MapWrapper.values(mergeResolvedReflectiveProviders(resolved, new Map()));\n}\nexports.resolveReflectiveProviders = resolveReflectiveProviders;\n/**\n * Merges a list of ResolvedProviders into a list where\n * each key is contained exactly once and multi providers\n * have been merged.\n */\nfunction mergeResolvedReflectiveProviders(providers, normalizedProvidersMap) {\n    for (var i = 0; i < providers.length; i++) {\n        var provider = providers[i];\n        var existing = normalizedProvidersMap.get(provider.key.id);\n        if (lang_1.isPresent(existing)) {\n            if (provider.multiProvider !== existing.multiProvider) {\n                throw new reflective_exceptions_1.MixingMultiProvidersWithRegularProvidersError(existing, provider);\n            }\n            if (provider.multiProvider) {\n                for (var j = 0; j < provider.resolvedFactories.length; j++) {\n                    existing.resolvedFactories.push(provider.resolvedFactories[j]);\n                }\n            }\n            else {\n                normalizedProvidersMap.set(provider.key.id, provider);\n            }\n        }\n        else {\n            var resolvedProvider;\n            if (provider.multiProvider) {\n                resolvedProvider = new ResolvedReflectiveProvider_(provider.key, collection_1.ListWrapper.clone(provider.resolvedFactories), provider.multiProvider);\n            }\n            else {\n                resolvedProvider = provider;\n            }\n            normalizedProvidersMap.set(provider.key.id, resolvedProvider);\n        }\n    }\n    return normalizedProvidersMap;\n}\nexports.mergeResolvedReflectiveProviders = mergeResolvedReflectiveProviders;\nfunction _normalizeProviders(providers, res) {\n    providers.forEach(function (b) {\n        if (b instanceof lang_1.Type) {\n            res.push(provider_1.provide(b, { useClass: b }));\n        }\n        else if (b instanceof provider_1.Provider) {\n            res.push(b);\n        }\n        else if (provider_util_1.isProviderLiteral(b)) {\n            res.push(provider_util_1.createProvider(b));\n        }\n        else if (b instanceof Array) {\n            _normalizeProviders(b, res);\n        }\n        else if (b instanceof provider_1.ProviderBuilder) {\n            throw new reflective_exceptions_1.InvalidProviderError(b.token);\n        }\n        else {\n            throw new reflective_exceptions_1.InvalidProviderError(b);\n        }\n    });\n    return res;\n}\nfunction constructDependencies(typeOrFunc, dependencies) {\n    if (lang_1.isBlank(dependencies)) {\n        return _dependenciesFor(typeOrFunc);\n    }\n    else {\n        var params = dependencies.map(function (t) { return [t]; });\n        return dependencies.map(function (t) { return _extractToken(typeOrFunc, t, params); });\n    }\n}\nexports.constructDependencies = constructDependencies;\nfunction _dependenciesFor(typeOrFunc) {\n    var params = reflection_1.reflector.parameters(typeOrFunc);\n    if (lang_1.isBlank(params))\n        return [];\n    if (params.some(lang_1.isBlank)) {\n        throw new reflective_exceptions_1.NoAnnotationError(typeOrFunc, params);\n    }\n    return params.map(function (p) { return _extractToken(typeOrFunc, p, params); });\n}\nfunction _extractToken(typeOrFunc /** TODO #9100 */, metadata /** TODO #9100 */ /*any[] | any*/, params) {\n    var depProps = [];\n    var token = null;\n    var optional = false;\n    if (!lang_1.isArray(metadata)) {\n        if (metadata instanceof metadata_1.InjectMetadata) {\n            return _createDependency(metadata.token, optional, null, null, depProps);\n        }\n        else {\n            return _createDependency(metadata, optional, null, null, depProps);\n        }\n    }\n    var lowerBoundVisibility = null;\n    var upperBoundVisibility = null;\n    for (var i = 0; i < metadata.length; ++i) {\n        var paramMetadata = metadata[i];\n        if (paramMetadata instanceof lang_1.Type) {\n            token = paramMetadata;\n        }\n        else if (paramMetadata instanceof metadata_1.InjectMetadata) {\n            token = paramMetadata.token;\n        }\n        else if (paramMetadata instanceof metadata_1.OptionalMetadata) {\n            optional = true;\n        }\n        else if (paramMetadata instanceof metadata_1.SelfMetadata) {\n            upperBoundVisibility = paramMetadata;\n        }\n        else if (paramMetadata instanceof metadata_1.HostMetadata) {\n            upperBoundVisibility = paramMetadata;\n        }\n        else if (paramMetadata instanceof metadata_1.SkipSelfMetadata) {\n            lowerBoundVisibility = paramMetadata;\n        }\n        else if (paramMetadata instanceof metadata_1.DependencyMetadata) {\n            if (lang_1.isPresent(paramMetadata.token)) {\n                token = paramMetadata.token;\n            }\n            depProps.push(paramMetadata);\n        }\n    }\n    token = forward_ref_1.resolveForwardRef(token);\n    if (lang_1.isPresent(token)) {\n        return _createDependency(token, optional, lowerBoundVisibility, upperBoundVisibility, depProps);\n    }\n    else {\n        throw new reflective_exceptions_1.NoAnnotationError(typeOrFunc, params);\n    }\n}\nfunction _createDependency(token /** TODO #9100 */, optional /** TODO #9100 */, lowerBoundVisibility /** TODO #9100 */, upperBoundVisibility /** TODO #9100 */, depProps /** TODO #9100 */) {\n    return new ReflectiveDependency(reflective_key_1.ReflectiveKey.get(token), optional, lowerBoundVisibility, upperBoundVisibility, depProps);\n}\n//# sourceMappingURL=reflective_provider.js.map"]}