{"version":3,"sources":["application_ref.js"],"names":[],"mappings":"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","file":"application_ref-compiled.js","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar async_1 = require('../src/facade/async');\nvar collection_1 = require('../src/facade/collection');\nvar exceptions_1 = require('../src/facade/exceptions');\nvar lang_1 = require('../src/facade/lang');\nvar application_tokens_1 = require('./application_tokens');\nvar console_1 = require('./console');\nvar di_1 = require('./di');\nvar component_resolver_1 = require('./linker/component_resolver');\nvar profile_1 = require('./profile/profile');\nvar testability_1 = require('./testability/testability');\nvar ng_zone_1 = require('./zone/ng_zone');\n/**\n * Create an Angular zone.\n * @experimental\n */\nfunction createNgZone() {\n    return new ng_zone_1.NgZone({ enableLongStackTrace: isDevMode() });\n}\nexports.createNgZone = createNgZone;\nvar _devMode = true;\nvar _runModeLocked = false;\nvar _platform;\nvar _inPlatformCreate = false;\n/**\n * Disable Angular's development mode, which turns off assertions and other\n * checks within the framework.\n *\n * One important assertion this disables verifies that a change detection pass\n * does not result in additional changes to any bindings (also known as\n * unidirectional data flow).\n *\n * @experimental APIs related to application bootstrap are currently under review.\n */\nfunction enableProdMode() {\n    if (_runModeLocked) {\n        // Cannot use BaseException as that ends up importing from facade/lang.\n        throw new exceptions_1.BaseException('Cannot enable prod mode after platform setup.');\n    }\n    _devMode = false;\n}\nexports.enableProdMode = enableProdMode;\n/**\n * Returns whether Angular is in development mode.\n * This can only be read after `lockRunMode` has been called.\n *\n * By default, this is true, unless a user calls `enableProdMode`.\n *\n * @experimental APIs related to application bootstrap are currently under review.\n */\nfunction isDevMode() {\n    if (!_runModeLocked) {\n        throw new exceptions_1.BaseException(\"Dev mode can't be read before bootstrap!\");\n    }\n    return _devMode;\n}\nexports.isDevMode = isDevMode;\n/**\n * Locks the run mode of Angular. After this has been called,\n * it can't be changed any more. I.e. `isDevMode()` will always\n * return the same value.\n *\n * @experimental APIs related to application bootstrap are currently under review.\n */\nfunction lockRunMode() {\n    _runModeLocked = true;\n}\nexports.lockRunMode = lockRunMode;\n/**\n * Creates a platform.\n * Platforms have to be eagerly created via this function.\n *\n * @experimental APIs related to application bootstrap are currently under review.\n */\nfunction createPlatform(injector) {\n    if (_inPlatformCreate) {\n        throw new exceptions_1.BaseException('Already creating a platform...');\n    }\n    if (lang_1.isPresent(_platform) && !_platform.disposed) {\n        throw new exceptions_1.BaseException('There can be only one platform. Destroy the previous one to create a new one.');\n    }\n    lockRunMode();\n    _inPlatformCreate = true;\n    try {\n        _platform = injector.get(PlatformRef);\n    }\n    finally {\n        _inPlatformCreate = false;\n    }\n    return _platform;\n}\nexports.createPlatform = createPlatform;\n/**\n * Checks that there currently is a platform\n * which contains the given token as a provider.\n *\n * @experimental APIs related to application bootstrap are currently under review.\n */\nfunction assertPlatform(requiredToken) {\n    var platform = getPlatform();\n    if (lang_1.isBlank(platform)) {\n        throw new exceptions_1.BaseException('No platform exists!');\n    }\n    if (lang_1.isPresent(platform) && lang_1.isBlank(platform.injector.get(requiredToken, null))) {\n        throw new exceptions_1.BaseException('A platform with a different configuration has been created. Please destroy it first.');\n    }\n    return platform;\n}\nexports.assertPlatform = assertPlatform;\n/**\n * Dispose the existing platform.\n *\n * @experimental APIs related to application bootstrap are currently under review.\n */\nfunction disposePlatform() {\n    if (lang_1.isPresent(_platform) && !_platform.disposed) {\n        _platform.dispose();\n    }\n}\nexports.disposePlatform = disposePlatform;\n/**\n * Returns the current platform.\n *\n * @experimental APIs related to application bootstrap are currently under review.\n */\nfunction getPlatform() {\n    return lang_1.isPresent(_platform) && !_platform.disposed ? _platform : null;\n}\nexports.getPlatform = getPlatform;\n/**\n * Shortcut for ApplicationRef.bootstrap.\n * Requires a platform to be created first.\n *\n * @experimental APIs related to application bootstrap are currently under review.\n */\nfunction coreBootstrap(componentFactory, injector) {\n    var appRef = injector.get(ApplicationRef);\n    return appRef.bootstrap(componentFactory);\n}\nexports.coreBootstrap = coreBootstrap;\n/**\n * Resolves the componentFactory for the given component,\n * waits for asynchronous initializers and bootstraps the component.\n * Requires a platform to be created first.\n *\n * @experimental APIs related to application bootstrap are currently under review.\n */\nfunction coreLoadAndBootstrap(componentType, injector) {\n    var appRef = injector.get(ApplicationRef);\n    return appRef.run(function () {\n        var componentResolver = injector.get(component_resolver_1.ComponentResolver);\n        return async_1.PromiseWrapper\n            .all([componentResolver.resolveComponent(componentType), appRef.waitForAsyncInitializers()])\n            .then(function (arr) { return appRef.bootstrap(arr[0]); });\n    });\n}\nexports.coreLoadAndBootstrap = coreLoadAndBootstrap;\n/**\n * The Angular platform is the entry point for Angular on a web page. Each page\n * has exactly one platform, and services (such as reflection) which are common\n * to every Angular application running on the page are bound in its scope.\n *\n * A page's platform is initialized implicitly when {@link bootstrap}() is called, or\n * explicitly by calling {@link createPlatform}().\n *\n * @experimental APIs related to application bootstrap are currently under review.\n */\nvar PlatformRef = (function () {\n    function PlatformRef() {\n    }\n    Object.defineProperty(PlatformRef.prototype, \"injector\", {\n        /**\n         * Retrieve the platform {@link Injector}, which is the parent injector for\n         * every Angular application on the page and provides singleton providers.\n         */\n        get: function () { throw exceptions_1.unimplemented(); },\n        enumerable: true,\n        configurable: true\n    });\n    ;\n    Object.defineProperty(PlatformRef.prototype, \"disposed\", {\n        get: function () { throw exceptions_1.unimplemented(); },\n        enumerable: true,\n        configurable: true\n    });\n    return PlatformRef;\n}());\nexports.PlatformRef = PlatformRef;\nvar PlatformRef_ = (function (_super) {\n    __extends(PlatformRef_, _super);\n    function PlatformRef_(_injector) {\n        _super.call(this);\n        this._injector = _injector;\n        /** @internal */\n        this._applications = [];\n        /** @internal */\n        this._disposeListeners = [];\n        this._disposed = false;\n        if (!_inPlatformCreate) {\n            throw new exceptions_1.BaseException('Platforms have to be created via `createPlatform`!');\n        }\n        var inits = _injector.get(application_tokens_1.PLATFORM_INITIALIZER, null);\n        if (lang_1.isPresent(inits))\n            inits.forEach(function (init) { return init(); });\n    }\n    PlatformRef_.prototype.registerDisposeListener = function (dispose) { this._disposeListeners.push(dispose); };\n    Object.defineProperty(PlatformRef_.prototype, \"injector\", {\n        get: function () { return this._injector; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PlatformRef_.prototype, \"disposed\", {\n        get: function () { return this._disposed; },\n        enumerable: true,\n        configurable: true\n    });\n    PlatformRef_.prototype.addApplication = function (appRef) { this._applications.push(appRef); };\n    PlatformRef_.prototype.dispose = function () {\n        collection_1.ListWrapper.clone(this._applications).forEach(function (app) { return app.dispose(); });\n        this._disposeListeners.forEach(function (dispose) { return dispose(); });\n        this._disposed = true;\n    };\n    /** @internal */\n    PlatformRef_.prototype._applicationDisposed = function (app) { collection_1.ListWrapper.remove(this._applications, app); };\n    /** @nocollapse */\n    PlatformRef_.decorators = [\n        { type: di_1.Injectable },\n    ];\n    /** @nocollapse */\n    PlatformRef_.ctorParameters = [\n        { type: di_1.Injector, },\n    ];\n    return PlatformRef_;\n}(PlatformRef));\nexports.PlatformRef_ = PlatformRef_;\n/**\n * A reference to an Angular application running on a page.\n *\n * For more about Angular applications, see the documentation for {@link bootstrap}.\n *\n * @experimental APIs related to application bootstrap are currently under review.\n */\nvar ApplicationRef = (function () {\n    function ApplicationRef() {\n    }\n    Object.defineProperty(ApplicationRef.prototype, \"injector\", {\n        /**\n         * Retrieve the application {@link Injector}.\n         */\n        get: function () { return exceptions_1.unimplemented(); },\n        enumerable: true,\n        configurable: true\n    });\n    ;\n    Object.defineProperty(ApplicationRef.prototype, \"zone\", {\n        /**\n         * Retrieve the application {@link NgZone}.\n         */\n        get: function () { return exceptions_1.unimplemented(); },\n        enumerable: true,\n        configurable: true\n    });\n    ;\n    Object.defineProperty(ApplicationRef.prototype, \"componentTypes\", {\n        /**\n         * Get a list of component types registered to this application.\n         */\n        get: function () { return exceptions_1.unimplemented(); },\n        enumerable: true,\n        configurable: true\n    });\n    ;\n    return ApplicationRef;\n}());\nexports.ApplicationRef = ApplicationRef;\nvar ApplicationRef_ = (function (_super) {\n    __extends(ApplicationRef_, _super);\n    function ApplicationRef_(_platform, _zone, _injector) {\n        var _this = this;\n        _super.call(this);\n        this._platform = _platform;\n        this._zone = _zone;\n        this._injector = _injector;\n        /** @internal */\n        this._bootstrapListeners = [];\n        /** @internal */\n        this._disposeListeners = [];\n        /** @internal */\n        this._rootComponents = [];\n        /** @internal */\n        this._rootComponentTypes = [];\n        /** @internal */\n        this._changeDetectorRefs = [];\n        /** @internal */\n        this._runningTick = false;\n        /** @internal */\n        this._enforceNoNewChanges = false;\n        var zone = _injector.get(ng_zone_1.NgZone);\n        this._enforceNoNewChanges = isDevMode();\n        zone.run(function () { _this._exceptionHandler = _injector.get(exceptions_1.ExceptionHandler); });\n        this._asyncInitDonePromise = this.run(function () {\n            var inits = _injector.get(application_tokens_1.APP_INITIALIZER, null);\n            var asyncInitResults = [];\n            var asyncInitDonePromise;\n            if (lang_1.isPresent(inits)) {\n                for (var i = 0; i < inits.length; i++) {\n                    var initResult = inits[i]();\n                    if (lang_1.isPromise(initResult)) {\n                        asyncInitResults.push(initResult);\n                    }\n                }\n            }\n            if (asyncInitResults.length > 0) {\n                asyncInitDonePromise =\n                    async_1.PromiseWrapper.all(asyncInitResults).then(function (_) { return _this._asyncInitDone = true; });\n                _this._asyncInitDone = false;\n            }\n            else {\n                _this._asyncInitDone = true;\n                asyncInitDonePromise = async_1.PromiseWrapper.resolve(true);\n            }\n            return asyncInitDonePromise;\n        });\n        async_1.ObservableWrapper.subscribe(zone.onError, function (error) {\n            _this._exceptionHandler.call(error.error, error.stackTrace);\n        });\n        async_1.ObservableWrapper.subscribe(this._zone.onMicrotaskEmpty, function (_) { _this._zone.run(function () { _this.tick(); }); });\n    }\n    ApplicationRef_.prototype.registerBootstrapListener = function (listener) {\n        this._bootstrapListeners.push(listener);\n    };\n    ApplicationRef_.prototype.registerDisposeListener = function (dispose) { this._disposeListeners.push(dispose); };\n    ApplicationRef_.prototype.registerChangeDetector = function (changeDetector) {\n        this._changeDetectorRefs.push(changeDetector);\n    };\n    ApplicationRef_.prototype.unregisterChangeDetector = function (changeDetector) {\n        collection_1.ListWrapper.remove(this._changeDetectorRefs, changeDetector);\n    };\n    ApplicationRef_.prototype.waitForAsyncInitializers = function () { return this._asyncInitDonePromise; };\n    ApplicationRef_.prototype.run = function (callback) {\n        var _this = this;\n        var zone = this.injector.get(ng_zone_1.NgZone);\n        var result;\n        // Note: Don't use zone.runGuarded as we want to know about\n        // the thrown exception!\n        // Note: the completer needs to be created outside\n        // of `zone.run` as Dart swallows rejected promises\n        // via the onError callback of the promise.\n        var completer = async_1.PromiseWrapper.completer();\n        zone.run(function () {\n            try {\n                result = callback();\n                if (lang_1.isPromise(result)) {\n                    async_1.PromiseWrapper.then(result, function (ref) { completer.resolve(ref); }, function (err, stackTrace) {\n                        completer.reject(err, stackTrace);\n                        _this._exceptionHandler.call(err, stackTrace);\n                    });\n                }\n            }\n            catch (e) {\n                _this._exceptionHandler.call(e, e.stack);\n                throw e;\n            }\n        });\n        return lang_1.isPromise(result) ? completer.promise : result;\n    };\n    ApplicationRef_.prototype.bootstrap = function (componentFactory) {\n        var _this = this;\n        if (!this._asyncInitDone) {\n            throw new exceptions_1.BaseException('Cannot bootstrap as there are still asynchronous initializers running. Wait for them using waitForAsyncInitializers().');\n        }\n        return this.run(function () {\n            _this._rootComponentTypes.push(componentFactory.componentType);\n            var compRef = componentFactory.create(_this._injector, [], componentFactory.selector);\n            compRef.onDestroy(function () { _this._unloadComponent(compRef); });\n            var testability = compRef.injector.get(testability_1.Testability, null);\n            if (lang_1.isPresent(testability)) {\n                compRef.injector.get(testability_1.TestabilityRegistry)\n                    .registerApplication(compRef.location.nativeElement, testability);\n            }\n            _this._loadComponent(compRef);\n            var c = _this._injector.get(console_1.Console);\n            if (isDevMode()) {\n                var prodDescription = lang_1.IS_DART ? 'Production mode is disabled in Dart.' :\n                    'Call enableProdMode() to enable the production mode.';\n                c.log(\"Angular 2 is running in the development mode. \" + prodDescription);\n            }\n            return compRef;\n        });\n    };\n    /** @internal */\n    ApplicationRef_.prototype._loadComponent = function (componentRef) {\n        this._changeDetectorRefs.push(componentRef.changeDetectorRef);\n        this.tick();\n        this._rootComponents.push(componentRef);\n        this._bootstrapListeners.forEach(function (listener) { return listener(componentRef); });\n    };\n    /** @internal */\n    ApplicationRef_.prototype._unloadComponent = function (componentRef) {\n        if (!collection_1.ListWrapper.contains(this._rootComponents, componentRef)) {\n            return;\n        }\n        this.unregisterChangeDetector(componentRef.changeDetectorRef);\n        collection_1.ListWrapper.remove(this._rootComponents, componentRef);\n    };\n    Object.defineProperty(ApplicationRef_.prototype, \"injector\", {\n        get: function () { return this._injector; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ApplicationRef_.prototype, \"zone\", {\n        get: function () { return this._zone; },\n        enumerable: true,\n        configurable: true\n    });\n    ApplicationRef_.prototype.tick = function () {\n        if (this._runningTick) {\n            throw new exceptions_1.BaseException('ApplicationRef.tick is called recursively');\n        }\n        var s = ApplicationRef_._tickScope();\n        try {\n            this._runningTick = true;\n            this._changeDetectorRefs.forEach(function (detector) { return detector.detectChanges(); });\n            if (this._enforceNoNewChanges) {\n                this._changeDetectorRefs.forEach(function (detector) { return detector.checkNoChanges(); });\n            }\n        }\n        finally {\n            this._runningTick = false;\n            profile_1.wtfLeave(s);\n        }\n    };\n    ApplicationRef_.prototype.dispose = function () {\n        // TODO(alxhub): Dispose of the NgZone.\n        collection_1.ListWrapper.clone(this._rootComponents).forEach(function (ref) { return ref.destroy(); });\n        this._disposeListeners.forEach(function (dispose) { return dispose(); });\n        this._platform._applicationDisposed(this);\n    };\n    Object.defineProperty(ApplicationRef_.prototype, \"componentTypes\", {\n        get: function () { return this._rootComponentTypes; },\n        enumerable: true,\n        configurable: true\n    });\n    /** @internal */\n    ApplicationRef_._tickScope = profile_1.wtfCreateScope('ApplicationRef#tick()');\n    /** @nocollapse */\n    ApplicationRef_.decorators = [\n        { type: di_1.Injectable },\n    ];\n    /** @nocollapse */\n    ApplicationRef_.ctorParameters = [\n        { type: PlatformRef_, },\n        { type: ng_zone_1.NgZone, },\n        { type: di_1.Injector, },\n    ];\n    return ApplicationRef_;\n}(ApplicationRef));\nexports.ApplicationRef_ = ApplicationRef_;\nexports.PLATFORM_CORE_PROVIDERS = \n/*@ts2dart_const*/ [\n    PlatformRef_,\n    /*@ts2dart_const*/ (\n    /* @ts2dart_Provider */ { provide: PlatformRef, useExisting: PlatformRef_ })\n];\nexports.APPLICATION_CORE_PROVIDERS = [\n    /* @ts2dart_Provider */ { provide: ng_zone_1.NgZone, useFactory: createNgZone, deps: [] },\n    ApplicationRef_,\n    /* @ts2dart_Provider */ { provide: ApplicationRef, useExisting: ApplicationRef_ },\n];\n//# sourceMappingURL=application_ref.js.map"]}