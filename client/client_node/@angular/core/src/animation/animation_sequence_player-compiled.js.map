{"version":3,"sources":["animation_sequence_player.js"],"names":[],"mappings":"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","file":"animation_sequence_player-compiled.js","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\"use strict\";\nvar lang_1 = require('../facade/lang');\nvar animation_player_1 = require('./animation_player');\nvar AnimationSequencePlayer = (function () {\n    function AnimationSequencePlayer(_players) {\n        var _this = this;\n        this._players = _players;\n        this._currentIndex = 0;\n        this._subscriptions = [];\n        this._finished = false;\n        this.parentPlayer = null;\n        this._players.forEach(function (player) { player.parentPlayer = _this; });\n        this._onNext(false);\n    }\n    AnimationSequencePlayer.prototype._onNext = function (start) {\n        var _this = this;\n        if (this._finished)\n            return;\n        if (this._players.length == 0) {\n            this._activePlayer = new animation_player_1.NoOpAnimationPlayer();\n            lang_1.scheduleMicroTask(function () { return _this._onFinish(); });\n        }\n        else if (this._currentIndex >= this._players.length) {\n            this._activePlayer = new animation_player_1.NoOpAnimationPlayer();\n            this._onFinish();\n        }\n        else {\n            var player = this._players[this._currentIndex++];\n            player.onDone(function () { return _this._onNext(true); });\n            this._activePlayer = player;\n            if (start) {\n                player.play();\n            }\n        }\n    };\n    AnimationSequencePlayer.prototype._onFinish = function () {\n        if (!this._finished) {\n            this._finished = true;\n            if (!lang_1.isPresent(this.parentPlayer)) {\n                this.destroy();\n            }\n            this._subscriptions.forEach(function (subscription) { return subscription(); });\n            this._subscriptions = [];\n        }\n    };\n    AnimationSequencePlayer.prototype.onDone = function (fn) { this._subscriptions.push(fn); };\n    AnimationSequencePlayer.prototype.play = function () { this._activePlayer.play(); };\n    AnimationSequencePlayer.prototype.pause = function () { this._activePlayer.pause(); };\n    AnimationSequencePlayer.prototype.restart = function () {\n        if (this._players.length > 0) {\n            this.reset();\n            this._players[0].restart();\n        }\n    };\n    AnimationSequencePlayer.prototype.reset = function () { this._players.forEach(function (player) { return player.reset(); }); };\n    AnimationSequencePlayer.prototype.finish = function () {\n        this._onFinish();\n        this._players.forEach(function (player) { return player.finish(); });\n    };\n    AnimationSequencePlayer.prototype.destroy = function () {\n        this._onFinish();\n        this._players.forEach(function (player) { return player.destroy(); });\n    };\n    AnimationSequencePlayer.prototype.setPosition = function (p /** TODO #9100 */) { this._players[0].setPosition(p); };\n    AnimationSequencePlayer.prototype.getPosition = function () { return this._players[0].getPosition(); };\n    return AnimationSequencePlayer;\n}());\nexports.AnimationSequencePlayer = AnimationSequencePlayer;\n//# sourceMappingURL=animation_sequence_player.js.map"]}